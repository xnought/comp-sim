var ql=Object.defineProperty;var Xl=(t,e,n)=>e in t?ql(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fr=(t,e,n)=>Xl(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ee(){}function rs(t){return t()}function Bi(){return Object.create(null)}function wn(t){t.forEach(rs)}function is(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Kl(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function oe(t,e,n){t.insertBefore(e,n||null)}function re(t){t.parentNode&&t.parentNode.removeChild(t)}function Zl(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function G(t){return document.createTextNode(t)}function A(){return G(" ")}function os(){return G("")}function _n(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ie(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ql(t){return Array.from(t.childNodes)}function ze(t,e){e=""+e,t.data!==e&&(t.data=e)}function I(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Jr;function sn(t){Jr=t}const $t=[],Mr=[];let Tt=[];const Fi=[],Jl=Promise.resolve();let $r=!1;function ea(){$r||($r=!0,Jl.then(ss))}function Cr(t){Tt.push(t)}const dr=new Set;let xt=0;function ss(){if(xt!==0)return;const t=Jr;do{try{for(;xt<$t.length;){const e=$t[xt];xt++,sn(e),ta(e.$$)}}catch(e){throw $t.length=0,xt=0,e}for(sn(null),$t.length=0,xt=0;Mr.length;)Mr.pop()();for(let e=0;e<Tt.length;e+=1){const n=Tt[e];dr.has(n)||(dr.add(n),n())}Tt.length=0}while($t.length);for(;Fi.length;)Fi.pop()();$r=!1,dr.clear(),sn(t)}function ta(t){if(t.fragment!==null){t.update(),wn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Cr)}}function na(t){const e=[],n=[];Tt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Tt=e}const Dn=new Set;let pt;function ra(){pt={r:0,c:[],p:pt}}function ia(){pt.r||wn(pt.c),pt=pt.p}function ke(t,e){t&&t.i&&(Dn.delete(t),t.i(e))}function Oe(t,e,n,r){if(t&&t.o){if(Dn.has(t))return;Dn.add(t),pt.c.push(()=>{Dn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Vi(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function je(t){t&&t.c()}function Re(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Cr(()=>{const o=t.$$.on_mount.map(rs).filter(is);t.$$.on_destroy?t.$$.on_destroy.push(...o):wn(o),t.$$.on_mount=[]}),i.forEach(Cr)}function De(t,e){const n=t.$$;n.fragment!==null&&(na(n.after_update),wn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function oa(t,e){t.$$.dirty[0]===-1&&($t.push(t),ea(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,r,i,o,s=null,l=[-1]){const a=Jr;sn(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Ee,not_equal:i,bound:Bi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Bi(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&oa(t,h)),f}):[],u.update(),c=!0,wn(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Ql(e.target);u.fragment&&u.fragment.l(h),h.forEach(re)}else u.fragment&&u.fragment.c();e.intro&&ke(t.$$.fragment),Re(t,e.target,e.anchor),ss()}sn(a)}let ut=class{constructor(){fr(this,"$$");fr(this,"$$set")}$destroy(){De(this,1),this.$destroy=Ee}$on(e,n){if(!is(n))return Ee;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Kl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};const sa="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sa);class wt{constructor(){this.in=[],this.out=[],this.data=0,this.name="switch",this.on=!0}switchOn(){this.on=!0}switchOff(){this.on=!1}}class ot{constructor(){this.in=[],this.out=[],this.data=0,this.name="power"}}class vn{constructor(){this.in=[],this.out=[],this.data=0,this.name="signal"}}class Lt{constructor(){this.in=[],this.out=[],this.data=0,this.name="wire"}}class bn{constructor(e,n,r){this.source=e,this.signal=n,this.other=r}resetNodeIds(){this.signal.nodeId=void 0;for(const e of this.other)e.nodeId=void 0;this.source.nodeId=void 0}reset(){this.signal.data=0,this.signal.nodeId=void 0;for(const e of this.other)e.data=0,e.closest=1/0,e.nodeId=void 0;this.source.nodeId=void 0}precomputeDistances(){function e(n){if(n instanceof ot)return 0;if(n instanceof wt&&!n.on||n.out.length===0)return 1/0;let r=[];for(const i of n.out)r.push(e(i));return(n instanceof wt?0:1)+Math.min(...r)}for(const n of this.other)n.closest=e(n);this.signal.closest=e(this.signal)}connect(e,n){e.out.push(n),n.in.push(e)}simulate(){function e(n){if(n.in.length===0||n instanceof wt&&!n.on||n.out.length===0)return;n.data=1;let r=n.out[0];for(const i of n.out)i instanceof ot||i.closest<=r.closest&&(r=i);r instanceof ot||e(r)}this.reset(),this.precomputeDistances(),e(this.source)}}function la(){const t=new ot,e=new vn,n=new Lt,r=new bn(t,e,[n]);return r.connect(t,n),r.connect(n,e),r.simulate(),r}function aa(){const t=new ot,e=new vn,n=new Lt,r=new wt,i=new Lt,o=new bn(t,e,[n,r,i]);return o.connect(t,r),o.connect(r,n),o.connect(n,e),o.connect(e,i),o.connect(i,t),r.switchOn(),o.simulate(),o}function ua(){const t=new ot,e=new vn,n=Array(2).fill(0).map(()=>new Lt),r=new wt,i=new bn(t,e,[...n,r]);return i.connect(t,n[0]),i.connect(n[0],e),i.connect(e,n[1]),i.connect(n[1],t),i.connect(n[0],r),i.connect(r,n[1]),i.simulate(),i}function Wi(t=!0,e=!0){const n=new ot,r=new vn,i=Array(4).fill(0).map(()=>new Lt),o=Array(2).fill(0).map(()=>new wt),s=new bn(n,r,[...i,...o]);return s.connect(n,i[0]),s.connect(i[0],r),s.connect(r,i[1]),s.connect(i[1],n),s.connect(i[0],o[0]),s.connect(o[0],o[1]),s.connect(o[1],i[1]),t||o[0].switchOff(),e||o[1].switchOff(),s.simulate(),s}class ca{constructor(){this.battery=new ot,this.light=new vn,this.wires=Array(4).fill(0).map(()=>new Lt),this.switches=Array(2).fill(0).map(()=>new wt),this.circuit=new bn(this.battery,this.light,[...this.wires,...this.switches]),this.circuit.connect(this.battery,this.wires[0]),this.circuit.connect(this.wires[0],this.light),this.circuit.connect(this.light,this.wires[1]),this.circuit.connect(this.wires[1],this.battery),this.circuit.connect(this.wires[0],this.switches[0]),this.circuit.connect(this.switches[0],this.switches[1]),this.circuit.connect(this.switches[1],this.wires[1])}call(e,n){return this.circuit.reset(),this.switches[0].on=e,this.switches[1].on=n,this.circuit.simulate(),this.circuit.signal.data}}const ha=new ca;function ie(t){return{name:"INPUT",in:t,value:t}}function yn(t,e){return{name:"NAND",in:[t,e],value:ha.call(t.value,e.value)}}function Tr(t){const e=yn(t,t);return{name:"NOT",in:t,out:e,value:e.value}}function ln(t,e){const n=Tr(yn(t,e));return{name:"AND",in:[t,e],out:n,value:n.value}}function Sr(t,e){const n=yn(Tr(t),Tr(e));return{name:"OR",in:[t,e],out:n,value:n.value}}function Ir(t,e){const n=ln(Sr(t,e),yn(t,e));return{name:"XOR",in:[t,e],out:n,value:n.value}}function rt(t){return t.value}function fa(t,e){const n=Ir(t,e),r=ln(t,e);return[{name:"HALFADDER",in:[t,e],out:n,value:n.value},{name:"HALFADDER_CARRY",in:[t,e],out:r,value:r.value}]}function da(t,e,n){const r=Ir(Ir(t,e),n),i=Sr(Sr(ln(t,e),ln(t,n)),ln(e,n));return[{name:"FULLADDER",in:[t,e,n],out:r,value:r.value},{name:"FULLADDER_CARRY",in:[t,e,n],out:i,value:i.value}]}function pa(t,e){const n=t.length;let r=Array(n);const i=fa(t[n-1],e[n-1]);r[n-1]=i;for(let o=n-2;o>=0;o--){const s=t[o],l=e[o],a=r[o+1][1],u=da(s,l,a);r[o]=u}return r}function ga(t){return[t.map(e=>e[0].value),t[0][1].value]}function ma(t){let e,n,r=rt(t[0](ie(0),ie(0)))+"",i,o,s,l,a=rt(t[0](ie(0),ie(1)))+"",u,c,h,f,d=rt(t[0](ie(1),ie(0)))+"",p,_,y,$,k=rt(t[0](ie(1),ie(1)))+"",b;return{c(){e=x("div"),n=G("0,0 → "),i=G(r),o=A(),s=x("div"),l=G("0,1 → "),u=G(a),c=A(),h=x("div"),f=G("1,0 → "),p=G(d),_=A(),y=x("div"),$=G("1,1 → "),b=G(k)},m(w,v){oe(w,e,v),m(e,n),m(e,i),oe(w,o,v),oe(w,s,v),m(s,l),m(s,u),oe(w,c,v),oe(w,h,v),m(h,f),m(h,p),oe(w,_,v),oe(w,y,v),m(y,$),m(y,b)},p(w,[v]){v&1&&r!==(r=rt(w[0](ie(0),ie(0)))+"")&&ze(i,r),v&1&&a!==(a=rt(w[0](ie(0),ie(1)))+"")&&ze(u,a),v&1&&d!==(d=rt(w[0](ie(1),ie(0)))+"")&&ze(p,d),v&1&&k!==(k=rt(w[0](ie(1),ie(1)))+"")&&ze(b,k)},i:Ee,o:Ee,d(w){w&&(re(e),re(o),re(s),re(c),re(h),re(_),re(y))}}}function wa(t,e,n){let{func:r}=e;return t.$$set=i=>{"func"in i&&n(0,r=i.func)},[r]}class _a extends ut{constructor(e){super(),at(this,e,wa,ma,lt,{func:0})}}var va=Object.defineProperty,ba=(t,e,n)=>e in t?va(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e,n)=>ba(t,typeof e!="symbol"?e+"":e,n);const Ve={black:"#000000",white:"#ffffff",foreground:{blue:"#0066CC",red:"#E30000",orange:"#BF4800",yellow:"#D08B00",green:"#008009",purple:"#6D56D6",gray:"#1D1D1F",graySecondary:"#6E6E73",graySecondaryAlt:"#515154",grayTertiary:"#86868B"},background:{gray:"rgb(250, 250, 250)",darkGray:"rgb(51,51,51)"}},kn={family:"SF Mono, ui-monospace, monospace",weight:{regular:200,semibold:500,bold:600}},ya={y:8,x:4},ka=Object.freeze(Object.defineProperty({__proto__:null,colors:Ve,font:kn,spacing:ya},Symbol.toStringTag,{value:"Module"}));let Or=class en{constructor(e,n,r){L(this,"x"),L(this,"y"),L(this,"k"),this.x=e,this.y=n,this.k=r}static identity(){return new en(0,0,1)}translate(e,n){return e===0&&n===0?this:new en(this.x+this.k*e,this.y+this.k*n,this.k)}scale(e){return e===1?this:new en(this.x,this.y,this.k*e)}apply(e,n){return{x:e*this.k+this.x,y:n*this.k+this.y}}inverse(){return en.identity().scale(1/this.k).translate(-this.x,-this.y)}toString(){return`translate(${this.x},${this.y}) scale(${this.k})`}};var Ea={value:()=>{}};function ei(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bn(n)}function Bn(t){this._=t}function xa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bn.prototype=ei.prototype={constructor:Bn,on:function(t,e){var n=this._,r=xa(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Na(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ji(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ji(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Na(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ji(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ea,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ar="http://www.w3.org/1999/xhtml";const Gi={svg:"http://www.w3.org/2000/svg",xhtml:Ar,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gi.hasOwnProperty(e)?{space:Gi[e],local:t}:t}function Ma(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ar&&e.documentElement.namespaceURI===Ar?e.createElement(t):e.createElementNS(n,t)}}function $a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ls(t){var e=Jn(t);return(e.local?$a:Ma)(e)}function Ca(){}function ti(t){return t==null?Ca:function(){return this.querySelector(t)}}function Ta(t){typeof t!="function"&&(t=ti(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=t.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Pe(r,this._parents)}function Sa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ia(){return[]}function as(t){return t==null?Ia:function(){return this.querySelectorAll(t)}}function Oa(t){return function(){return Sa(t.apply(this,arguments))}}function Aa(t){typeof t=="function"?t=Oa(t):t=as(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Pe(r,i)}function us(t){return function(){return this.matches(t)}}function cs(t){return function(e){return e.matches(t)}}var La=Array.prototype.find;function Pa(t){return function(){return La.call(this.children,t)}}function Ra(){return this.firstElementChild}function Da(t){return this.select(t==null?Ra:Pa(typeof t=="function"?t:cs(t)))}var Ba=Array.prototype.filter;function Fa(){return Array.from(this.children)}function Va(t){return function(){return Ba.call(this.children,t)}}function Wa(t){return this.selectAll(t==null?Fa:Va(typeof t=="function"?t:cs(t)))}function ja(t){typeof t!="function"&&(t=us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Pe(r,this._parents)}function hs(t){return new Array(t.length)}function Ga(){return new Pe(this._enter||this._groups.map(hs),this._parents)}function Un(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Un.prototype={constructor:Un,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function za(t){return function(){return t}}function Ha(t,e,n,r,i,o){for(var s=0,l,a=e.length,u=o.length;s<u;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Un(t,o[s]);for(;s<a;++s)(l=e[s])&&(i[s]=l)}function Ua(t,e,n,r,i,o,s){var l,a,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(l=0;l<c;++l)(a=e[l])&&(f[l]=d=s.call(a,a.__data__,l,e)+"",u.has(d)?i[l]=a:u.set(d,a));for(l=0;l<h;++l)d=s.call(t,o[l],l,o)+"",(a=u.get(d))?(r[l]=a,a.__data__=o[l],u.delete(d)):n[l]=new Un(t,o[l]);for(l=0;l<c;++l)(a=e[l])&&u.get(f[l])===a&&(i[l]=a)}function Ya(t){return t.__data__}function qa(t,e){if(!arguments.length)return Array.from(this,Ya);var n=e?Ua:Ha,r=this._parents,i=this._groups;typeof t!="function"&&(t=za(t));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=Xa(t.call(c,c&&c.__data__,u,r)),p=d.length,_=l[u]=new Array(p),y=s[u]=new Array(p),$=a[u]=new Array(f);n(c,h,_,y,$,d,e);for(var k=0,b=0,w,v;k<p;++k)if(w=_[k]){for(k>=b&&(b=k+1);!(v=y[b])&&++b<p;);w._next=v||null}}return s=new Pe(s,r),s._enter=l,s._exit=a,s}function Xa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ka(){return new Pe(this._exit||this._groups.map(hs),this._parents)}function Za(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qa(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],h=u.length,f=l[a]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;a<i;++a)l[a]=n[a];return new Pe(l,this._parents)}function Ja(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function eu(t){t||(t=tu);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(e)}return new Pe(i,this._parents).order()}function tu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ru(){return Array.from(this)}function iu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ou(){let t=0;for(const e of this)++t;return t}function su(){return!this.node()}function lu(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function au(t){return function(){this.removeAttribute(t)}}function uu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cu(t,e){return function(){this.setAttribute(t,e)}}function hu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function du(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function pu(t,e){var n=Jn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?uu:au:typeof e=="function"?n.local?du:fu:n.local?hu:cu)(n,e))}function fs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gu(t){return function(){this.style.removeProperty(t)}}function mu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wu(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _u(t,e,n){return arguments.length>1?this.each((e==null?gu:typeof e=="function"?wu:mu)(t,e,n??"")):Pt(this.node(),t)}function Pt(t,e){return t.style.getPropertyValue(e)||fs(t).getComputedStyle(t,null).getPropertyValue(e)}function vu(t){return function(){delete this[t]}}function bu(t,e){return function(){this[t]=e}}function yu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ku(t,e){return arguments.length>1?this.each((e==null?vu:typeof e=="function"?yu:bu)(t,e)):this.node()[t]}function ds(t){return t.trim().split(/^|\s+/)}function ni(t){return t.classList||new ps(t)}function ps(t){this._node=t,this._names=ds(t.getAttribute("class")||"")}ps.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function gs(t,e){for(var n=ni(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ms(t,e){for(var n=ni(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Eu(t){return function(){gs(this,t)}}function xu(t){return function(){ms(this,t)}}function Nu(t,e){return function(){(e.apply(this,arguments)?gs:ms)(this,t)}}function Mu(t,e){var n=ds(t+"");if(arguments.length<2){for(var r=ni(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Nu:e?Eu:xu)(n,e))}function $u(){this.textContent=""}function Cu(t){return function(){this.textContent=t}}function Tu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Su(t){return arguments.length?this.each(t==null?$u:(typeof t=="function"?Tu:Cu)(t)):this.node().textContent}function Iu(){this.innerHTML=""}function Ou(t){return function(){this.innerHTML=t}}function Au(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Lu(t){return arguments.length?this.each(t==null?Iu:(typeof t=="function"?Au:Ou)(t)):this.node().innerHTML}function Pu(){this.nextSibling&&this.parentNode.appendChild(this)}function Ru(){return this.each(Pu)}function Du(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bu(){return this.each(Du)}function Fu(t){var e=typeof t=="function"?t:ls(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Vu(){return null}function Wu(t,e){var n=typeof t=="function"?t:ls(t),r=e==null?Vu:typeof e=="function"?e:ti(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ju(){var t=this.parentNode;t&&t.removeChild(this)}function Gu(){return this.each(ju)}function zu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Uu(t){return this.select(t?Hu:zu)}function Yu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function qu(t){return function(e){t.call(this,e,this.__data__)}}function Xu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ku(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Zu(t,e,n){return function(){var r=this.__on,i,o=qu(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Qu(t,e,n){var r=Xu(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Zu:Ku,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function ws(t,e,n){var r=fs(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ju(t,e){return function(){return ws(this,t,e)}}function ec(t,e){return function(){return ws(this,t,e.apply(this,arguments))}}function tc(t,e){return this.each((typeof e=="function"?ec:Ju)(t,e))}function*nc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var _s=[null];function Pe(t,e){this._groups=t,this._parents=e}function En(){return new Pe([[document.documentElement]],_s)}function rc(){return this}Pe.prototype=En.prototype={constructor:Pe,select:Ta,selectAll:Aa,selectChild:Da,selectChildren:Wa,filter:ja,data:qa,enter:Ga,exit:Ka,join:Za,merge:Qa,selection:rc,order:Ja,sort:eu,call:nu,nodes:ru,node:iu,size:ou,empty:su,each:lu,attr:pu,style:_u,property:ku,classed:Mu,text:Su,html:Lu,raise:Ru,lower:Bu,append:Fu,insert:Wu,remove:Gu,clone:Uu,datum:Yu,on:Qu,dispatch:tc,[Symbol.iterator]:nc};function un(t){return typeof t=="string"?new Pe([[document.querySelector(t)]],[document.documentElement]):new Pe([[t]],_s)}function ic(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zi(t,e){if(t=ic(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const oc={passive:!1},cn={capture:!0,passive:!1};function pr(t){t.stopImmediatePropagation()}function St(t){t.preventDefault(),t.stopImmediatePropagation()}function sc(t){var e=t.document.documentElement,n=un(t).on("dragstart.drag",St,cn);"onselectstart"in e?n.on("selectstart.drag",St,cn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function lc(t,e){var n=t.document.documentElement,r=un(t).on("dragstart.drag",null);e&&(r.on("click.drag",St,cn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sn=t=>()=>t;function Lr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Lr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ac(t){return!t.ctrlKey&&!t.button}function uc(){return this.parentNode}function cc(t,e){return e??{x:t.x,y:t.y}}function hc(){return navigator.maxTouchPoints||"ontouchstart"in this}function fc(){var t=ac,e=uc,n=cc,r=hc,i={},o=ei("start","drag","end"),s=0,l,a,u,c,h=0;function f(w){w.on("mousedown.drag",d).filter(r).on("touchstart.drag",y).on("touchmove.drag",$,oc).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(w,v){if(!(c||!t.call(this,w,v))){var C=b(this,e.call(this,w,v),w,v,"mouse");C&&(un(w.view).on("mousemove.drag",p,cn).on("mouseup.drag",_,cn),sc(w.view),pr(w),u=!1,l=w.clientX,a=w.clientY,C("start",w))}}function p(w){if(St(w),!u){var v=w.clientX-l,C=w.clientY-a;u=v*v+C*C>h}i.mouse("drag",w)}function _(w){un(w.view).on("mousemove.drag mouseup.drag",null),lc(w.view,u),St(w),i.mouse("end",w)}function y(w,v){if(t.call(this,w,v)){var C=w.changedTouches,E=e.call(this,w,v),O=C.length,B,z;for(B=0;B<O;++B)(z=b(this,E,w,v,C[B].identifier,C[B]))&&(pr(w),z("start",w,C[B]))}}function $(w){var v=w.changedTouches,C=v.length,E,O;for(E=0;E<C;++E)(O=i[v[E].identifier])&&(St(w),O("drag",w,v[E]))}function k(w){var v=w.changedTouches,C=v.length,E,O;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<C;++E)(O=i[v[E].identifier])&&(pr(w),O("end",w,v[E]))}function b(w,v,C,E,O,B){var z=o.copy(),K=zi(B||C,v),W,T,M;if((M=n.call(w,new Lr("beforestart",{sourceEvent:C,target:f,identifier:O,active:s,x:K[0],y:K[1],dx:0,dy:0,dispatch:z}),E))!=null)return W=M.x-K[0]||0,T=M.y-K[1]||0,function R(Z,me,we){var ye=K,ce;switch(Z){case"start":i[O]=R,ce=s++;break;case"end":delete i[O],--s;case"drag":K=zi(we||me,v),ce=s;break}z.call(Z,w,new Lr(Z,{sourceEvent:me,subject:M,target:f,identifier:O,active:ce,x:K[0]+W,y:K[1]+T,dx:K[0]-ye[0],dy:K[1]-ye[1],dispatch:z}),E)}}return f.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Sn(!!w),f):t},f.container=function(w){return arguments.length?(e=typeof w=="function"?w:Sn(w),f):e},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Sn(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Sn(!!w),f):r},f.on=function(){var w=o.on.apply(o,arguments);return w===o?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function ri(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xn(){}var hn=.7,Yn=1/hn,It="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dc=/^#([0-9a-f]{3,8})$/,pc=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),gc=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),mc=new RegExp(`^rgba\\(${It},${It},${It},${fn}\\)$`),wc=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${fn}\\)$`),_c=new RegExp(`^hsl\\(${fn},${Xe},${Xe}\\)$`),vc=new RegExp(`^hsla\\(${fn},${Xe},${Xe},${fn}\\)$`),Hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ri(xn,dn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ui,formatHex:Ui,formatHex8:bc,formatHsl:yc,formatRgb:Yi,toString:Yi});function Ui(){return this.rgb().formatHex()}function bc(){return this.rgb().formatHex8()}function yc(){return bs(this).formatHsl()}function Yi(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qi(e):n===3?new Ce(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?In(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?In(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pc.exec(t))?new Ce(e[1],e[2],e[3],1):(e=gc.exec(t))?new Ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mc.exec(t))?In(e[1],e[2],e[3],e[4]):(e=wc.exec(t))?In(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_c.exec(t))?Zi(e[1],e[2]/100,e[3]/100,1):(e=vc.exec(t))?Zi(e[1],e[2]/100,e[3]/100,e[4]):Hi.hasOwnProperty(t)?qi(Hi[t]):t==="transparent"?new Ce(NaN,NaN,NaN,0):null}function qi(t){return new Ce(t>>16&255,t>>8&255,t&255,1)}function In(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ce(t,e,n,r)}function kc(t){return t instanceof xn||(t=dn(t)),t?(t=t.rgb(),new Ce(t.r,t.g,t.b,t.opacity)):new Ce}function Pr(t,e,n,r){return arguments.length===1?kc(t):new Ce(t,e,n,r??1)}function Ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ri(Ce,Pr,vs(xn,{brighter(t){return t=t==null?Yn:Math.pow(Yn,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ce(_t(this.r),_t(this.g),_t(this.b),qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xi,formatHex:Xi,formatHex8:Ec,formatRgb:Ki,toString:Ki}));function Xi(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function Ec(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ki(){const t=qn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function qn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function Zi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ge(t,e,n,r)}function bs(t){if(t instanceof Ge)return new Ge(t.h,t.s,t.l,t.opacity);if(t instanceof xn||(t=dn(t)),!t)return new Ge;if(t instanceof Ge)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Ge(s,l,a,t.opacity)}function xc(t,e,n,r){return arguments.length===1?bs(t):new Ge(t,e,n,r??1)}function Ge(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ri(Ge,xc,vs(xn,{brighter(t){return t=t==null?Yn:Math.pow(Yn,t),new Ge(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new Ge(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ce(gr(t>=240?t-240:t+120,i,r),gr(t,i,r),gr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ge(Qi(this.h),On(this.s),On(this.l),qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qn(this.opacity);return`${t===1?"hsl(":"hsla("}${Qi(this.h)}, ${On(this.s)*100}%, ${On(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qi(t){return t=(t||0)%360,t<0?t+360:t}function On(t){return Math.max(0,Math.min(1,t||0))}function gr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ys=t=>()=>t;function Nc(t,e){return function(n){return t+n*e}}function Mc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $c(t){return(t=+t)==1?ks:function(e,n){return n-e?Mc(e,n,t):ys(isNaN(e)?n:e)}}function ks(t,e){var n=e-t;return n?Nc(t,n):ys(isNaN(t)?e:t)}const Ji=function t(e){var n=$c(e);function r(i,o){var s=n((i=Pr(i)).r,(o=Pr(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=ks(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function it(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(Rr.source,"g");function Cc(t){return function(){return t}}function Tc(t){return function(e){return t(e)+""}}function Sc(t,e){var n=Rr.lastIndex=mr.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(t=t+"",e=e+"";(r=Rr.exec(t))&&(i=mr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:it(r,i)})),n=mr.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?Tc(a[0].x):Cc(e):(e=a.length,function(u){for(var c=0,h;c<e;++c)l[(h=a[c]).i]=h.x(u);return l.join("")})}var eo=180/Math.PI,Dr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Es(t,e,n,r,i,o){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*eo,skewX:Math.atan(a)*eo,scaleX:s,scaleY:l}}var An;function Ic(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Dr:Es(e.a,e.b,e.c,e.d,e.e,e.f)}function Oc(t){return t==null||(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),!(t=An.transform.baseVal.consolidate()))?Dr:(t=t.matrix,Es(t.a,t.b,t.c,t.d,t.e,t.f))}function xs(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function s(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:it(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:it(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function a(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),s(u.rotate,c.rotate,h,f),l(u.skewX,c.skewX,h,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,_=f.length,y;++p<_;)h[(y=f[p]).i]=y.x(d);return h.join("")}}}var Ac=xs(Ic,"px, ","px)","deg)"),Lc=xs(Oc,", ",")",")"),Rt=0,tn=0,Qt=0,Ns=1e3,Xn,nn,Kn=0,vt=0,er=0,pn=typeof performance=="object"&&performance.now?performance:Date,Ms=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ii(){return vt||(Ms(Pc),vt=pn.now()+er)}function Pc(){vt=0}function Zn(){this._call=this._time=this._next=null}Zn.prototype=$s.prototype={constructor:Zn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ii():+n)+(e==null?0:+e),!this._next&&nn!==this&&(nn?nn._next=this:Xn=this,nn=this),this._call=t,this._time=n,Br()},stop:function(){this._call&&(this._call=null,this._time=1/0,Br())}};function $s(t,e,n){var r=new Zn;return r.restart(t,e,n),r}function Rc(){ii(),++Rt;for(var t=Xn,e;t;)(e=vt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rt}function to(){vt=(Kn=pn.now())+er,Rt=tn=0;try{Rc()}finally{Rt=0,Bc(),vt=0}}function Dc(){var t=pn.now(),e=t-Kn;e>Ns&&(er-=e,Kn=t)}function Bc(){for(var t,e=Xn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xn=n);nn=t,Br(r)}function Br(t){if(!Rt){tn&&(tn=clearTimeout(tn));var e=t-vt;e>24?(t<1/0&&(tn=setTimeout(to,t-pn.now()-er)),Qt&&(Qt=clearInterval(Qt))):(Qt||(Kn=pn.now(),Qt=setInterval(Dc,Ns)),Rt=1,Ms(to))}}function no(t,e,n){var r=new Zn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Fc=ei("start","end","cancel","interrupt"),Vc=[],Cs=0,ro=1,Fr=2,Fn=3,io=4,Vr=5,Vn=6;function tr(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Wc(t,n,{name:e,index:r,group:i,on:Fc,tween:Vc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Cs})}function oi(t,e){var n=He(t,e);if(n.state>Cs)throw new Error("too late; already scheduled");return n}function Ke(t,e){var n=He(t,e);if(n.state>Fn)throw new Error("too late; already running");return n}function He(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$s(o,0,n.time);function o(u){n.state=ro,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,h,f,d;if(n.state!==ro)return a();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Fn)return no(s);d.state===io?(d.state=Vn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Vn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(no(function(){n.state===Fn&&(n.state=io,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Fr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fr){for(n.state=Fn,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Vr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Vr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Vn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function jc(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Fr&&r.state<Vr,r.state=Vn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Gc(t){return this.each(function(){jc(this,t)})}function zc(t,e){var n,r;return function(){var i=Ke(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Hc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ke(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===e){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function Uc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=He(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?zc:Hc)(n,t,e))}function si(t,e,n){var r=t._id;return t.each(function(){var i=Ke(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return He(i,r).value[e]}}function Ts(t,e){var n;return(typeof e=="number"?it:e instanceof dn?Ji:(n=dn(e))?(e=n,Ji):Sc)(t,e)}function Yc(t){return function(){this.removeAttribute(t)}}function qc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Kc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Zc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Qc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Jc(t,e){var n=Jn(t),r=n==="transform"?Lc:Ts;return this.attrTween(t,typeof e=="function"?(n.local?Qc:Zc)(n,r,si(this,"attr."+t,e)):e==null?(n.local?qc:Yc)(n):(n.local?Kc:Xc)(n,r,e))}function eh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function th(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function nh(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&th(t,o)),n}return i._value=e,i}function rh(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&eh(t,o)),n}return i._value=e,i}function ih(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jn(t);return this.tween(n,(r.local?nh:rh)(r,e))}function oh(t,e){return function(){oi(this,t).delay=+e.apply(this,arguments)}}function sh(t,e){return e=+e,function(){oi(this,t).delay=e}}function lh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?oh:sh)(e,t)):He(this.node(),e).delay}function ah(t,e){return function(){Ke(this,t).duration=+e.apply(this,arguments)}}function uh(t,e){return e=+e,function(){Ke(this,t).duration=e}}function ch(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ah:uh)(e,t)):He(this.node(),e).duration}function hh(t,e){if(typeof e!="function")throw new Error;return function(){Ke(this,t).ease=e}}function fh(t){var e=this._id;return arguments.length?this.each(hh(e,t)):He(this.node(),e).ease}function dh(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ke(this,t).ease=n}}function ph(t){if(typeof t!="function")throw new Error;return this.each(dh(this._id,t))}function gh(t){typeof t!="function"&&(t=us(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new tt(r,this._parents,this._name,this._id)}function mh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=e[l],u=n[l],c=a.length,h=s[l]=new Array(c),f,d=0;d<c;++d)(f=a[d]||u[d])&&(h[d]=f);for(;l<r;++l)s[l]=e[l];return new tt(s,this._parents,this._name,this._id)}function wh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _h(t,e,n){var r,i,o=wh(e)?oi:Ke;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function vh(t,e){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(t):this.each(_h(n,t,e))}function bh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function yh(){return this.on("end.remove",bh(this._id))}function kh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ti(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,h,f=0;f<a;++f)(c=l[f])&&(h=t.call(c,c.__data__,f,l))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,tr(u[f],e,n,f,u,He(c,n)));return new tt(o,this._parents,e,n)}function Eh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=as(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,h=0;h<u;++h)if(c=a[h]){for(var f=t.call(c,c.__data__,h,a),d,p=He(c,n),_=0,y=f.length;_<y;++_)(d=f[_])&&tr(d,e,n,_,f,p);o.push(f),s.push(c)}return new tt(o,s,e,n)}var xh=En.prototype.constructor;function Nh(){return new xh(this._groups,this._parents)}function Mh(t,e){var n,r,i;return function(){var o=Pt(this,t),s=(this.style.removeProperty(t),Pt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ss(t){return function(){this.style.removeProperty(t)}}function $h(t,e,n){var r,i=n+"",o;return function(){var s=Pt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Ch(t,e,n){var r,i,o;return function(){var s=Pt(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),Pt(this,t))),s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l))}}function Th(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var a=Ke(this,t),u=a.on,c=a.value[o]==null?l||(l=Ss(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function Sh(t,e,n){var r=(t+="")=="transform"?Ac:Ts;return e==null?this.styleTween(t,Mh(t,r)).on("end.style."+t,Ss(t)):typeof e=="function"?this.styleTween(t,Ch(t,r,si(this,"style."+t,e))).each(Th(this._id,t)):this.styleTween(t,$h(t,r,e),n).on("end.style."+t,null)}function Ih(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Oh(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Ih(t,s,n)),r}return o._value=e,o}function Ah(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Oh(t,e,n??""))}function Lh(t){return function(){this.textContent=t}}function Ph(t){return function(){var e=t(this);this.textContent=e??""}}function Rh(t){return this.tween("text",typeof t=="function"?Ph(si(this,"text",t)):Lh(t==null?"":t+""))}function Dh(t){return function(e){this.textContent=t.call(this,e)}}function Bh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Dh(i)),e}return r._value=t,r}function Fh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Bh(t))}function Vh(){for(var t=this._name,e=this._id,n=Is(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=He(a,e);tr(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tt(r,this._parents,t,n)}function Wh(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=Ke(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),i===0&&o()})}var jh=0;function tt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Is(){return++jh}var Je=En.prototype;tt.prototype={constructor:tt,select:kh,selectAll:Eh,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:gh,merge:mh,selection:Nh,transition:Vh,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:vh,attr:Jc,attrTween:ih,style:Sh,styleTween:Ah,text:Rh,textTween:Fh,remove:yh,tween:Uc,delay:lh,duration:ch,ease:fh,easeVarying:ph,end:Wh,[Symbol.iterator]:Je[Symbol.iterator]};function Gh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zh={time:null,delay:0,duration:250,ease:Gh};function Hh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Uh(t){var e,n;t instanceof tt?(e=t._id,t=t._name):(e=Is(),(n=zh).time=ii(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&tr(a,t,e,u,s,n||Hh(a,e));return new tt(r,this._parents,t,e)}En.prototype.interrupt=Gc;En.prototype.transition=Uh;const Wr=Math.PI,jr=2*Wr,dt=1e-6,Yh=jr-dt;function Os(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Os;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class As{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Os:qh(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,a=r-e,u=i-n,c=s-e,h=l-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>dt)if(!(Math.abs(h*a-u*c)>dt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-s,p=i-l,_=a*a+u*u,y=d*d+p*p,$=Math.sqrt(_),k=Math.sqrt(f),b=o*Math.tan((Wr-Math.acos((_+f-y)/(2*$*k)))/2),w=b/k,v=b/$;Math.abs(w-1)>dt&&this._append`L${e+w*c},${n+w*h}`,this._append`A${o},${o},0,0,${+(h*d>c*p)},${this._x1=e+v*a},${this._y1=n+v*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),a=r*Math.sin(i),u=e+l,c=n+a,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>dt||Math.abs(this._y1-c)>dt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%jr+jr),f>Yh?this._append`A${r},${r},0,1,${h},${e-l},${n-a}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>dt&&this._append`A${r},${r},0,${+(f>=Wr)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ls(){return new As}Ls.prototype=As.prototype;function rn(t,e,n){this.k=t,this.x=e,this.y=n}rn.prototype={constructor:rn,scale:function(t){return t===1?this:new rn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new rn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rn.prototype;class Gr{constructor(e){L(this,"context",Ls()),L(this,"x0",NaN),L(this,"x1",NaN),L(this,"y0",NaN),L(this,"y1",NaN),L(this,"state",0);for(let n=0;n<e.length;n++){const r=e[n];if(this.point(r.x,r.y),n===e.length-1)switch(this.state){case 3:this.curve(this.x1,this.y1),this.context.lineTo(this.x1,this.y1);break;case 2:this.context.lineTo(this.x1,this.y1);break}}}point(e,n){switch(e=+e,n=+n,this.state){case 0:this.state=1,this.context.moveTo(e,n);break;case 1:this.state=2;break;case 2:this.state=3,this.context.lineTo((5*this.x0+this.x1)/6,(5*this.y0+this.y1)/6),this.curve(e,n);break;default:this.curve(e,n);break}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=n}curve(e,n){this.context.bezierCurveTo((2*this.x0+this.x1)/3,(2*this.y0+this.y1)/3,(this.x0+2*this.x1)/3,(this.y0+2*this.y1)/3,(this.x0+4*this.x1+e)/6,(this.y0+4*this.y1+n)/6)}build(){return this.context.toString()}}class se{constructor(e,n,r,i){this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.xMin=e,this.xMax=r,this.yMin=n,this.yMax=i}static infinity(){return new se(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)}isEmpty(){return this.xMin===Number.MAX_VALUE||this.yMin===Number.MAX_VALUE||this.xMax===Number.MIN_VALUE||this.yMax===Number.MIN_VALUE}static fromCenterAndDimension(e,n,r){return new se(e.x-n/2,e.y-r/2,e.x+n/2,e.y+r/2)}static fromPoints(...e){return e.reduce((n,r)=>(n.xMin=Math.min(n.xMin,r.x),n.yMin=Math.min(n.yMin,r.y),n.xMax=Math.max(n.xMax,r.x),n.yMax=Math.max(n.yMax,r.y),n),se.infinity())}static fromUnion(...e){return e.reduce((n,r)=>n.union(r),se.infinity())}get width(){return this.xMax-this.xMin}get height(){return this.yMax-this.yMin}get center(){return{x:this.xMin+this.width/2,y:this.yMin+this.height/2}}padded(e){const{l:n,r,b:i,t:o}=typeof e=="object"?e:{l:e,r:e,t:e,b:e};return new se(this.xMin-n,this.yMin-o,this.xMax+r,this.yMax+i)}union(e){return new se(Math.min(this.xMin,e.xMin),Math.min(this.yMin,e.yMin),Math.max(this.xMax,e.xMax),Math.max(this.yMax,e.yMax))}transformed(e){const n=e.apply(this.xMin,this.yMin),r=e.apply(this.xMax,this.yMax);return new se(n.x,n.y,r.x,r.y)}contains(e,n){return this.xMin<=e&&this.yMin<=n&&e<=this.xMax&&n<=this.yMax}encloses(e){return this.contains(e.xMin,e.yMin)&&this.contains(e.xMax,e.yMax)}intersects(e){return this.xMin<=e.xMin&&e.xMin<=this.xMax||this.xMin<=e.xMax&&e.xMax<=this.xMax||this.yMin<=e.yMin&&e.yMin<=this.yMax||this.yMin<=e.yMax&&e.yMax<=this.yMax}}function*Xh(t,e){let n=!0;for(const r of t)n||(yield e),n=!1,yield r}function Wn(t,e,n){return Math.min(Math.max(n,t),e)}class ct{constructor(e){L(this,"options"),this.options=e}with(e){return this.options={...this.options,...e},this}}function q(){}const Kh=t=>t;function nt(t,e){for(const n in e)t[n]=e[n];return t}function Ps(t){return t()}function oo(){return Object.create(null)}function Ze(t){t.forEach(Ps)}function Rs(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Zh(t){return Object.keys(t).length===0}function zr(t,...e){if(t==null){for(const r of e)r(void 0);return q}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ds(t,e,n){t.$$.on_destroy.push(zr(e,n))}function Bs(t,e,n,r){if(t){const i=Fs(t,e,n,r);return t[0](i)}}function Fs(t,e,n,r){return t[1]&&r?nt(n.ctx.slice(),t[1](r(e))):n.ctx}function Vs(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function Ws(t,e,n,r,i,o){if(i){const s=Fs(e,n,r,o);t.p(s,i)}}function js(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function wr(t,e,n){return t.set(n),e}const Gs=typeof window<"u";let Qh=Gs?()=>window.performance.now():()=>Date.now(),zs=Gs?t=>requestAnimationFrame(t):q;const Ot=new Set;function Hs(t){Ot.forEach(e=>{e.c(t)||(Ot.delete(e),e.f())}),Ot.size!==0&&zs(Hs)}function Jh(t){let e;return Ot.size===0&&zs(Hs),{promise:new Promise(n=>{Ot.add(e={c:t,f:n})}),abort(){Ot.delete(e)}}}function H(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function Us(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ge(t){return document.createElement(t)}function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Qe(t){return document.createTextNode(t)}function et(){return Qe(" ")}function Fe(){return Qe("")}function le(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ef(t){return Array.from(t.childNodes)}function Nn(t,e){e=""+e,t.data!==e&&(t.data=e)}function tf(t,e,n,r){t.style.setProperty(e,n,"")}function nf(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Dt(t,e){return new t(e)}let gn;function an(t){gn=t}function nr(){if(!gn)throw new Error("Function called outside component initialization");return gn}function Ys(t){nr().$$.on_mount.push(t)}function Ft(){const t=nr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=nf(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function rf(t,e){return nr().$$.context.set(t,e),e}function qs(t){return nr().$$.context.get(t)}function $e(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Ct=[],st=[];let At=[];const Hr=[],Xs=Promise.resolve();let Ur=!1;function Ks(){Ur||(Ur=!0,Xs.then(Zs))}function Ln(){return Ks(),Xs}function Yr(t){At.push(t)}function of(t){Hr.push(t)}const _r=new Set;let Nt=0;function Zs(){if(Nt!==0)return;const t=gn;do{try{for(;Nt<Ct.length;){const e=Ct[Nt];Nt++,an(e),sf(e.$$)}}catch(e){throw Ct.length=0,Nt=0,e}for(an(null),Ct.length=0,Nt=0;st.length;)st.pop()();for(let e=0;e<At.length;e+=1){const n=At[e];_r.has(n)||(_r.add(n),n())}At.length=0}while(Ct.length);for(;Hr.length;)Hr.pop()();Ur=!1,_r.clear(),an(t)}function sf(t){if(t.fragment!==null){t.update(),Ze(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Yr)}}function lf(t){const e=[],n=[];At.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),At=e}const jn=new Set;let mt;function Ae(){mt={r:0,c:[],p:mt}}function Le(){mt.r||Ze(mt.c),mt=mt.p}function P(t,e){t&&t.i&&(jn.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(jn.has(t))return;jn.add(t),mt.c.push(()=>{jn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Be(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Gn(t,e){j(t,1,1,()=>{e.delete(t.key)})}function zn(t,e,n,r,i,o,s,l,a,u,c,h){let f=t.length,d=o.length,p=f;const _={};for(;p--;)_[t[p].key]=p;const y=[],$=new Map,k=new Map,b=[];for(p=d;p--;){const E=h(i,o,p),O=n(E);let B=s.get(O);B?b.push(()=>B.p(E,e)):(B=u(O,E),B.c()),$.set(O,y[p]=B),O in _&&k.set(O,Math.abs(p-_[O]))}const w=new Set,v=new Set;function C(E){P(E,1),E.m(l,c),s.set(E.key,E),c=E.first,d--}for(;f&&d;){const E=y[d-1],O=t[f-1],B=E.key,z=O.key;E===O?(c=E.first,f--,d--):$.has(z)?!s.has(B)||w.has(B)?C(E):v.has(z)?f--:k.get(B)>k.get(z)?(v.add(B),C(E)):(w.add(z),f--):(a(O,s),f--)}for(;f--;){const E=t[f];$.has(E.key)||a(E,s)}for(;d;)C(y[d-1]);return Ze(b),y}function Bt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],l=e[o];if(l){for(const a in s)a in l||(r[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);t[o]=l}else for(const a in s)i[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function af(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function he(t){t&&t.c()}function ae(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Yr(()=>{const o=t.$$.on_mount.map(Ps).filter(Rs);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ze(o),t.$$.on_mount=[]}),i.forEach(Yr)}function ue(t,e){const n=t.$$;n.fragment!==null&&(lf(n.after_update),Ze(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function uf(t,e){t.$$.dirty[0]===-1&&(Ct.push(t),Ks(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,n,r,i,o,s=null,l=[-1]){const a=gn;an(t);const u=t.$$={fragment:null,ctx:[],props:o,update:q,not_equal:i,bound:oo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:oo(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&uf(t,h)),f}):[],u.update(),c=!0,Ze(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=ef(e.target);u.fragment&&u.fragment.l(h),h.forEach(D)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),ae(t,e.target,e.anchor),Zs()}an(a)}class Ne{constructor(){L(this,"$$"),L(this,"$$set")}$destroy(){ue(this,1),this.$destroy=q}$on(e,n){if(!Rs(n))return q;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Zh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(cf);var so={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function lo(t,e,n){const r=t.slice();return r[3]=e[n],r}function hf(t){let e,n,r,i,o;return{c(){e=X("rect"),g(e,"x",n=t[3].boundingBox().transformed(t[3].transform).xMin),g(e,"y",r=t[3].boundingBox().transformed(t[3].transform).yMin),g(e,"width",i=t[3].boundingBox().transformed(t[3].transform).width),g(e,"height",o=t[3].boundingBox().transformed(t[3].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.1")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[3].boundingBox().transformed(s[3].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[3].boundingBox().transformed(s[3].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[3].boundingBox().transformed(s[3].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[3].boundingBox().transformed(s[3].transform).height)&&g(e,"height",o)},d(s){s&&D(e)}}}function ao(t){let e,n,r,i,o=so.VITE_WIREFRAME_CONTAINER&&hf(t);const s=[{self:t[3]}];var l=t[3].drawable();function a(u,c){let h={};for(let f=0;f<s.length;f+=1)h=nt(h,s[f]);return c!==void 0&&c&1&&(h=nt(h,Bt(s,[{self:u[3]}]))),{props:h}}return l&&(n=Dt(l,a(t))),{c(){o&&o.c(),e=Fe(),n&&he(n.$$.fragment),r=Fe()},m(u,c){o&&o.m(u,c),V(u,e,c),n&&ae(n,u,c),V(u,r,c),i=!0},p(u,c){if(so.VITE_WIREFRAME_CONTAINER&&o.p(u,c),c&1&&l!==(l=u[3].drawable())){if(n){Ae();const h=n;j(h.$$.fragment,1,0,()=>{ue(h,1)}),Le()}l?(n=Dt(l,a(u,c)),he(n.$$.fragment),P(n.$$.fragment,1),ae(n,r.parentNode,r)):n=null}else if(l){const h=c&1?Bt(s,[{self:u[3]}]):{};n.$set(h)}},i(u){i||(n&&P(n.$$.fragment,u),i=!0)},o(u){n&&j(n.$$.fragment,u),i=!1},d(u){u&&(D(e),D(r)),o&&o.d(u),n&&ue(n,u)}}}function ff(t){let e,n,r;const i=t[2].default,o=Bs(i,t,t[1],null);let s=Be(t[0].children),l=[];for(let u=0;u<s.length;u+=1)l[u]=ao(lo(t,s,u));const a=u=>j(l[u],1,1,()=>{l[u]=null});return{c(){e=X("g"),o&&o.c();for(let u=0;u<l.length;u+=1)l[u].c();g(e,"transform",n=t[0].transform.toString())},m(u,c){V(u,e,c),o&&o.m(e,null);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);r=!0},p(u,[c]){if(o&&o.p&&(!r||c&2)&&Ws(o,i,u,u[1],r?Vs(i,u[1],c,null):js(u[1]),null),c&1){s=Be(u[0].children);let h;for(h=0;h<s.length;h+=1){const f=lo(u,s,h);l[h]?(l[h].p(f,c),P(l[h],1)):(l[h]=ao(f),l[h].c(),P(l[h],1),l[h].m(e,null))}for(Ae(),h=s.length;h<l.length;h+=1)a(h);Le()}(!r||c&1&&n!==(n=u[0].transform.toString()))&&g(e,"transform",n)},i(u){if(!r){P(o,u);for(let c=0;c<s.length;c+=1)P(l[c]);r=!0}},o(u){j(o,u),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)j(l[c]);r=!1},d(u){u&&D(e),o&&o.d(u),Us(l,u)}}}function df(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(1,i=s.$$scope)},[o,i,r]}let li=class extends Ne{constructor(e){super(),xe(this,e,df,ff,be,{self:0})}};class pf{constructor(){L(this,"onClick")}}class Vt extends pf{constructor(){super(),L(this,"transform"),this.transform=Or.identity()}moveTo(e,n){this.transform.x=e,this.transform.y=n}}class Mn extends Vt{constructor(...e){super(),L(this,"children"),this.children=e}boundingBox(){return se.fromUnion(...this.children.map(e=>e.boundingBox().transformed(e.transform)))}drawable(){return li}}class Qs extends ct{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),L(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e));let r=0;if(this.options.spread&&e.targetWidth!==void 0){const o=n.length-1,s=n.reduce((a,u)=>a+u.boundingBox().width,this.options.spacing*o),l=e.targetWidth-s;r=Math.max(l/(this.children.length-1),0)}const i={x:0,y:0};for(const o of n)o.moveTo(i.x,i.y),i.x+=o.boundingBox().width+this.options.spacing+r;return new ai(this.options,...n)}}class Js extends ct{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),L(this,"children"),this.children=e}padded(e){return new Wt(this,e)}build(e={}){const n=Math.max(this.options.minWidth,this.children.reduce((o,s)=>Math.max(o,s.build(e).boundingBox().width),-1/0)),r=this.children.map(o=>o.build({...e,targetWidth:n})),i={x:0,y:0};for(const o of r)o.moveTo(i.x,i.y),i.y+=o.boundingBox().height+this.options.spacing;return new ai(this.options,...r)}}class ai extends Mn{constructor(e,...n){super(...n),this.options=e,this.options=e}boundingBox(){const e=super.boundingBox();return e.xMax=Wn(this.options.minWidth,this.options.maxWidth,e.xMax),e}}class gf{constructor(...e){L(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e)),{width:r,height:i}=se.fromUnion(...n.map(o=>o.boundingBox()));for(const o of n){const{width:s,height:l}=o.boundingBox();o.moveTo(r/2-s/2,i/2-l/2)}return new Mn(...n)}}const el={l:8,r:8,t:10,b:10};function tl(t,e,n,r){switch(n){case"topRight":return{x:t.xMax+r,y:t.yMin};case"bottomMiddle":return{x:t.center.x-e.width/2,y:t.yMax+r}}}let mf=class extends ct{constructor(e){super({anchor:"topRight"}),L(this,"content"),this.content=e}build(e={}){return new nl(new rl(new Wt(this.content,el)).with({radius:6,borderColor:"none",backgroundColor:Ve.background.darkGray}).build({defaultOptions:{text:{foregroundColor:"white"}}}),this.options)}};class nl extends Vt{constructor(e,n){super(),this.content=e,this.options=n}boundingBox(){return this.content.boundingBox().padded(el)}drawable(){throw Error("not implemented")}}class rl extends ct{constructor(e){super({backgroundColor:Ve.white,borderColor:Ve.foreground.grayTertiary,borderWidth:1,borderDash:void 0,radius:void 0}),this.inner=e}content(){return this.inner}build(e={}){const n=this.inner.build(e),r=n.boundingBox();return new il(n,new fi(r.width,r.height).with(this.options).build(e))}}class il extends Mn{constructor(e,n){super(n,e)}boundingBox(){return super.boundingBox()}}function wf(t){let e,n;return{c(){e=X("path"),g(e,"stroke",Ve.foreground.grayTertiary),g(e,"stroke-width","1"),g(e,"fill","none"),g(e,"pointer-events","none"),g(e,"marker-end","url(#arrowhead)"),g(e,"d",n=new Gr(t[0]).build())},m(r,i){V(r,e,i)},p(r,[i]){i&1&&n!==(n=new Gr(r[0]).build())&&g(e,"d",n)},i:q,o:q,d(r){r&&D(e)}}}function _f(t,e,n){let r,{self:i}=e;return t.$$set=o=>{"self"in o&&n(1,i=o.self)},t.$$.update=()=>{t.$$.dirty&2&&n(0,r=i.points.map(o=>i.transform.apply(o.x,o.y)))},[r,i]}let vf=class extends Ne{constructor(e){super(),xe(this,e,_f,wf,be,{self:1})}};class bf{constructor(e){this.points=e,this.points=e}build(){return new ui(this.points)}}class ui extends Vt{constructor(e){super(),L(this,"points"),this.points=e}path(){const e=this.points.map(n=>this.transform.apply(n.x,n.y));return new Gr(e).build()}boundingBox(){return se.fromPoints(...this.points)}drawable(){return vf}}class ol extends Mn{}var uo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function yf(t){let e,n,r,i,o;return{c(){e=X("rect"),g(e,"x",n=t[0].boundingBox().transformed(t[0].transform).xMin),g(e,"y",r=t[0].boundingBox().transformed(t[0].transform).yMin),g(e,"width",i=t[0].boundingBox().transformed(t[0].transform).width),g(e,"height",o=t[0].boundingBox().transformed(t[0].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.3")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[0].boundingBox().transformed(s[0].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].boundingBox().transformed(s[0].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].boundingBox().transformed(s[0].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[0].boundingBox().transformed(s[0].transform).height)&&g(e,"height",o)},d(s){s&&D(e)}}}function kf(t){let e,n,r=t[0].text+"",i,o,s,l=uo.VITE_WIREFRAME_TEXT&&yf(t);return{c(){l&&l.c(),e=et(),n=X("text"),i=Qe(r),g(n,"x",o=t[0].transform.x),g(n,"y",s=t[0].transform.y),g(n,"dominant-baseline","hanging"),g(n,"font-family",t[2]),g(n,"font-size",t[1]),g(n,"fill",t[3]),g(n,"font-weight",t[4])},m(a,u){l&&l.m(a,u),V(a,e,u),V(a,n,u),H(n,i)},p(a,[u]){uo.VITE_WIREFRAME_TEXT&&l.p(a,u),u&1&&r!==(r=a[0].text+"")&&Nn(i,r),u&1&&o!==(o=a[0].transform.x)&&g(n,"x",o),u&1&&s!==(s=a[0].transform.y)&&g(n,"y",s)},i:q,o:q,d(a){a&&(D(e),D(n)),l&&l.d(a)}}}function Ef(t,e,n){let{self:r}=e;const{fontSize:i,font:o,foregroundColor:s,fontWeight:l}=r.options;return t.$$set=a=>{"self"in a&&n(0,r=a.self)},[r,i,o,s,l]}let xf=class extends Ne{constructor(e){super(),xe(this,e,Ef,kf,be,{self:0})}};class Nf{constructor(){L(this,"canvas"),L(this,"ctx"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}measureTextWidth(e,n){return this.ctx.font=`${n.fontSize}px ${n.font}`,this.ctx.textBaseline="top",this.ctx.measureText(e).width}}class sl extends ct{constructor(e){super({font:kn.family,fontSize:16,fontWeight:200}),L(this,"text"),this.text=e}padded(e){return new Wt(this,e)}build(e){var n;return new ll(this.text,{...(n=e==null?void 0:e.defaultOptions)==null?void 0:n.text,...this.options})}}class ll extends Vt{constructor(e,n){super(),L(this,"text"),L(this,"options"),L(this,"width"),L(this,"height"),this.text=e,this.options=n,this.width=new Nf().measureTextWidth(this.text,this.options),this.height=n.fontSize}boundingBox(){return new se(0,0,this.width,this.height)}drawable(){return xf}}const ci=Symbol();function Mf(t){let e,n,r;return{c(){e=X("rect"),g(e,"x",n=t[0].transform.x),g(e,"y",r=t[0].transform.y),g(e,"width",t[6]),g(e,"height",t[7]),g(e,"rx",t[1]),g(e,"fill",t[4]),g(e,"stroke",t[5]),g(e,"stroke-width",t[3]),g(e,"stroke-dasharray",t[2])},m(i,o){V(i,e,o)},p(i,[o]){o&1&&n!==(n=i[0].transform.x)&&g(e,"x",n),o&1&&r!==(r=i[0].transform.y)&&g(e,"y",r),o&2&&g(e,"rx",i[1]),o&16&&g(e,"fill",i[4]),o&32&&g(e,"stroke",i[5]),o&8&&g(e,"stroke-width",i[3]),o&4&&g(e,"stroke-dasharray",i[2])},i:q,o:q,d(i){i&&D(e)}}}function $f(t,e,n){let r,i,o,s,l,{self:a}=e;const u=a.boundingBox().width,c=a.boundingBox().height;return t.$$set=h=>{"self"in h&&n(0,a=h.self)},t.$$.update=()=>{t.$$.dirty&1&&n(5,{borderColor:r,backgroundColor:i,borderWidth:o,borderDash:s,radius:l}=a.options,r,(n(4,i),n(0,a)),(n(3,o),n(0,a)),(n(2,s),n(0,a)),(n(1,l),n(0,a)))},[a,l,s,o,i,r,u,c]}let al=class extends Ne{constructor(e){super(),xe(this,e,$f,Mf,be,{self:0})}};function co(t){let e,n,r,i,o=t[2].text&&ho(t);return{c(){e=X("g"),n=X("circle"),o&&o.c(),g(n,"r","10"),g(n,"fill",r=t[2].color),g(n,"stroke","white"),g(n,"stroke-width","2"),g(e,"class","badge"),g(e,"transform",i=`translate(${t[3].width+t[5].x},${-t[5].y})`)},m(s,l){V(s,e,l),H(e,n),o&&o.m(e,null)},p(s,l){l&4&&r!==(r=s[2].color)&&g(n,"fill",r),s[2].text?o?o.p(s,l):(o=ho(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&8&&i!==(i=`translate(${s[3].width+s[5].x},${-s[5].y})`)&&g(e,"transform",i)},d(s){s&&D(e),o&&o.d()}}}function ho(t){let e,n=t[2].text+"",r;return{c(){e=X("text"),r=Qe(n),g(e,"y",1),g(e,"font-family",kn.family),g(e,"font-size","10"),g(e,"text-anchor","middle"),g(e,"dominant-baseline","middle"),g(e,"fill","white")},m(i,o){V(i,e,o),H(e,r)},p(i,o){o&4&&n!==(n=i[2].text+"")&&Nn(r,n)},d(i){i&&D(e)}}}function Cf(t){let e,n,r,i,o,s,l,a;n=new al({props:{self:t[1]}});const u=[{self:t[0].content}];var c=t[0].content.drawable();function h(d,p){let _={};for(let y=0;y<u.length;y+=1)_=nt(_,u[y]);return p!==void 0&&p&1&&(_=nt(_,Bt(u,[{self:d[0].content}]))),{props:_}}c&&(r=Dt(c,h(t)));let f=t[2]&&co(t);return{c(){e=X("g"),he(n.$$.fragment),r&&he(r.$$.fragment),i=Qe(` -->
  `),f&&f.c(),g(e,"transform",o=`translate(${t[3].xMin},${t[3].yMin})`),g(e,"cursor","pointer")},m(d,p){V(d,e,p),ae(n,e,null),r&&ae(r,e,null),H(e,i),f&&f.m(e,null),s=!0,l||(a=[le(e,"click",t[13]),le(e,"dblclick",t[14]),le(e,"mouseenter",t[6]),le(e,"mouseleave",t[7])],l=!0)},p(d,[p]){const _={};if(p&2&&(_.self=d[1]),n.$set(_),p&1&&c!==(c=d[0].content.drawable())){if(r){Ae();const y=r;j(y.$$.fragment,1,0,()=>{ue(y,1)}),Le()}c?(r=Dt(c,h(d,p)),he(r.$$.fragment),P(r.$$.fragment,1),ae(r,e,i)):r=null}else if(c){const y=p&1?Bt(u,[{self:d[0].content}]):{};r.$set(y)}d[2]?f?f.p(d,p):(f=co(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||p&8&&o!==(o=`translate(${d[3].xMin},${d[3].yMin})`))&&g(e,"transform",o)},i(d){s||(P(n.$$.fragment,d),r&&P(r.$$.fragment,d),s=!0)},o(d){j(n.$$.fragment,d),r&&j(r.$$.fragment,d),s=!1},d(d){d&&D(e),ue(n),r&&ue(r),f&&f.d(),l=!1,Ze(a)}}}function Tf(t,e,n){let r,i,o,s,l,a;const u=Ft();let{self:c}=e,{decoration:h}=e;const{selections:f}=qs(ci);Ds(t,f,b=>n(12,a=b));const d={x:1,y:1};let p=!1;function _(b){n(9,p=!0),u("nodeEnter",{...b,nodeId:r})}function y(b){n(9,p=!1),u("nodeLeave",{...b,nodeId:r})}function $(b){$e.call(this,t,b)}function k(b){$e.call(this,t,b)}return t.$$set=b=>{"self"in b&&n(0,c=b.self),"decoration"in b&&n(8,h=b.decoration)},t.$$.update=()=>{t.$$.dirty&1&&n(11,r=c.nodeId),t.$$.dirty&6144&&n(10,i=a.has(r)),t.$$.dirty&1&&n(3,o=c.boundingBox()),t.$$.dirty&1&&n(2,s=c.options.badge),t.$$.dirty&1793&&n(1,l=new fi(c.content.boundingBox().width,c.content.boundingBox().height).with({borderColor:Ve.foreground.grayTertiary,borderWidth:1,radius:6,borderDash:c.options.borderDash,backgroundColor:c.options.backgroundColor}).with({...h}).with(p?{borderColor:Ve.foreground.blue}:{}).with(i?{borderColor:Ve.foreground.blue,borderWidth:3}:{}).build())},[c,l,s,o,f,d,_,y,h,p,i,r,a,$,k]}let hi=class extends Ne{constructor(e){super(),xe(this,e,Tf,Cf,be,{self:0,decoration:8})}};function Sf(t){return new Qs(new sl(t)).with({minWidth:30})}class If extends ct{constructor(e,...n){super({selectable:!1,borderDash:void 0,badge:void 0,tooltip:void 0,backgroundColor:Ve.white,borderColor:Ve.foreground.grayTertiary,humanReadable:void 0,padding:{l:8,r:8,t:10,b:10}}),L(this,"contents"),this.nodeId=e,this.contents=n.length>0?n:[Sf(this.options.humanReadable||this.nodeId)]}humanReadable(){return this.options.humanReadable}build(e={}){const n=[...Xh(this.contents.map(r=>new Wt(r,this.options.padding)),new hl().with({color:this.options.borderColor,dash:this.options.borderDash}))];return new ul(this.nodeId,new Js(...n).build(e),this.options)}}class ul extends Vt{constructor(e,n,r){super(),this.nodeId=e,this.content=n,this.options=r}boundingBox(){return this.content.boundingBox().transformed(this.transform)}drawable(){return hi}}class fi extends ct{constructor(e,n){super({backgroundColor:Ve.black,borderColor:"none",borderWidth:0,borderDash:void 0,radius:void 0}),L(this,"width"),L(this,"height"),this.width=e,this.height=n}padded(e){return new Wt(this,e)}build(e={}){return new di(this.width,this.height,this.options)}}class di extends Vt{constructor(e,n,r){super(),this.width=e,this.height=n,this.options=r}boundingBox(){return new se(0,0,this.width,this.height)}drawable(){return al}}function Of(t){return t.l!==void 0}class Wt{constructor(e,n){L(this,"p"),this.inner=e,this.inner=e,this.p=Of(n)?n:{l:n,r:n,t:n,b:n}}content(){return this.inner}padding(){return this.p}build(e={}){const{l:n,t:r,r:i}=this.p,o=e.targetWidth?this.inner.build({...e,targetWidth:e.targetWidth-n-i}):this.inner.build({...e});return o.moveTo(n,r),new cl(o,this.p)}}class cl extends Mn{constructor(e,n){super(e),L(this,"padding"),this.padding=n}boundingBox(){return super.boundingBox().padded(this.padding)}drawable(){return li}}const Af=1,Lf=100;class hl extends ct{constructor(e){super({color:Ve.foreground.grayTertiary,dash:void 0}),L(this,"width"),this.width=e}build(e={}){const n=this.width||e.targetWidth||Lf;return new di(n,Af,{backgroundColor:this.options.color,borderColor:"none",borderWidth:0,radius:void 0,borderDash:this.options.dash})}}const vr=Object.freeze(Object.defineProperty({__proto__:null,Edge:bf,EdgeDisplayObject:ui,EdgesDisplayObject:ol,Frame:rl,FrameDisplayObject:il,HStack:Qs,Node:If,NodeDisplayObject:ul,Padded:Wt,PaddedDisplayObject:cl,Rect:fi,RectDisplayObject:di,Separator:hl,StackContainer:ai,Text:sl,TextDisplayObject:ll,Theme:ka,Tooltip:mf,TooltipDisplayObject:nl,VStack:Js,ZStack:gf,positionTooltip:tl},Symbol.toStringTag,{value:"Module"}));function Pf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rf="\0",ft="\0",fo="";let Df=class{constructor(e){L(this,"_isDirected",!0),L(this,"_isMultigraph",!1),L(this,"_isCompound",!1),L(this,"_label"),L(this,"_defaultNodeLabelFn",()=>{}),L(this,"_defaultEdgeLabelFn",()=>{}),L(this,"_nodes",{}),L(this,"_in",{}),L(this,"_preds",{}),L(this,"_out",{}),L(this,"_sucs",{}),L(this,"_edgeObjs",{}),L(this,"_edgeLabels",{}),L(this,"_nodeCount",0),L(this,"_edgeCount",0),L(this,"_parent"),L(this,"_children"),e&&(this._isDirected=e.hasOwnProperty("directed")?e.directed:!0,this._isMultigraph=e.hasOwnProperty("multigraph")?e.multigraph:!1,this._isCompound=e.hasOwnProperty("compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[ft]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(n=>Object.keys(e._in[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(e._out[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(o){r.length>1?i.setNode(o,n):i.setNode(o)}),this}setNode(e,n){return this._nodes.hasOwnProperty(e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ft,this._children[e]={},this._children[ft][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return this._nodes.hasOwnProperty(e)}removeNode(e){var n=this;if(this._nodes.hasOwnProperty(e)){var r=i=>n.removeEdge(n._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){n.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=ft;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==ft)return n}}children(e=ft){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else{if(e===ft)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return Object.keys(n)}successors(e){var n=this._sucs[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([s,l]){e(s)&&n.setNode(s,l)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,r.edge(s))});var i={};function o(s){var l=r.parent(s);return l===void 0||n.hasNode(l)?(i[s]=l,l):l in i?i[l]:o(l)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,o(s))),n}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return e.reduce(function(o,s){return i.length>1?r.setEdge(o,s,n):r.setEdge(o,s),s}),this}setEdge(){var e,n,r,i,o=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,n=s.w,r=s.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=s,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var l=on(this._isDirected,e,n,r);if(this._edgeLabels.hasOwnProperty(l))return o&&(this._edgeLabels[l]=i),this;if(r!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[l]=o?i:this._defaultEdgeLabelFn(e,n,r);var a=Bf(this._isDirected,e,n,r);return e=a.v,n=a.w,Object.freeze(a),this._edgeObjs[l]=a,po(this._preds[n],e),po(this._sucs[e],n),this._in[n][l]=a,this._out[e][l]=a,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?br(this._isDirected,arguments[0]):on(this._isDirected,e,n,r);return this._edgeLabels[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?br(this._isDirected,arguments[0]):on(this._isDirected,e,n,r);return this._edgeLabels.hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?br(this._isDirected,arguments[0]):on(this._isDirected,e,n,r),o=this._edgeObjs[i];return o&&(e=o.v,n=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],go(this._preds[n],e),go(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.v===n):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}};function po(t,e){t[e]?t[e]++:t[e]=1}function go(t,e){--t[e]||delete t[e]}function on(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+fo+o+fo+(r===void 0?Rf:r)}function Bf(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var l={v:i,w:o};return r&&(l.name=r),l}function br(t,e){return on(t,e.v,e.w,e.name)}var pi=Df,Ff="2.2.2",Vf={Graph:pi,version:Ff},Wf=pi,jf={write:Gf,read:Uf};function Gf(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:zf(t),edges:Hf(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function zf(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function Hf(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function Uf(t){var e=new Wf(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Yf=qf;function qf(t){var e={},n=[],r;function i(o){e.hasOwnProperty(o)||(e[o]=!0,r.push(o),t.successors(o).forEach(i),t.predecessors(o).forEach(i))}return t.nodes().forEach(function(o){r=[],i(o),r.length&&n.push(r)}),n}let Xf=class{constructor(){L(this,"_arr",[]),L(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return this._keyIndices.hasOwnProperty(e)}priority(e){var n=this._keyIndices[e];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,n){var r=this._keyIndices;if(e=String(e),!r.hasOwnProperty(e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:n}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(e){var n=this._arr,r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var n=this._arr,r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)this._swap(e,i),e=i}_swap(e,n){var r=this._arr,i=this._keyIndices,o=r[e],s=r[n];r[e]=s,r[n]=o,i[s.key]=e,i[o.key]=n}};var fl=Xf,Kf=fl,dl=Qf,Zf=()=>1;function Qf(t,e,n,r){return Jf(t,String(e),n||Zf,r||function(i){return t.outEdges(i)})}function Jf(t,e,n,r){var i={},o=new Kf,s,l,a=function(u){var c=u.v!==s?u.v:u.w,h=i[c],f=n(u),d=l.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);d<h.distance&&(h.distance=d,h.predecessor=s,o.decrease(c,d))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},o.add(u,c)});o.size()>0&&(s=o.removeMin(),l=i[s],l.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(a);return i}var ed=dl,td=nd;function nd(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=ed(t,i,e,n),r},{})}var pl=rd;function rd(t){var e=0,n=[],r={},i=[];function o(s){var l=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(c){r.hasOwnProperty(c)?r[c].onStack&&(l.lowlink=Math.min(l.lowlink,r[c].index)):(o(c),l.lowlink=Math.min(l.lowlink,r[c].lowlink))}),l.lowlink===l.index){var a=[],u;do u=n.pop(),r[u].onStack=!1,a.push(u);while(s!==u);i.push(a)}}return t.nodes().forEach(function(s){r.hasOwnProperty(s)||o(s)}),i}var id=pl,od=sd;function sd(t){return id(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var ld=ud,ad=()=>1;function ud(t,e,n){return cd(t,e||ad,n||function(r){return t.outEdges(r)})}function cd(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(s){o!==s&&(r[o][s]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var l=s.v===o?s.w:s.v,a=e(s);r[o][l]={distance:a,predecessor:o}})}),i.forEach(function(o){var s=r[o];i.forEach(function(l){var a=r[l];i.forEach(function(u){var c=a[o],h=s[u],f=a[u],d=c.distance+h.distance;d<f.distance&&(f.distance=d,f.predecessor=h.predecessor)})})}),r}function gl(t){var e={},n={},r=[];function i(o){if(n.hasOwnProperty(o))throw new qr;e.hasOwnProperty(o)||(n[o]=!0,e[o]=!0,t.predecessors(o).forEach(i),delete n[o],r.push(o))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new qr;return r}class qr extends Error{constructor(){super(...arguments)}}var ml=gl;gl.CycleException=qr;var mo=ml,hd=fd;function fd(t){try{mo(t)}catch(e){if(e instanceof mo.CycleException)return!1;throw e}return!0}var wl=dd;function dd(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?l=>t.successors(l):l=>t.neighbors(l),i=n==="post"?pd:gd,o=[],s={};return e.forEach(l=>{if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);i(l,r,s,o)}),o}function pd(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):n.hasOwnProperty(o[0])||(n[o[0]]=!0,i.push([o[0],!0]),_l(e(o[0]),s=>i.push([s,!1])))}}function gd(t,e,n,r){for(var i=[t];i.length>0;){var o=i.pop();n.hasOwnProperty(o)||(n[o]=!0,r.push(o),_l(e(o),s=>i.push(s)))}}function _l(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var md=wl,wd=_d;function _d(t,e){return md(t,e,"post")}var vd=wl,bd=yd;function yd(t,e){return vd(t,e,"pre")}var kd=pi,Ed=fl,xd=Nd;function Nd(t,e){var n=new kd,r={},i=new Ed,o;function s(a){var u=a.v===o?a.w:a.v,c=i.priority(u);if(c!==void 0){var h=e(a);h<c&&(r[u]=o,i.decrease(u,h))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(a){i.add(a,Number.POSITIVE_INFINITY),n.setNode(a)}),i.decrease(t.nodes()[0],0);for(var l=!1;i.size()>0;){if(o=i.removeMin(),r.hasOwnProperty(o))n.setEdge(o,r[o]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(o).forEach(s)}return n}var Md={components:Yf,dijkstra:dl,dijkstraAll:td,findCycles:od,floydWarshall:ld,isAcyclic:hd,postorder:wd,preorder:bd,prim:xd,tarjan:pl,topsort:ml},wo=Vf,Ue={Graph:wo.Graph,json:jf,alg:Md,version:wo.version};let $d=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return _o(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&_o(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],n=this._sentinel,r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,Cd)),r=r._prev;return"["+e.join(", ")+"]"}};function _o(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Cd(t,e){if(t!=="_next"&&t!=="_prev")return e}var Td=$d;let Sd=Ue.Graph,Id=Td;var Od=Ld;let Ad=()=>1;function Ld(t,e){if(t.nodeCount()<=1)return[];let n=Rd(t,e||Ad);return Pd(n.graph,n.buckets,n.zeroIdx).flatMap(i=>t.outEdges(i.v,i.w))}function Pd(t,e,n){let r=[],i=e[e.length-1],o=e[0],s;for(;t.nodeCount();){for(;s=o.dequeue();)yr(t,e,n,s);for(;s=i.dequeue();)yr(t,e,n,s);if(t.nodeCount()){for(let l=e.length-2;l>0;--l)if(s=e[l].dequeue(),s){r=r.concat(yr(t,e,n,s,!0));break}}}return r}function yr(t,e,n,r,i){let o=i?[]:void 0;return t.inEdges(r.v).forEach(s=>{let l=t.edge(s),a=t.node(s.v);i&&o.push({v:s.v,w:s.w}),a.out-=l,Xr(e,n,a)}),t.outEdges(r.v).forEach(s=>{let l=t.edge(s),a=s.w,u=t.node(a);u.in-=l,Xr(e,n,u)}),t.removeNode(r.v),o}function Rd(t,e){let n=new Sd,r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{let a=n.edge(l.v,l.w)||0,u=e(l),c=a+u;n.setEdge(l.v,l.w,c),i=Math.max(i,n.node(l.v).out+=u),r=Math.max(r,n.node(l.w).in+=u)});let o=Dd(i+r+3).map(()=>new Id),s=r+1;return n.nodes().forEach(l=>{Xr(o,s,n.node(l))}),{graph:n,buckets:o,zeroIdx:s}}function Xr(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Dd(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}let vl=Ue.Graph;var fe={addBorderNode:Ud,addDummyNode:bl,asNonCompoundGraph:Fd,buildLayerMatrix:Gd,intersectRect:jd,mapValues:Qd,maxRank:yl,normalizeRanks:zd,notime:Xd,partition:Yd,pick:Zd,predecessorWeights:Wd,range:El,removeEmptyRanks:Hd,simplify:Bd,successorWeights:Vd,time:qd,uniqueId:kl,zipObject:gi};function bl(t,e,n,r){let i;do i=kl(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Bd(t){let e=new vl().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{let r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function Fd(t){let e=new vl({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function Vd(t){let e=t.nodes().map(n=>{let r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return gi(t.nodes(),e)}function Wd(t){let e=t.nodes().map(n=>{let r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return gi(t.nodes(),e)}function jd(t,e){let n=t.x,r=t.y,i=e.x-n,o=e.y-r,s=t.width/2,l=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(o)*s>Math.abs(i)*l?(o<0&&(l=-l),a=l*i/o,u=l):(i<0&&(s=-s),a=s,u=s*o/i),{x:n+a,y:r+u}}function Gd(t){let e=El(yl(t)+1).map(()=>[]);return t.nodes().forEach(n=>{let r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function zd(t){let e=Math.min(...t.nodes().map(n=>{let r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{let r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function Hd(t){let e=Math.min(...t.nodes().map(o=>t.node(o).rank)),n=[];t.nodes().forEach(o=>{let s=t.node(o).rank-e;n[s]||(n[s]=[]),n[s].push(o)});let r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((o,s)=>{o===void 0&&s%i!==0?--r:o!==void 0&&r&&o.forEach(l=>t.node(l).rank+=r)})}function Ud(t,e,n,r){let i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),bl(t,"border",i,e)}function yl(t){return Math.max(...t.nodes().map(e=>{let n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function Yd(t,e){let n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function qd(t,e){let n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function Xd(t,e){return e()}let Kd=0;function kl(t){var e=++Kd;return toString(t)+e}function El(t,e,n=1){e==null&&(e=t,t=0);let r=o=>o<e;n<0&&(r=o=>e<o);const i=[];for(let o=t;r(o);o+=n)i.push(o);return i}function Zd(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function Qd(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,o])=>(r[i]=n(o,i),r),{})}function gi(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Jd=Od,ep=fe.uniqueId;var tp={run:np,undo:ip};function np(t){(t.graph().acyclicer==="greedy"?Jd(t,n(t)):rp(t)).forEach(r=>{let i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,ep("rev"))});function n(r){return i=>r.edge(i).weight}}function rp(t){let e=[],n={},r={};function i(o){r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,t.outEdges(o).forEach(s=>{n.hasOwnProperty(s.w)?e.push(s):i(s.w)}),delete n[o])}return t.nodes().forEach(i),e}function ip(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.reversed){t.removeEdge(e);let r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}let op=fe;var sp={run:lp,undo:up};function lp(t){t.graph().dummyChains=[],t.edges().forEach(e=>ap(t,e))}function ap(t,e){let n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,s=e.name,l=t.edge(e),a=l.labelRank;if(o===r+1)return;t.removeEdge(e);let u,c,h;for(h=0,++r;r<o;++h,++r)l.points=[],c={width:0,height:0,edgeLabel:l,edgeObj:e,rank:r},u=op.addDummyNode(t,"edge",c,"_d"),r===a&&(c.width=l.width,c.height=l.height,c.dummy="edge-label",c.labelpos=l.labelpos),t.setEdge(n,u,{weight:l.weight},s),h===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:l.weight},s)}function up(t){t.graph().dummyChains.forEach(e=>{let n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var rr={longestPath:cp,slack:hp};function cp(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var o=Math.min(...t.outEdges(r).map(s=>s==null?Number.POSITIVE_INFINITY:n(s.w)-t.edge(s).minlen));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}t.sources().forEach(n)}function hp(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var fp=Ue.Graph,Qn=rr.slack,xl=dp;function dp(t){var e=new fp({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,o;pp(e,t)<r;)i=gp(e,t),o=e.hasNode(i.v)?Qn(t,i):-Qn(t,i),mp(e,t,o);return e}function pp(t,e){function n(r){e.nodeEdges(r).forEach(i=>{var o=i.v,s=r===o?i.w:o;!t.hasNode(s)&&!Qn(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})}return t.nodes().forEach(n),t.nodeCount()}function gp(t,e){return e.edges().reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(o=Qn(e,i)),o<r[0]?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function mp(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var wp=xl,vo=rr.slack,_p=rr.longestPath,vp=Ue.alg.preorder,bp=Ue.alg.postorder,yp=fe.simplify,kp=bt;bt.initLowLimValues=wi;bt.initCutValues=mi;bt.calcCutValue=Nl;bt.leaveEdge=$l;bt.enterEdge=Cl;bt.exchangeEdges=Tl;function bt(t){t=yp(t),_p(t);var e=wp(t);wi(e),mi(e,t);for(var n,r;n=$l(e);)r=Cl(e,t,n),Tl(e,t,n,r)}function mi(t,e){var n=bp(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>Ep(t,e,r))}function Ep(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=Nl(t,e,n)}function Nl(t,e,n){var r=t.node(n),i=r.parent,o=!0,s=e.edge(n,i),l=0;return s||(o=!1,s=e.edge(i,n)),l=s.weight,e.nodeEdges(n).forEach(a=>{var u=a.v===n,c=u?a.w:a.v;if(c!==i){var h=u===o,f=e.edge(a).weight;if(l+=h?f:-f,Np(t,n,c)){var d=t.edge(n,c).cutvalue;l+=h?-d:d}}}),l}function wi(t,e){arguments.length<2&&(e=t.nodes()[0]),Ml(t,{},1,e)}function Ml(t,e,n,r,i){var o=n,s=t.node(r);return e[r]=!0,t.neighbors(r).forEach(l=>{e.hasOwnProperty(l)||(n=Ml(t,e,n,l,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function $l(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function Cl(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),l=o,a=!1;o.lim>s.lim&&(l=s,a=!0);var u=e.edges().filter(c=>a===bo(t,t.node(c.v),l)&&a!==bo(t,t.node(c.w),l));return u.reduce((c,h)=>vo(e,h)<vo(e,c)?h:c)}function Tl(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),wi(t),mi(t,e),xp(t,e)}function xp(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=vp(t,n);r=r.slice(1),r.forEach(i=>{var o=t.node(i).parent,s=e.edge(i,o),l=!1;s||(s=e.edge(o,i),l=!0),e.node(i).rank=e.node(o).rank+(l?s.minlen:-s.minlen)})}function Np(t,e,n){return t.hasEdge(e,n)}function bo(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var Mp=rr,Sl=Mp.longestPath,$p=xl,Cp=kp,Tp=Sp;function Sp(t){switch(t.graph().ranker){case"network-simplex":yo(t);break;case"tight-tree":Op(t);break;case"longest-path":Ip(t);break;default:yo(t)}}var Ip=Sl;function Op(t){Sl(t),$p(t)}function yo(t){Cp(t)}var Ap=Lp;function Lp(t){let e=Rp(t);t.graph().dummyChains.forEach(n=>{let r=t.node(n),i=r.edgeObj,o=Pp(t,e,i.v,i.w),s=o.path,l=o.lca,a=0,u=s[a],c=!0;for(;n!==i.w;){if(r=t.node(n),c){for(;(u=s[a])!==l&&t.node(u).maxRank<r.rank;)a++;u===l&&(c=!1)}if(!c){for(;a<s.length-1&&t.node(u=s[a+1]).minRank<=r.rank;)a++;u=s[a]}t.setParent(n,u),n=t.successors(n)[0]}})}function Pp(t,e,n,r){let i=[],o=[],s=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim),a,u;a=n;do a=t.parent(a),i.push(a);while(a&&(e[a].low>s||l>e[a].lim));for(u=a,a=r;(a=t.parent(a))!==u;)o.push(a);return{path:i.concat(o.reverse()),lca:u}}function Rp(t){let e={},n=0;function r(i){let o=n;t.children(i).forEach(r),e[i]={low:o,lim:n++}}return t.children().forEach(r),e}let Kr=fe;var Dp={run:Bp,cleanup:Wp};function Bp(t){let e=Kr.addDummyNode(t,"root",{},"_root"),n=Fp(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(s=>t.edge(s).minlen*=i);let o=Vp(t)+1;t.children().forEach(s=>Il(t,e,i,o,r,n,s)),t.graph().nodeRankFactor=i}function Il(t,e,n,r,i,o,s){let l=t.children(s);if(!l.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}let a=Kr.addBorderNode(t,"_bt"),u=Kr.addBorderNode(t,"_bb"),c=t.node(s);t.setParent(a,s),c.borderTop=a,t.setParent(u,s),c.borderBottom=u,l.forEach(h=>{Il(t,e,n,r,i,o,h);let f=t.node(h),d=f.borderTop?f.borderTop:h,p=f.borderBottom?f.borderBottom:h,_=f.borderTop?r:2*r,y=d!==p?1:i-o[s]+1;t.setEdge(a,d,{weight:_,minlen:y,nestingEdge:!0}),t.setEdge(p,u,{weight:_,minlen:y,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,a,{weight:0,minlen:i+o[s]})}function Fp(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&o.forEach(s=>n(s,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function Vp(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function Wp(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}let jp=fe;var Gp=zp;function zp(t){function e(n){let r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(let o=i.minRank,s=i.maxRank+1;o<s;++o)ko(t,"borderLeft","_bl",n,i,o),ko(t,"borderRight","_br",n,i,o)}}t.children().forEach(e)}function ko(t,e,n,r,i,o){let s={width:0,height:0,rank:o,borderType:e},l=i[e][o-1],a=jp.addDummyNode(t,"border",s,n);i[e][o]=a,t.setParent(a,r),l&&t.setEdge(l,a,{weight:1})}var Hp={adjust:Up,undo:Yp};function Up(t){let e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&Ol(t)}function Yp(t){let e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&qp(t),(e==="lr"||e==="rl")&&(Xp(t),Ol(t))}function Ol(t){t.nodes().forEach(e=>Eo(t.node(e))),t.edges().forEach(e=>Eo(t.edge(e)))}function Eo(t){let e=t.width;t.width=t.height,t.height=e}function qp(t){t.nodes().forEach(e=>kr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(kr),n.hasOwnProperty("y")&&kr(n)})}function kr(t){t.y=-t.y}function Xp(t){t.nodes().forEach(e=>Er(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(Er),n.hasOwnProperty("x")&&Er(n)})}function Er(t){let e=t.x;t.x=t.y,t.y=e}let Kp=fe;var Zp=Qp;function Qp(t){let e={},n=t.nodes().filter(l=>!t.children(l).length),r=Math.max(...n.map(l=>t.node(l).rank)),i=Kp.range(r+1).map(()=>[]);function o(l){if(e[l])return;e[l]=!0;let a=t.node(l);i[a.rank].push(l),t.successors(l).forEach(o)}return n.sort((l,a)=>t.node(l).rank-t.node(a).rank).forEach(o),i}let Jp=fe.zipObject;var eg=tg;function tg(t,e){let n=0;for(let r=1;r<e.length;++r)n+=ng(t,e[r-1],e[r]);return n}function ng(t,e,n){let r=Jp(n,n.map((u,c)=>c)),i=e.flatMap(u=>t.outEdges(u).map(c=>({pos:r[c.w],weight:t.edge(c).weight})).sort((c,h)=>c.pos-h.pos)),o=1;for(;o<n.length;)o<<=1;let s=2*o-1;o-=1;let l=new Array(s).fill(0),a=0;return i.forEach(u=>{let c=u.pos+o;l[c]+=u.weight;let h=0;for(;c>0;)c%2&&(h+=l[c+1]),c=c-1>>1,l[c]+=u.weight;a+=u.weight*h}),a}var rg=ig;function ig(t,e=[]){return e.map(n=>{let r=t.inEdges(n);if(r.length){let i=r.reduce((o,s)=>{let l=t.edge(s),a=t.node(s.v);return{sum:o.sum+l.weight*a.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}let og=fe;var sg=lg;function lg(t,e){let n={};t.forEach((i,o)=>{let s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};i.barycenter!==void 0&&(s.barycenter=i.barycenter,s.weight=i.weight)}),e.edges().forEach(i=>{let o=n[i.v],s=n[i.w];o!==void 0&&s!==void 0&&(s.indegree++,o.out.push(n[i.w]))});let r=Object.values(n).filter(i=>!i.indegree);return ag(r)}function ag(t){let e=[];function n(i){return o=>{o.merged||(o.barycenter===void 0||i.barycenter===void 0||o.barycenter>=i.barycenter)&&ug(i,o)}}function r(i){return o=>{o.in.push(i),--o.indegree===0&&t.push(o)}}for(;t.length;){let i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(i=>!i.merged).map(i=>og.pick(i,["vs","i","barycenter","weight"]))}function ug(t,e){let n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}let cg=fe;var hg=fg;function fg(t,e){let n=cg.partition(t,c=>c.hasOwnProperty("barycenter")),r=n.lhs,i=n.rhs.sort((c,h)=>h.i-c.i),o=[],s=0,l=0,a=0;r.sort(dg(!!e)),a=xo(o,i,a),r.forEach(c=>{a+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,l+=c.weight,a=xo(o,i,a)});let u={vs:o.flat(!0)};return l&&(u.barycenter=s/l,u.weight=l),u}function xo(t,e,n){let r;for(;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function dg(t){return(e,n)=>e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}let pg=rg,gg=sg,mg=hg;var wg=Al;function Al(t,e,n,r){let i=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,l=o?o.borderRight:void 0,a={};s&&(i=i.filter(f=>f!==s&&f!==l));let u=pg(t,i);u.forEach(f=>{if(t.children(f.v).length){let d=Al(t,f.v,n,r);a[f.v]=d,d.hasOwnProperty("barycenter")&&vg(f,d)}});let c=gg(u,n);_g(c,a);let h=mg(c,r);if(s&&(h.vs=[s,h.vs,l].flat(!0),t.predecessors(s).length)){let f=t.node(t.predecessors(s)[0]),d=t.node(t.predecessors(l)[0]);h.hasOwnProperty("barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+d.order)/(h.weight+2),h.weight+=2}return h}function _g(t,e){t.forEach(n=>{n.vs=n.vs.flatMap(r=>e[r]?e[r].vs:r)})}function vg(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}let bg=Ue.Graph,yg=fe;var kg=Eg;function Eg(t,e,n){let r=xg(t),i=new bg({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{let s=t.node(o),l=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,l||r),t[n](o).forEach(a=>{let u=a.v===o?a.w:a.v,c=i.edge(u,o),h=c!==void 0?c.weight:0;i.setEdge(u,o,{weight:t.edge(a).weight+h})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function xg(t){for(var e;t.hasNode(e=yg.uniqueId("_root")););return e}var Ng=Mg;function Mg(t,e,n){let r={},i;n.forEach(o=>{let s=t.parent(o),l,a;for(;s;){if(l=t.parent(s),l?(a=r[l],r[l]=s):(a=i,i=s),a&&a!==s){e.setEdge(a,s);return}s=l}})}let $g=Zp,Cg=eg,Tg=wg,Sg=kg,Ig=Ng,Og=Ue.Graph,Pn=fe;var Ag=Ll;function Ll(t,e){if(e&&typeof e.customOrder=="function"){e.customOrder(t,Ll);return}let n=Pn.maxRank(t),r=No(t,Pn.range(1,n+1),"inEdges"),i=No(t,Pn.range(n-1,-1,-1),"outEdges"),o=$g(t);if(Mo(t,o),e&&e.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,l;for(let a=0,u=0;u<4;++a,++u){Lg(a%2?r:i,a%4>=2),o=Pn.buildLayerMatrix(t);let c=Cg(t,o);c<s&&(u=0,l=Object.assign({},o),s=c)}Mo(t,l)}function No(t,e,n){return e.map(function(r){return Sg(t,r,n)})}function Lg(t,e){let n=new Og;t.forEach(function(r){let i=r.graph().root,o=Tg(r,i,n,e);o.vs.forEach((s,l)=>r.node(s).order=l),Ig(r,n,o.vs)})}function Mo(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}let Pg=Ue.Graph,mn=fe;var Rg={positionX:Fg,findType1Conflicts:Pl,findType2Conflicts:Rl,addConflict:_i,hasConflict:Dl,verticalAlignment:Bl,horizontalCompaction:Fl,alignCoordinates:Wl,findSmallestWidthAlignment:Vl,balance:jl};function Pl(t,e){let n={};function r(i,o){let s=0,l=0,a=i.length,u=o[o.length-1];return o.forEach((c,h)=>{let f=Dg(t,c),d=f?t.node(f).order:a;(f||c===u)&&(o.slice(l,h+1).forEach(p=>{t.predecessors(p).forEach(_=>{let y=t.node(_),$=y.order;($<s||d<$)&&!(y.dummy&&t.node(p).dummy)&&_i(n,_,p)})}),l=h+1,s=d)}),o}return e.length&&e.reduce(r),n}function Rl(t,e){let n={};function r(o,s,l,a,u){let c;mn.range(s,l).forEach(h=>{c=o[h],t.node(c).dummy&&t.predecessors(c).forEach(f=>{let d=t.node(f);d.dummy&&(d.order<a||d.order>u)&&_i(n,f,c)})})}function i(o,s){let l=-1,a,u=0;return s.forEach((c,h)=>{if(t.node(c).dummy==="border"){let f=t.predecessors(c);f.length&&(a=t.node(f[0]).order,r(s,u,h,l,a),u=h,l=a)}r(s,u,s.length,a,o.length)}),s}return e.length&&e.reduce(i),n}function Dg(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function _i(t,e,n){if(e>n){let i=e;e=n,n=i}let r=t[e];r||(t[e]=r={}),r[n]=!0}function Dl(t,e,n){if(e>n){let r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function Bl(t,e,n,r){let i={},o={},s={};return e.forEach(l=>{l.forEach((a,u)=>{i[a]=a,o[a]=a,s[a]=u})}),e.forEach(l=>{let a=-1;l.forEach(u=>{let c=r(u);if(c.length){c=c.sort((f,d)=>s[f]-s[d]);let h=(c.length-1)/2;for(let f=Math.floor(h),d=Math.ceil(h);f<=d;++f){let p=c[f];o[u]===u&&a<s[p]&&!Dl(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],a=s[p])}}})}),{root:i,align:o}}function Fl(t,e,n,r,i){let o={},s=Bg(t,e,n,i),l=i?"borderLeft":"borderRight";function a(h,f){let d=s.nodes(),p=d.pop(),_={};for(;p;)_[p]?h(p):(_[p]=!0,d.push(p),d=d.concat(f(p))),p=d.pop()}function u(h){o[h]=s.inEdges(h).reduce((f,d)=>Math.max(f,o[d.v]+s.edge(d)),0)}function c(h){let f=s.outEdges(h).reduce((p,_)=>Math.min(p,o[_.w]-s.edge(_)),Number.POSITIVE_INFINITY),d=t.node(h);f!==Number.POSITIVE_INFINITY&&d.borderType!==l&&(o[h]=Math.max(o[h],f))}return a(u,s.predecessors.bind(s)),a(c,s.successors.bind(s)),Object.keys(r).forEach(h=>o[h]=o[n[h]]),o}function Bg(t,e,n,r){let i=new Pg,o=t.graph(),s=Vg(o.nodesep,o.edgesep,r);return e.forEach(l=>{let a;l.forEach(u=>{let c=n[u];if(i.setNode(c),a){var h=n[a],f=i.edge(h,c);i.setEdge(h,c,Math.max(s(t,u,a),f||0))}a=u})}),i}function Vl(t,e){return Object.values(e).reduce((n,r)=>{let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([l,a])=>{let u=Wg(t,l)/2;i=Math.max(a+u,i),o=Math.min(a-u,o)});const s=i-o;return s<n[0]&&(n=[s,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function Wl(t,e){let n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(s=>{let l=o+s,a=t[l];if(a===e)return;let u=Object.values(a),c=r-Math.min(...u);s!=="l"&&(c=i-Math.max(...u)),c&&(t[l]=mn.mapValues(a,h=>h+c))})})}function jl(t,e){return mn.mapValues(t.ul,(n,r)=>{if(e)return t[e.toLowerCase()][r];{let i=Object.values(t).map(o=>o[r]).sort((o,s)=>o-s);return(i[1]+i[2])/2}})}function Fg(t){let e=mn.buildLayerMatrix(t),n=Object.assign(Pl(t,e),Rl(t,e)),r={},i;["u","d"].forEach(s=>{i=s==="u"?e:Object.values(e).reverse(),["l","r"].forEach(l=>{l==="r"&&(i=i.map(h=>Object.values(h).reverse()));let a=(s==="u"?t.predecessors:t.successors).bind(t),u=Bl(t,i,n,a),c=Fl(t,i,u.root,u.align,l==="r");l==="r"&&(c=mn.mapValues(c,h=>-h)),r[s+l]=c})});let o=Vl(t,r);return Wl(r,o),jl(r,t.graph().align)}function Vg(t,e,n){return(r,i,o)=>{let s=r.node(i),l=r.node(o),a=0,u;if(a+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(s.dummy?e:t)/2,a+=(l.dummy?e:t)/2,a+=l.width/2,l.hasOwnProperty("labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function Wg(t,e){return t.node(e).width}let Gl=fe,jg=Rg.positionX;var Gg=zg;function zg(t){t=Gl.asNonCompoundGraph(t),Hg(t),Object.entries(jg(t)).forEach(([e,n])=>t.node(e).x=n)}function Hg(t){let e=Gl.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(i=>{const o=i.reduce((s,l)=>{const a=t.node(l).height;return s>a?s:a},0);i.forEach(s=>t.node(s).y=r+o/2),r+=o+n})}let $o=tp,Co=sp,Ug=Tp,Yg=fe.normalizeRanks,qg=Ap,Xg=fe.removeEmptyRanks,To=Dp,Kg=Gp,So=Hp,Zg=Ag,Qg=Gg,We=fe,Jg=Ue.Graph;var em=tm;function tm(t,e){let n=e&&e.debugTiming?We.time:We.notime;n("layout",()=>{let r=n("  buildLayoutGraph",()=>hm(t));n("  runLayout",()=>nm(r,n)),n("  updateInputGraph",()=>rm(t,r))})}function nm(t,e){e("    makeSpaceForEdgeLabels",()=>fm(t)),e("    removeSelfEdges",()=>ym(t)),e("    acyclic",()=>$o.run(t)),e("    nestingGraph.run",()=>To.run(t)),e("    rank",()=>Ug(We.asNonCompoundGraph(t))),e("    injectEdgeLabelProxies",()=>dm(t)),e("    removeEmptyRanks",()=>Xg(t)),e("    nestingGraph.cleanup",()=>To.cleanup(t)),e("    normalizeRanks",()=>Yg(t)),e("    assignRankMinMax",()=>pm(t)),e("    removeEdgeLabelProxies",()=>gm(t)),e("    normalize.run",()=>Co.run(t)),e("    parentDummyChains",()=>qg(t)),e("    addBorderSegments",()=>Kg(t)),e("    order",()=>Zg(t)),e("    insertSelfEdges",()=>km(t)),e("    adjustCoordinateSystem",()=>So.adjust(t)),e("    position",()=>Qg(t)),e("    positionSelfEdges",()=>Em(t)),e("    removeBorderNodes",()=>bm(t)),e("    normalize.undo",()=>Co.undo(t)),e("    fixupEdgeLabelCoords",()=>_m(t)),e("    undoCoordinateSystem",()=>So.undo(t)),e("    translateGraph",()=>mm(t)),e("    assignNodeIntersects",()=>wm(t)),e("    reversePoints",()=>vm(t)),e("    acyclic.undo",()=>$o.undo(t))}function rm(t,e){t.nodes().forEach(n=>{let r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{let r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}let im=["nodesep","edgesep","ranksep","marginx","marginy"],om={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},sm=["acyclicer","ranker","rankdir","align"],lm=["width","height"],Io={width:0,height:0},am=["minlen","weight","width","height","labeloffset"],um={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},cm=["labelpos"];function hm(t){let e=new Jg({multigraph:!0,compound:!0}),n=Nr(t.graph());return e.setGraph(Object.assign({},om,xr(n,im),We.pick(n,sm))),t.nodes().forEach(r=>{let i=Nr(t.node(r));const o=xr(i,lm);Object.keys(Io).forEach(s=>{o[s]===void 0&&(o[s]=Io[s])}),e.setNode(r,o),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{let i=Nr(t.edge(r));e.setEdge(r,Object.assign({},um,xr(i,am),We.pick(i,cm)))}),e}function fm(t){let e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{let r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function dm(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.width&&n.height){let r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};We.addDummyNode(t,"edge-proxy",o,"_ep")}})}function pm(t){let e=0;t.nodes().forEach(n=>{let r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function gm(t){t.nodes().forEach(e=>{let n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function mm(t){let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,l=o.marginy||0;function a(u){let c=u.x,h=u.y,f=u.width,d=u.height;e=Math.min(e,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,h-d/2),i=Math.max(i,h+d/2)}t.nodes().forEach(u=>a(t.node(u))),t.edges().forEach(u=>{let c=t.edge(u);c.hasOwnProperty("x")&&a(c)}),e-=s,r-=l,t.nodes().forEach(u=>{let c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{let c=t.edge(u);c.points.forEach(h=>{h.x-=e,h.y-=r}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=r)}),o.width=n-e+s,o.height=i-r+l}function wm(t){t.edges().forEach(e=>{let n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(We.intersectRect(r,o)),n.points.push(We.intersectRect(i,s))})}function _m(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function vm(t){t.edges().forEach(e=>{let n=t.edge(e);n.reversed&&n.points.reverse()})}function bm(t){t.nodes().forEach(e=>{if(t.children(e).length){let n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),s=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function ym(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function km(t){var e=We.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,o)=>{var s=t.node(i);s.order=o+r,(s.selfEdges||[]).forEach(l=>{We.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function Em(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,l=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-l},{x:i+5*s/6,y:o-l},{x:i+s,y:o},{x:i+5*s/6,y:o+l},{x:i+2*s/3,y:o+l}],n.label.x=n.x,n.label.y=n.y}})}function xr(t,e){return We.mapValues(We.pick(t,e),Number)}function Nr(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}let xm=fe,Nm=Ue.Graph;var Mm={debugOrdering:$m};function $m(t){let e=xm.buildLayerMatrix(t),n=new Nm({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(r=>{n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(r=>n.setEdge(r.v,r.w,{},r.name)),e.forEach((r,i)=>{let o="layer"+i;n.setNode(o,{rank:"same"}),r.reduce((s,l)=>(n.setEdge(s,l,{style:"invis"}),l))}),n}var Cm="1.1.2",Hn={graphlib:Ue,layout:em,debug:Mm,util:{time:fe.time,notime:fe.notime},version:Cm};const Oo=Pf(Hn);class Tm{compute(e,n){const r=new Oo.graphlib.Graph;r.setGraph({}),r.setDefaultEdgeLabel(()=>({})),r.setDefaultNodeLabel(()=>({}));const i=new Map,o=new Map,s=new Map,l=new Map,a=k=>{const b=e.childrenT(k);if(b.length===0){const w=e.node(k).build(),{width:v,height:C}=w.boundingBox();r.setNode(k,{width:v,height:C}),i.set(k,w)}else{if(!n.has(k)&&k!==e.root()){const w=e.node(k);s.set(k,{boundingBox:{},name:w.humanReadable()||k})}for(const w of b)if(n.has(w))for(const v of e.hierarchyPreorder(w)){const C=e.node(w).build();l.set(v,w);const{width:E,height:O}=C.boundingBox();r.setNode(w,{width:E,height:O}),o.set(w,C)}else a(w)}};a(e.root());for(const{v:k,w:b}of e.edges()){const w=l.get(k)||k,v=l.get(b)||b;w!==v&&r.setEdge(w,v)}const u=performance.now();Oo.layout(r);const c=performance.now(),{width:h,height:f}=r.graph(),d=new se(0,0,h,f);for(const[k,b]of i.entries()){const{x:w,y:v,width:C,height:E}=r.node(k);b.moveTo(w-C/2,v-E/2)}for(const[k,b]of o.entries()){const{x:w,y:v,width:C,height:E}=r.node(k);b.moveTo(w-C/2,v-E/2)}const p=20;for(const k of e.hierarchyPostorder()){const b=s.get(k);if(b!==void 0){const w=e.childrenT(k).reduce((v,C)=>{var E,O,B;const z=(E=i.get(C))==null?void 0:E.boundingBox();z!==void 0&&v.push(z);const K=(O=o.get(C))==null?void 0:O.boundingBox();K!==void 0&&v.push(K);const W=(B=s.get(C))==null?void 0:B.boundingBox;if(W!==void 0&&C!==k){const T=2*-p+10,M=se.fromCenterAndDimension(W.center,W.width+T,W.height+T);v.push(M)}return v},[]);b.boundingBox=se.fromUnion(...w).padded(p)}}const _=r.edges().map(k=>{const{points:b}=r.edge(k);return[{from:k.v,to:k.w},new ui(b)]}).map(([k,b])=>b),y={layoutTimeMs:c-u},$=new ol(..._);return{nodes:i,collapsed:o,expanded:s,edges:$,boundingBox:d.union($.boundingBox()),stats:y}}}class vi extends Hn.graphlib.Graph{constructor(e){super({compound:!0}),e!==void 0?Object.assign(this,e):(this.setGraph({}),this.setDefaultEdgeLabel(()=>({})))}setNodeWithParent(e,n,r){this.setNode(e,n),this.setParent(e,r)}parents(e){const n=[];let r=this.parent(e);for(;r!==void 0;)n.push(r),r=this.parent(r);return n}hierarchyPreorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{n.push(o);for(const s of this.childrenT(o))i(s)};for(const o of this.childrenT(r))i(o);return n}hierarchyPostorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{for(const s of this.childrenT(o))i(s);n.push(o)};for(const o of this.childrenT(r))i(o);return n}childrenT(e){return this.children(e)}parent(e){return super.parent(e)}nodes(){return super.nodes()}modules(){return this.nodes().filter(e=>this.childrenT(e).length>0)}edges(){return super.edges()}root(){return"\0"}toJson(){return Hn.graphlib.json.write(this)}static readJson(e){return new vi(Hn.graphlib.json.read(e))}}function Sm(t,e,n,r){const i=new Set,o=new Set;if(r.expand)for(const l of e)for(const a of t.parents(l))n.has(a)?o.add(a):i.add(a);const s=new Set;if(r.collapseOthers)for(const l of t.modules())!o.has(l)&&!n.has(l)&&!i.has(l)&&s.add(l);return{collapse:s,expand:o}}function Im(t,e){const n=r=>e.has(r)||t.childrenT(r).length===0?1:t.childrenT(r).reduce((i,o)=>i+n(o),0);return t.childrenT(t.root()).reduce((r,i)=>r+n(i),0)}function Om(t){let e;return{c(){e=X("path"),g(e,"d","M20.441,59.9614212 C21.0957895,59.9614212 22.7266842,56.6764211 22.7266842,52.7482369 L22.7266842,38.6593685 L18.182579,38.6593685 L18.182579,52.7482369 C18.182579,56.6764211 19.8134737,59.9614212 20.441,59.9614212 Z M4.26163159,40.7638948 L36.6204211,40.7638948 C38.9460001,40.7638948 40.4145264,39.317579 40.4145264,37.1453685 C40.4145264,29.5821053 31.9740001,21.9558421 20.441,21.9558421 C8.93526317,21.9558421 0.494736843,29.5821053 0.494736843,37.1453685 C0.494736843,39.317579 1.96884211,40.7638948 4.26163159,40.7638948 Z M5.2911579,36.8756316 C4.71700001,36.8756316 4.4541579,36.5583159 4.56310527,35.8480001 C5.1023158,31.2280527 11.0429474,25.7078948 20.441,25.7078948 C29.8718948,25.7078948 35.7796843,31.2280527 36.346158,35.8480001 C36.4551053,36.5583159 36.1650001,36.8756316 35.5908948,36.8756316 L5.2911579,36.8756316 Z M3.74989474,2.76857895 C3.74989474,3.55452632 4.0611579,4.40605264 4.72705264,5.26868422 C6.03868422,7.0183158 9.13778949,9.44489475 12.3810527,11.5798421 L11.4523158,25.1263685 L15.5584737,25.1263685 L16.4983158,9.67205265 C16.5311053,9.30078949 16.4711053,9.17515791 16.2254211,9.04952633 C12.3641579,7.09368422 9.37084212,4.73952632 9.18573686,4.22889474 C8.96778949,3.90094737 9.18626317,3.66589474 9.48189475,3.66589474 L31.4273685,3.66589474 C31.7013158,3.66589474 31.9142106,3.90094737 31.7291053,4.22889474 C31.5112106,4.73952632 28.5451053,7.09368422 24.6621579,9.04952633 C24.4437369,9.17515791 24.3836843,9.30078949 24.4164737,9.67205265 L25.3563685,25.1263685 L29.4569474,25.1263685 L28.501,11.5798421 C31.7497895,9.44489475 34.8488948,7.0183158 36.1605264,5.26868422 C36.8481053,4.40605264 37.1593685,3.55452632 37.1593685,2.76857895 C37.1593685,1.20726316 35.9421053,0.0500000001 34.1512632,0.0500000001 L6.75800001,0.0500000001 C4.93989475,0.0500000001 3.74989474,1.20726316 3.74989474,2.76857895 Z"),g(e,"transform","translate(11.737 2)"),g(e,"fill",t[0]),g(e,"stroke",t[1])},m(n,r){V(n,e,r)},p(n,[r]){r&1&&g(e,"fill",n[0]),r&2&&g(e,"stroke",n[1])},i:q,o:q,d(n){n&&D(e)}}}function Am(t,e,n){let{fill:r="white"}=e,{stroke:i="white"}=e;return t.$$set=o=>{"fill"in o&&n(0,r=o.fill),"stroke"in o&&n(1,i=o.stroke)},[r,i]}class Lm extends Ne{constructor(e){super(),xe(this,e,Am,Om,be,{fill:0,stroke:1})}}function Pm(t){let e,n,r,i,o,s,l,a,u,c,h,f,d;const p=[{self:t[0].content}];var _=t[0].content.drawable();function y($,k){let b={};for(let w=0;w<p.length;w+=1)b=nt(b,p[w]);return k!==void 0&&k&1&&(b=nt(b,Bt(p,[{self:$[0].content}]))),{props:b}}return _&&(n=Dt(_,y(t))),u=new Lm({}),{c(){e=X("g"),n&&he(n.$$.fragment),r=X("g"),i=X("rect"),s=X("text"),l=Qe("Pin"),a=X("g"),he(u.$$.fragment),g(i,"x","-37"),g(i,"y","-10"),g(i,"width","50"),g(i,"height","20"),g(i,"rx","10"),g(i,"fill",o=t[1]==="pinned"?"orange":"rgb(51,51,51)"),g(i,"stroke","white"),g(i,"stroke-width","2"),g(s,"x","-18"),g(s,"y",1),g(s,"font-family",kn.family),g(s,"font-size","10"),g(s,"text-anchor","middle"),g(s,"dominant-baseline","middle"),g(s,"fill","white"),g(a,"transform","scale(0.2) translate(-32 -30)"),g(r,"transform",c=`translate(${t[2].width+t[6].x},${-t[6].y})`),g(r,"cursor","pointer"),g(e,"role","tooltip")},m($,k){V($,e,k),n&&ae(n,e,null),H(e,r),H(r,i),H(r,s),H(s,l),H(r,a),ae(u,a,null),h=!0,f||(d=[le(r,"click",t[3]),le(r,"keydown",t[3]),le(e,"mouseenter",t[4]),le(e,"mouseleave",t[5])],f=!0)},p($,[k]){if(k&1&&_!==(_=$[0].content.drawable())){if(n){Ae();const b=n;j(b.$$.fragment,1,0,()=>{ue(b,1)}),Le()}_?(n=Dt(_,y($,k)),he(n.$$.fragment),P(n.$$.fragment,1),ae(n,e,r)):n=null}else if(_){const b=k&1?Bt(p,[{self:$[0].content}]):{};n.$set(b)}(!h||k&2&&o!==(o=$[1]==="pinned"?"orange":"rgb(51,51,51)"))&&g(i,"fill",o),(!h||k&4&&c!==(c=`translate(${$[2].width+$[6].x},${-$[6].y})`))&&g(r,"transform",c)},i($){h||(n&&P(n.$$.fragment,$),P(u.$$.fragment,$),h=!0)},o($){n&&j(n.$$.fragment,$),j(u.$$.fragment,$),h=!1},d($){$&&D(e),n&&ue(n),ue(u),f=!1,Ze(d)}}}function Rm(t,e,n){let r,{nodeId:i}=e,{tooltip:o}=e,{state:s}=e;const l=Ft();function a(f){f.stopPropagation(),l("togglePin",{nodeId:i})}function u(f){l("nodeEnter",{...f,nodeId:i})}function c(f){l("nodeLeave",{...f,nodeId:i})}const h={x:1,y:1};return t.$$set=f=>{"nodeId"in f&&n(7,i=f.nodeId),"tooltip"in f&&n(0,o=f.tooltip),"state"in f&&n(1,s=f.state)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.boundingBox())},[o,s,r,a,u,c,h,i]}class Dm extends Ne{constructor(e){super(),xe(this,e,Rm,Pm,be,{nodeId:7,tooltip:0,state:1})}}const zl=300;function Bm(t,e,n){function r(){t.update(i=>(i.set(e,{tooltip:n,state:"active"}),i))}return window.setTimeout(r,zl)}function Hl(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&r.state!=="pinned"&&(r.state!=="active"&&window.clearTimeout(r.state),n.set(e,{...r,state:"active"})),n})}function Ul(t,e){function n(){t.update(r=>(r.delete(e),r))}t.update(r=>{const i=r.get(e);return i!==void 0&&i.state!=="pinned"&&r.set(e,{...i,state:window.setTimeout(n,zl)}),r})}function Fm(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&(r.state==="pinned"?n.set(e,{...r,state:"active"}):n.set(e,{...r,state:"pinned"})),n})}function Ao(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1].position,r[11]=e[n][1].tooltip,r[12]=e[n][1].state,r}function Lo(t,e){let n,r,i,o;return r=new Dm({props:{nodeId:e[9],tooltip:e[11],state:e[12]}}),r.$on("mouseenter",e[2]),r.$on("mouseleave",e[3]),r.$on("togglePin",e[4]),r.$on("nodeEnter",e[7]),r.$on("nodeLeave",e[8]),{key:t,first:null,c(){n=X("g"),he(r.$$.fragment),g(n,"transform",i=`translate(${e[10].x},${e[10].y})`),this.first=n},m(s,l){V(s,n,l),ae(r,n,null),o=!0},p(s,l){e=s;const a={};l&1&&(a.nodeId=e[9]),l&1&&(a.tooltip=e[11]),l&1&&(a.state=e[12]),r.$set(a),(!o||l&1&&i!==(i=`translate(${e[10].x},${e[10].y})`))&&g(n,"transform",i)},i(s){o||(P(r.$$.fragment,s),o=!0)},o(s){j(r.$$.fragment,s),o=!1},d(s){s&&D(n),ue(r)}}}function Vm(t){let e=[],n=new Map,r,i,o=Be(t[0]);const s=l=>l[9];for(let l=0;l<o.length;l+=1){let a=Ao(t,o,l),u=s(a);n.set(u,e[l]=Lo(u,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Fe()},m(l,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,a);V(l,r,a),i=!0},p(l,[a]){a&29&&(o=Be(l[0]),Ae(),e=zn(e,a,s,1,l,o,n,r.parentNode,Gn,Lo,r,Ao),Le())},i(l){if(!i){for(let a=0;a<o.length;a+=1)P(e[a]);i=!0}},o(l){for(let a=0;a<e.length;a+=1)j(e[a]);i=!1},d(l){l&&D(r);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}const Wm=20;function jm(t,e,n){let r,i;const{tooltips:o}=qs(ci);Ds(t,o,f=>n(6,i=f));let{nodeLayouts:s}=e;function l(f){Hl(o,f.detail.nodeId)}function a(f){Ul(o,f.detail.nodeId)}function u(f){Fm(o,f.detail.nodeId)}function c(f){$e.call(this,t,f)}function h(f){$e.call(this,t,f)}return t.$$set=f=>{"nodeLayouts"in f&&n(5,s=f.nodeLayouts)},t.$$.update=()=>{t.$$.dirty&96&&n(0,r=[...i.entries()].filter(([f])=>s.has(f)).map(([f,{tooltip:d,state:p}])=>{var _;const y=(_=s.get(f))==null?void 0:_.boundingBox(),$=tl(y,d.boundingBox(),d.options.anchor,Wm);return[f,{position:$,tooltip:d,state:p}]}))},[r,o,l,a,u,s,i,c,h]}class Gm extends Ne{constructor(e){super(),xe(this,e,jm,Vm,be,{nodeLayouts:5})}}function zm(t){let e,n,r,i,o,s,l,a,u;return{c(){e=X("g"),n=X("rect"),o=X("text"),s=Qe(t[0]),g(n,"width",r=t[1].width),g(n,"height",i=t[1].height),g(n,"fill","rgb(250,250,250)"),g(n,"stroke","rgb(134, 134, 139)"),g(n,"stroke-width","1"),g(n,"rx","6"),g(n,"class","svelte-76qmi8"),g(o,"y","-2"),g(o,"font-family",kn.family),g(o,"class","svelte-76qmi8"),g(e,"class","expand svelte-76qmi8"),g(e,"transform",l=`translate(${t[1].xMin},${t[1].yMin})`)},m(c,h){V(c,e,h),H(e,n),H(e,o),H(o,s),a||(u=[le(e,"click",t[5]),le(e,"dblclick",t[6]),le(e,"mouseenter",t[2]),le(e,"mouseleave",t[3])],a=!0)},p(c,[h]){h&2&&r!==(r=c[1].width)&&g(n,"width",r),h&2&&i!==(i=c[1].height)&&g(n,"height",i),h&1&&Nn(s,c[0]),h&2&&l!==(l=`translate(${c[1].xMin},${c[1].yMin})`)&&g(e,"transform",l)},i:q,o:q,d(c){c&&D(e),a=!1,Ze(u)}}}function Hm(t,e,n){const r=Ft();let{nodeId:i}=e,{name:o}=e,{boundingBox:s}=e;function l(){r("nodeEnter",{nodeId:i})}function a(){r("nodeLeave",{nodeId:i})}function u(h){$e.call(this,t,h)}function c(h){$e.call(this,t,h)}return t.$$set=h=>{"nodeId"in h&&n(4,i=h.nodeId),"name"in h&&n(0,o=h.name),"boundingBox"in h&&n(1,s=h.boundingBox)},[o,s,l,a,i,u,c]}class Um extends Ne{constructor(e){super(),xe(this,e,Hm,zm,be,{nodeId:4,name:0,boundingBox:1})}}class bi{constructor(e,n,r={x:0,y:0},i=1){this.width=e,this.height=n,this.cameraPos=r,this.cameraScale=i}viewToWorld(){return Or.identity().translate(this.cameraPos.x,this.cameraPos.y)}worldToView(){return this.viewToWorld().inverse()}screenToView(){return Or.identity().scale(1/this.cameraScale).translate(-this.width/2,-this.height/2)}viewToScreen(){return this.screenToView().inverse()}worldToScreen(){const e=this.worldToView();return this.viewToScreen().scale(e.k).translate(e.x,e.y)}screenToWorld(){return this.worldToScreen().inverse()}screenWidth(){return this.width}screenHeight(){return this.height}moveBy(e,n){this.cameraPos.x+=e,this.cameraPos.y+=n}moveTo(e,n){this.cameraPos.x=e,this.cameraPos.y=n}resize(e,n){this.width=e,this.height=n}center(){return this.cameraPos}scale(){return this.cameraScale}scaleBy(e){this.cameraScale*=e}scaleTo(e){this.cameraScale=e}fit(e){const{x:n,y:r}=e.center;this.moveTo(n,r);const i=Math.min(this.width/e.width,this.height/e.height);this.scaleTo(i||1)}world(){const e=this.screenToWorld().apply(0,0),n=this.screenToWorld().apply(this.width,this.height);return new se(e.x,e.y,n.x,n.y)}viewBox(){const e=this.world();return`${e.xMin} ${e.yMin} ${e.width} ${e.height}`}}class Ym{constructor(e){L(this,"scaleMin",Number.MIN_VALUE),L(this,"scaleMax",Number.MAX_VALUE),L(this,"boundingBox",se.infinity()),this.viewport=e}setViewport(e){this.viewport=e}setScaleExtent(e){return e.min!==void 0&&(this.scaleMin=e.min),e.max!==void 0&&(this.scaleMax=e.max),this}scaleExtent(){return{min:this.scaleMin,max:this.scaleMax}}setTranslationExtent(e){return e.xMin!==void 0&&(this.boundingBox.xMin=e.xMin),e.yMin!==void 0&&(this.boundingBox.yMin=e.yMin),e.xMax!==void 0&&(this.boundingBox.xMax=e.xMax),e.yMax!==void 0&&(this.boundingBox.yMax=e.yMax),this}translationExtent(){return this.boundingBox}limitScale(e){return Wn(this.scaleMin,this.scaleMax,e)}limitTranslation(e,n){return e=Wn(this.boundingBox.xMin,this.boundingBox.xMax,e),n=Wn(this.boundingBox.yMin,this.boundingBox.yMax,n),{x:e,y:n}}scaleBy(e){const n=this.limitScale(this.viewport.scale()*e);this.viewport.scaleTo(n)}scaleTo(e){const n=this.limitScale(e);this.viewport.scaleTo(n)}moveBy(e,n){const{x:r,y:i}=this.viewport.center(),o=this.limitTranslation(r+e,i+n);this.viewport.moveTo(o.x,o.y)}moveTo(e,n){const r=this.limitTranslation(e,n);this.viewport.moveTo(r.x,r.y)}}const Mt=[];function Zr(t,e=q){let n;const r=new Set;function i(l){if(be(t,l)&&(t=l,n)){const a=!Mt.length;for(const u of r)u[1](),Mt.push(u,t);if(a){for(let u=0;u<Mt.length;u+=2)Mt[u][0](Mt[u+1]);Mt.length=0}}}function o(l){i(l(t))}function s(l,a=q){const u=[l,a];return r.add(u),r.size===1&&(n=e(i,o)||q),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}function Po(t){return Object.prototype.toString.call(t)==="[object Date]"}function qm(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Qr(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,o)=>Qr(t[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Po(t)&&Po(e)){t=t.getTime(),e=e.getTime();const o=e-t;return s=>new Date(t+s*o)}const r=Object.keys(e),i={};return r.forEach(o=>{i[o]=Qr(t[o],e[o])}),o=>{const s={};return r.forEach(l=>{s[l]=i[l](o)}),s}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Xm(t,e={}){const n=Zr(t);let r,i=t;function o(s,l){if(t==null)return n.set(t=s),Promise.resolve();i=s;let a=r,u=!1,{delay:c=0,duration:h=400,easing:f=Kh,interpolate:d=Qr}=nt(nt({},e),l);if(h===0)return a&&(a.abort(),a=null),n.set(t=i),Promise.resolve();const p=Qh()+c;let _;return r=Jh(y=>{if(y<p)return!0;u||(_=d(t,s),typeof h=="function"&&(h=h(t,s)),u=!0),a&&(a.abort(),a=null);const $=y-p;return $>h?(n.set(t=s),!1):(n.set(t=_(f($/h))),!0)}),r.promise}return{set:o,update:(s,l)=>o(s(i,t),l),subscribe:n.subscribe}}function Km(t){let e,n,r,i,o;return{c(){e=X("rect"),g(e,"x",n=t[0].xMin),g(e,"y",r=t[0].yMin),g(e,"width",i=t[0].width),g(e,"height",o=t[0].height),g(e,"fill","grey"),g(e,"opacity","0.2")},m(s,l){V(s,e,l)},p(s,[l]){l&1&&n!==(n=s[0].xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].width)&&g(e,"width",i),l&1&&o!==(o=s[0].height)&&g(e,"height",o)},i:q,o:q,d(s){s&&D(e)}}}function Zm(t,e,n){let r,{start:i}=e,{end:o}=e;return t.$$set=s=>{"start"in s&&n(1,i=s.start),"end"in s&&n(2,o=s.end)},t.$$.update=()=>{t.$$.dirty&6&&n(0,r=se.fromPoints(i,o))},[r,i,o]}class Qm extends Ne{constructor(e){super(),xe(this,e,Zm,Km,be,{start:1,end:2})}}function Jm(t){let e,n,r;return{c(){e=X("defs"),n=X("marker"),r=X("path"),g(r,"d","M 0 0 L 10 5 L 0 10 L 4 5 z"),g(r,"fill","var(--gray-tertiary)"),tf(r,"stroke-width","1"),g(n,"id","arrowhead"),g(n,"viewBox","0 0 10 10"),g(n,"refX","9"),g(n,"refY","5"),g(n,"markerUnits","strokeWidth"),g(n,"markerWidth","10"),g(n,"markerHeight","12"),g(n,"orient","auto")},m(i,o){V(i,e,o),H(e,n),H(n,r)},p:q,d(i){i&&D(e)}}}function e1(t){let e;const n=t[1].default,r=Bs(n,t,t[2],null),i=r||Jm();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&4)&&Ws(r,n,o,o[2],e?Vs(n,o[2],s,null):js(o[2]),null)},i(o){e||(P(i,o),e=!0)},o(o){j(i,o),e=!1},d(o){i&&i.d(o)}}}function t1(t){let e,n;return e=new li({props:{self:t[0],$$slots:{default:[e1]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.self=r[0]),i&4&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function n1(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i]}class r1 extends Ne{constructor(e){super(),xe(this,e,n1,t1,be,{self:0})}}function Ro(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function Do(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function Bo(t,e,n){const r=t.slice();return r[34]=e[n][0],r[40]=e[n][1].name,r[41]=e[n][1].boundingBox,r}function Fo(t,e){let n,r,i;function o(...s){return e[19](e[34],...s)}return r=new Um({props:{nodeId:e[34],name:e[40],boundingBox:e[41]}}),r.$on("dblclick",o),r.$on("nodeEnter",e[20]),r.$on("nodeLeave",e[21]),{key:t,first:null,c(){n=Fe(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.nodeId=e[34]),l[0]&4&&(a.name=e[40]),l[0]&4&&(a.boundingBox=e[41]),r.$set(a)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&D(n),ue(r,s)}}}function Vo(t,e){let n,r,i;function o(...s){return e[22](e[34],...s)}return r=new hi({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("click",o),r.$on("nodeEnter",e[23]),r.$on("nodeLeave",e[24]),{key:t,first:null,c(){n=Fe(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&D(n),ue(r,s)}}}function Wo(t,e){let n,r,i;function o(...s){return e[25](e[34],...s)}return r=new hi({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("dblclick",o),r.$on("nodeEnter",e[26]),r.$on("nodeLeave",e[27]),{key:t,first:null,c(){n=Fe(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&D(n),ue(r,s)}}}function jo(t){let e,n;return e=new Qm({props:{start:t[3].start,end:t[3].end}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,i){const o={};i[0]&8&&(o.start=r[3].start),i[0]&8&&(o.end=r[3].end),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function i1(t){let e,n,r=[],i=new Map,o,s,l=[],a=new Map,u,c=[],h=new Map,f,d,p,_,y,$,k,b,w,v,C=Be([...t[2].expanded.entries()]);const E=T=>T[34];for(let T=0;T<C.length;T+=1){let M=Bo(t,C,T),R=E(M);i.set(R,r[T]=Fo(R,M))}s=new r1({props:{self:t[2].edges}});let O=Be([...t[2].nodes.entries()]);const B=T=>T[34];for(let T=0;T<O.length;T+=1){let M=Do(t,O,T),R=B(M);a.set(R,l[T]=Vo(R,M))}let z=Be([...t[2].collapsed.entries()]);const K=T=>T[34];for(let T=0;T<z.length;T+=1){let M=Ro(t,z,T),R=K(M);h.set(R,c[T]=Wo(R,M))}let W=t[3].kind==="brushing"&&jo(t);return p=new Gm({props:{nodeLayouts:t[2].nodes}}),p.$on("nodeEnter",t[28]),p.$on("nodeLeave",t[29]),{c(){e=X("svg"),n=X("g");for(let T=0;T<r.length;T+=1)r[T].c();o=Fe(),he(s.$$.fragment);for(let T=0;T<l.length;T+=1)l[T].c();u=Fe();for(let T=0;T<c.length;T+=1)c[T].c();f=Fe(),W&&W.c(),d=Fe(),he(p.$$.fragment),g(n,"transform",_=t[6].toString()),g(e,"role","figure"),g(e,"width",y=t[0].screenWidth()),g(e,"height",$=t[0].screenHeight()),g(e,"style",k=`cursor: ${t[5]}`)},m(T,M){V(T,e,M),H(e,n);for(let R=0;R<r.length;R+=1)r[R]&&r[R].m(n,null);H(n,o),ae(s,n,null);for(let R=0;R<l.length;R+=1)l[R]&&l[R].m(n,null);H(n,u);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(n,null);H(n,f),W&&W.m(n,null),H(n,d),ae(p,n,null),t[30](e),b=!0,w||(v=[le(window,"mousemove",t[9]),le(window,"mouseup",t[8]),le(window,"keydown",t[14]),le(window,"keyup",t[15]),le(e,"mousedown",t[7]),le(e,"wheel",t[10])],w=!0)},p(T,M){M[0]&2052&&(C=Be([...T[2].expanded.entries()]),Ae(),r=zn(r,M,E,1,T,C,i,n,Gn,Fo,o,Bo),Le());const R={};M[0]&4&&(R.self=T[2].edges),s.$set(R),M[0]&8198&&(O=Be([...T[2].nodes.entries()]),Ae(),l=zn(l,M,B,1,T,O,a,n,Gn,Vo,u,Do),Le()),M[0]&4102&&(z=Be([...T[2].collapsed.entries()]),Ae(),c=zn(c,M,K,1,T,z,h,n,Gn,Wo,f,Ro),Le()),T[3].kind==="brushing"?W?(W.p(T,M),M[0]&8&&P(W,1)):(W=jo(T),W.c(),P(W,1),W.m(n,d)):W&&(Ae(),j(W,1,1,()=>{W=null}),Le());const Z={};M[0]&4&&(Z.nodeLayouts=T[2].nodes),p.$set(Z),(!b||M[0]&64&&_!==(_=T[6].toString()))&&g(n,"transform",_),(!b||M[0]&1&&y!==(y=T[0].screenWidth()))&&g(e,"width",y),(!b||M[0]&1&&$!==($=T[0].screenHeight()))&&g(e,"height",$),(!b||M[0]&32&&k!==(k=`cursor: ${T[5]}`))&&g(e,"style",k)},i(T){if(!b){for(let M=0;M<C.length;M+=1)P(r[M]);P(s.$$.fragment,T);for(let M=0;M<O.length;M+=1)P(l[M]);for(let M=0;M<z.length;M+=1)P(c[M]);P(W),P(p.$$.fragment,T),b=!0}},o(T){for(let M=0;M<r.length;M+=1)j(r[M]);j(s.$$.fragment,T);for(let M=0;M<l.length;M+=1)j(l[M]);for(let M=0;M<c.length;M+=1)j(c[M]);j(W),j(p.$$.fragment,T),b=!1},d(T){T&&D(e);for(let M=0;M<r.length;M+=1)r[M].d();ue(s);for(let M=0;M<l.length;M+=1)l[M].d();for(let M=0;M<c.length;M+=1)c[M].d();W&&W.d(),ue(p),t[30](null),w=!1,Ze(v)}}}function o1(t){switch(t.kind){case"initial":return"grab";case"panning":return"grabbing";case"brushing":case"awaitBrushing":return"default"}}function s1(t,e,n){let r,i,o,{decorations:s}=e,{drawable:l}=e,{viewport:a}=e,{multiSelection:u}=e;const c=new Ym(a);let h;function f(S){var F;let Y=h.createSVGPoint();return"targetTouches"in S?(Y.x=S.targetTouches[0].clientX,Y.y=S.targetTouches[0].clientY):(Y.x=S.clientX,Y.y=S.clientY),Y=Y.matrixTransform((F=h.getScreenCTM())==null?void 0:F.inverse()),Y}let d={kind:"initial"};function p(S){if(S.preventDefault(),!("targetTouches"in S)&&S.button!==0)return;const{x:F,y:Y}=f(S),J=a.screenToWorld().apply(F,Y);S.shiftKey&&u?n(3,d={kind:"brushing",start:J,end:J}):(n(3,d={kind:"panning",start:J,tmp:new bi(a.screenWidth(),a.screenHeight(),a.center(),a.scale())}),c.setViewport(d.tmp))}function _(){switch(d.kind){case"initial":return;case"panning":{a.scaleTo(d.tmp.scale());const{x:S,y:F}=d.tmp.center();a.moveTo(S,F),c.setViewport(a),n(3,d={kind:"initial"});break}case"brushing":{const S=se.fromPoints(d.start,d.end),F=[...l.nodes.entries()].filter(([Y,J])=>S.encloses(J.boundingBox())).map(([Y,J])=>Y);b("brush",{nodes:F});break}}n(3,d={kind:"initial"})}function y(S){const{x:F,y:Y}=f(S),J=a.screenToWorld().apply(F,Y);switch(d.kind){case"initial":return;case"panning":{const _e=d.start.x-J.x,de=d.start.y-J.y;c.moveBy(_e,de),n(0,a);break}case"brushing":{n(3,d.end=J,d);break}}}function $(S){S.preventDefault();const F=-S.deltaY*(S.deltaMode===1?.05:S.deltaMode?1:.002),Y=a.scale();if(c.scaleBy(Math.pow(2,F)),Y===a.scale())return;const J=a.center(),{x:_e,y:de}=f(S),ve=a.screenToWorld().apply(_e,de);c.moveBy(-(J.x-ve.x)*F,-(J.y-ve.y)*F),n(0,a)}async function k(S,F){const Y=se.fromCenterAndDimension(S.center,Math.max(a.screenWidth(),S.width),Math.max(a.screenHeight(),S.height)),{x:J,y:_e}=Y.center,de=Math.min(a.screenWidth()/S.width,a.screenHeight()/S.height)||1;if(F!==void 0&&F){const ve=Xm({...a.center(),k:a.scale()},{duration:1e3,easing:qm});ve.subscribe(Me=>{c.moveTo(Me.x,Me.y),c.scaleTo(Me.k),n(0,a)}),await ve.set({x:J,y:_e,k:de})}else c.moveTo(J,_e),c.scaleTo(de),n(0,a)}const b=Ft();function w(S,F){S.stopPropagation(),b("collapse",{nodeId:F})}function v(S,F){S.stopPropagation(),b("expand",{nodeId:F})}function C(S,F){S.stopPropagation(),b("nodeClick",{nodeId:F,original:S})}function E(S){d.kind==="initial"&&S.shiftKey&&u&&n(3,d={kind:"awaitBrushing"})}function O(){d.kind==="awaitBrushing"&&n(3,d={kind:"initial"})}const B=(S,F)=>{w(F,S)};function z(S){$e.call(this,t,S)}function K(S){$e.call(this,t,S)}const W=(S,F)=>{C(F,S)};function T(S){$e.call(this,t,S)}function M(S){$e.call(this,t,S)}const R=(S,F)=>{v(F,S)};function Z(S){$e.call(this,t,S)}function me(S){$e.call(this,t,S)}function we(S){$e.call(this,t,S)}function ye(S){$e.call(this,t,S)}function ce(S){st[S?"unshift":"push"](()=>{h=S,n(4,h)})}return t.$$set=S=>{"decorations"in S&&n(1,s=S.decorations),"drawable"in S&&n(2,l=S.drawable),"viewport"in S&&n(0,a=S.viewport),"multiSelection"in S&&n(16,u=S.multiSelection)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(18,r=a.world()),t.$$.dirty[0]&262149&&c.setScaleExtent({min:Math.min(a.screenWidth()/l.boundingBox.width,a.screenHeight()/l.boundingBox.height)*.5,max:1}).setTranslationExtent(l.boundingBox.padded({l:r.width*.4,r:r.width*.4,t:r.height*.4,b:r.height*.4})),t.$$.dirty[0]&1&&n(6,i=a.worldToScreen().toString()),t.$$.dirty[0]&8&&n(5,o=o1(d))},[a,s,l,d,h,o,i,p,_,y,$,w,v,C,E,O,u,k,r,B,z,K,W,T,M,R,Z,me,we,ye,ce]}class l1 extends Ne{constructor(e){super(),xe(this,e,s1,i1,be,{decorations:1,drawable:2,viewport:0,multiSelection:16,setFocus:17},null,[-1,-1])}get setFocus(){return this.$$.ctx[17]}}function a1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,y,$;return{c(){e=ge("div"),n=ge("canvas"),r=et(),i=X("svg"),o=X("rect"),h=X("rect"),g(n,"class","svelte-133ndzu"),g(o,"fill","rgb(0, 122, 255)"),g(o,"x",s=t[6].x),g(o,"y",l=t[6].y),g(o,"width",a=t[6].w),g(o,"height",u=t[6].h),g(o,"opacity","0.1"),g(o,"style",c=t[5]?"cursor: grabbing":"cursor: grab"),g(h,"fill","none"),g(h,"stroke","rgb(0, 122, 255)"),g(h,"x",f=t[6].x),g(h,"y",d=t[6].y),g(h,"width",p=t[6].w),g(h,"height",_=t[6].h),g(i,"role","navigation"),g(i,"width",t[0]),g(i,"height",t[1]),g(i,"class","svelte-133ndzu"),g(e,"class","container svelte-133ndzu")},m(k,b){V(k,e,b),H(e,n),t[11](n),H(e,r),H(e,i),H(i,o),t[12](o),H(i,h),t[13](i),y||($=le(i,"mousedown",t[7]),y=!0)},p(k,[b]){b&64&&s!==(s=k[6].x)&&g(o,"x",s),b&64&&l!==(l=k[6].y)&&g(o,"y",l),b&64&&a!==(a=k[6].w)&&g(o,"width",a),b&64&&u!==(u=k[6].h)&&g(o,"height",u),b&32&&c!==(c=k[5]?"cursor: grabbing":"cursor: grab")&&g(o,"style",c),b&64&&f!==(f=k[6].x)&&g(h,"x",f),b&64&&d!==(d=k[6].y)&&g(h,"y",d),b&64&&p!==(p=k[6].w)&&g(h,"width",p),b&64&&_!==(_=k[6].h)&&g(h,"height",_),b&1&&g(i,"width",k[0]),b&2&&g(i,"height",k[1])},i:q,o:q,d(k){k&&D(e),t[11](null),t[12](null),t[13](null),y=!1,$()}}}function u1(t,e,n){let r,i;const o=Ft();function s(v){const C=r.worldToScreen().apply(v.xMin,v.yMin),E=r.worldToScreen().apply(v.xMax,v.yMax);return{x:C.x,y:C.y,w:E.x-C.x,h:E.y-C.y}}let{drawable:l}=e,{width:a}=e,{height:u}=e,{worldExtent:c}=e,h,f;function d(v){var C;let E=f.createSVGPoint();E.x=v.clientX,E.y=v.clientY,E=E.matrixTransform((C=f.getScreenCTM())==null?void 0:C.inverse());const O=r.screenToWorld().apply(E.x,E.y);o("viewportCenterDidChange",{center:O})}let p;function _(v){const C=r.screenToWorld().apply(0,0),E=r.screenToWorld().apply(v.dx,v.dy),O=c.center;O.x+=E.x-C.x,O.y+=E.y-C.y,o("viewportCenterDidChange",{center:O})}let y=!1;const $=fc().on("drag",_).on("start",()=>n(5,y=!0)).on("end",()=>n(5,y=!1));Ys(()=>{un(p).call($)});function k(v){st[v?"unshift":"push"](()=>{h=v,n(2,h),n(0,a),n(1,u),n(8,l)})}function b(v){st[v?"unshift":"push"](()=>{p=v,n(4,p)})}function w(v){st[v?"unshift":"push"](()=>{f=v,n(3,f)})}return t.$$set=v=>{"drawable"in v&&n(8,l=v.drawable),"width"in v&&n(0,a=v.width),"height"in v&&n(1,u=v.height),"worldExtent"in v&&n(9,c=v.worldExtent)},t.$$.update=()=>{if(t.$$.dirty&3&&n(10,r=new bi(a,u)),t.$$.dirty&1280&&r.fit(l.boundingBox.padded(2)),t.$$.dirty&512&&n(6,i=s(c)),t.$$.dirty&263&&h){let v=h.getContext("2d");n(2,h.width=a,h),n(2,h.height=u,h),v.fillStyle="white",v.fillRect(0,0,a,u),v.lineWidth=.5;for(const{boundingBox:C}of l.expanded.values()){const E=s(C);v.fillStyle="rgb(250, 250, 250)",v.fillRect(E.x,E.y,E.w,E.h),v.strokeStyle="rgb(134, 134, 139)",v.strokeRect(E.x,E.y,E.w,E.h)}for(const C of l.nodes.values()){const E=s(C.boundingBox());v.fillStyle="rgb(134, 134, 139)",v.fillRect(E.x,E.y,E.w,E.h)}for(const C of l.collapsed.values()){const E=s(C.boundingBox());v.fillStyle="rgb(134, 134, 139)",v.fillRect(E.x,E.y,E.w,E.h)}}},[a,u,h,f,p,y,i,d,l,c,r,k,b,w]}class c1 extends Ne{constructor(e){super(),xe(this,e,u1,a1,be,{drawable:8,width:0,height:1,worldExtent:9})}}function Go(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function h1(t){let e,n;return{c(){e=ge("span"),n=Qe(t[0]),g(e,"class","svelte-122vmdc")},m(r,i){V(r,e,i),H(e,n)},p(r,i){i&1&&Nn(n,r[0])},d(r){r&&D(e)}}}function f1(t){let e,n,r,i,o=Be(t[3]),s=[];for(let c=0;c<o.length;c+=1)s[c]=Ho(Go(t,o,c));function l(c,h){if(h&6&&(n=null),h&6&&(r=null),n==null&&(n=!!c[1].collapsed.has(c[2])),n)return p1;if(r==null&&(r=!!c[1].expanded.has(c[2])),r)return d1}let a=l(t,-1),u=a&&a(t);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=et(),u&&u.c(),i=Fe()},m(c,h){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(c,h);V(c,e,h),u&&u.m(c,h),V(c,i,h)},p(c,h){if(h&8){o=Be(c[3]);let f;for(f=0;f<o.length;f+=1){const d=Go(c,o,f);s[f]?s[f].p(d,h):(s[f]=Ho(d),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}a!==(a=l(c,h))&&(u&&u.d(1),u=a&&a(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(D(e),D(i)),Us(s,c),u&&u.d(c)}}}function zo(t){let e;return{c(){e=ge("span"),e.textContent="⟩",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&D(e)}}}function Ho(t){let e,n=t[5]+"",r,i,o,s=t[7]<t[3].length-1&&zo();return{c(){e=ge("span"),r=Qe(n),i=et(),s&&s.c(),o=Fe(),g(e,"class","svelte-122vmdc")},m(l,a){V(l,e,a),H(e,r),V(l,i,a),s&&s.m(l,a),V(l,o,a)},p(l,a){a&8&&n!==(n=l[5]+"")&&Nn(r,n),l[7]<l[3].length-1?s||(s=zo(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(l){l&&(D(e),D(i),D(o)),s&&s.d(l)}}}function d1(t){let e;return{c(){e=ge("span"),e.textContent="(Double click to collapse)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&D(e)}}}function p1(t){let e;return{c(){e=ge("span"),e.textContent="(Double click to expand)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&D(e)}}}function g1(t){let e;function n(o,s){return o[2]?f1:h1}let r=n(t),i=r(t);return{c(){e=ge("div"),i.c()},m(o,s){V(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:q,o:q,d(o){o&&D(e),i.d()}}}function m1(t,e,n){let r,{defaultText:i="Hover over any node to show more information."}=e,{network:o}=e,{drawable:s}=e,{currentNode:l}=e;return t.$$set=a=>{"defaultText"in a&&n(0,i=a.defaultText),"network"in a&&n(4,o=a.network),"drawable"in a&&n(1,s=a.drawable),"currentNode"in a&&n(2,l=a.currentNode)},t.$$.update=()=>{t.$$.dirty&20&&n(3,r=l?[l,...o.parents(l)].reverse().map(a=>o.node(a).humanReadable()||a):[])},[i,s,l,r,o]}class w1 extends Ne{constructor(e){super(),xe(this,e,m1,g1,be,{defaultText:0,network:4,drawable:1,currentNode:2})}}function Uo(t){let e,n,r;function i(s){t[34](s)}let o={decorations:t[8],drawable:t[15],multiSelection:t[7]};return t[13]!==void 0&&(o.viewport=t[13]),e=new l1({props:o}),t[33](e),st.push(()=>af(e,"viewport",i)),e.$on("expand",t[18]),e.$on("collapse",t[19]),e.$on("nodeEnter",t[20]),e.$on("nodeLeave",t[21]),e.$on("nodeClick",t[22]),e.$on("brush",t[25]),{c(){he(e.$$.fragment)},m(s,l){ae(e,s,l),r=!0},p(s,l){const a={};l[0]&256&&(a.decorations=s[8]),l[0]&32768&&(a.drawable=s[15]),l[0]&128&&(a.multiSelection=s[7]),!n&&l[0]&8192&&(n=!0,a.viewport=s[13],of(()=>n=!1)),e.$set(a)},i(s){r||(P(e.$$.fragment,s),r=!0)},o(s){j(e.$$.fragment,s),r=!1},d(s){t[33](null),ue(e,s)}}}function Yo(t){let e,n,r,i,o,s=t[3]&&qo(t),l=t[17]&&Xo(t),a=t[4]&&Ko(t);return{c(){e=ge("div"),s&&s.c(),n=et(),r=ge("div"),l&&l.c(),i=et(),a&&a.c(),g(r,"class","myc-navigation-controls svelte-15hd81r"),g(e,"class","myc-navigation svelte-15hd81r")},m(u,c){V(u,e,c),s&&s.m(e,null),H(e,n),H(e,r),l&&l.m(r,null),H(r,i),a&&a.m(r,null),o=!0},p(u,c){u[3]?s?(s.p(u,c),c[0]&8&&P(s,1)):(s=qo(u),s.c(),P(s,1),s.m(e,n)):s&&(Ae(),j(s,1,1,()=>{s=null}),Le()),u[17]?l?l.p(u,c):(l=Xo(u),l.c(),l.m(r,i)):l&&(l.d(1),l=null),u[4]?a?a.p(u,c):(a=Ko(u),a.c(),a.m(r,null)):a&&(a.d(1),a=null)},i(u){o||(P(s),o=!0)},o(u){j(s),o=!1},d(u){u&&D(e),s&&s.d(),l&&l.d(),a&&a.d()}}}function qo(t){let e,n;return e=new w1({props:{network:t[0],currentNode:t[16],drawable:t[15]}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.network=r[0]),i[0]&65536&&(o.currentNode=r[16]),i[0]&32768&&(o.drawable=r[15]),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function Xo(t){let e,n,r,i;return{c(){e=ge("div"),n=ge("button"),n.textContent="Collapse All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=le(n,"click",t[35]),r=!0)},p:q,d(o){o&&D(e),r=!1,i()}}}function Ko(t){let e,n,r,i;return{c(){e=ge("div"),n=ge("button"),n.textContent="Show All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=le(n,"click",t[36]),r=!0)},p:q,d(o){o&&D(e),r=!1,i()}}}function Zo(t){let e,n;return{c(){e=Qe("Powered by "),n=ge("a"),n.textContent="Mycelium",g(n,"href","https://apple.github.io/ml-mycelium"),g(n,"target","_blank"),g(n,"class","svelte-15hd81r")},m(r,i){V(r,e,i),V(r,n,i)},d(r){r&&(D(e),D(n))}}}function Qo(t){let e,n,r;return n=new c1({props:{width:t[1]*Rn,height:t[2]*Rn,worldExtent:t[13].world(),drawable:t[15]}}),n.$on("viewportCenterDidChange",t[24]),{c(){e=ge("div"),he(n.$$.fragment),g(e,"class","myc-minimap svelte-15hd81r")},m(i,o){V(i,e,o),ae(n,e,null),r=!0},p(i,o){const s={};o[0]&2&&(s.width=i[1]*Rn),o[0]&4&&(s.height=i[2]*Rn),o[0]&8192&&(s.worldExtent=i[13].world()),o[0]&32768&&(s.drawable=i[15]),n.$set(s)},i(i){r||(P(n.$$.fragment,i),r=!0)},o(i){j(n.$$.fragment,i),r=!1},d(i){i&&D(e),ue(n)}}}function _1(t){let e,n=t[0],r,i,o,s,l,a,u,c=Uo(t),h=(t[3]||t[4])&&Yo(t),f=t[5]&&Zo(),d=t[6]&&Qo(t);return{c(){e=ge("div"),c.c(),r=et(),h&&h.c(),i=et(),o=ge("div"),f&&f.c(),s=et(),d&&d.c(),g(o,"class","myc-overlay svelte-15hd81r"),g(e,"class","myc-container svelte-15hd81r")},m(p,_){V(p,e,_),c.m(e,null),H(e,r),h&&h.m(e,null),H(e,i),H(e,o),f&&f.m(o,null),H(e,s),d&&d.m(e,null),l=!0,a||(u=le(window,"keydown",t[23]),a=!0)},p(p,_){_[0]&1&&be(n,n=p[0])?(Ae(),j(c,1,1,q),Le(),c=Uo(p),c.c(),P(c,1),c.m(e,r)):c.p(p,_),p[3]||p[4]?h?(h.p(p,_),_[0]&24&&P(h,1)):(h=Yo(p),h.c(),P(h,1),h.m(e,i)):h&&(Ae(),j(h,1,1,()=>{h=null}),Le()),p[5]?f||(f=Zo(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),p[6]?d?(d.p(p,_),_[0]&64&&P(d,1)):(d=Qo(p),d.c(),P(d,1),d.m(e,null)):d&&(Ae(),j(d,1,1,()=>{d=null}),Le())},i(p){l||(P(c),P(h),P(d),l=!0)},o(p){j(c),j(h),j(d),l=!1},d(p){p&&D(e),c.d(p),h&&h.d(),f&&f.d(),d&&d.d(),a=!1,u()}}}const Rn=.2;function v1(t,e,n){let r,i,o,s,l=q,a=()=>(l(),l=zr(O,N=>n(37,s=N)),O),u,c=q,h=()=>(c(),c=zr(B,N=>n(38,u=N)),B);t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>c());let{network:f}=e,{width:d}=e,{height:p}=e,{showBreadcrumbs:_}=e,{showResetView:y}=e,{watermark:$}=e,{minimap:k}=e,{autoResize:b}=e,{multiSelection:w}=e,{decorations:v=new Map}=e,{collapsed:C=new Set(f.modules())}=e,{layoutProvider:E}=e;const O=Zr(new Map);a();const B=Zr(new Map);h(),rf(ci,{selections:O,tooltips:B});const z=new Map,K=Ft();function W(N,U){T.resize(N,U),n(13,T)}let T=new bi(d,p);Ys(async()=>{await we()});let M=[],R;function Z(N){const{yMin:U,yMax:te}=N,Q=20,Te=_?25/(T.screenHeight()||1)*(te-U):0;return N.padded({l:Q,r:Q,t:Q+Te,b:Q})}async function me(N,U){var te;N=Array.isArray(N)?N:[N];let Q=se.infinity();for(const Te of N){const Se=(te=i.nodes.get(Te))==null?void 0:te.boundingBox();Se&&(Q=Q.union(Se))}Q.isEmpty()||await R.setFocus(Z(Q),U)}async function we(N){await R.setFocus(Z(i.boundingBox),N)}async function ye(N,U){!w&&N.length>1&&(console.warn("Received multiple selections but `multiSelection` config was set to `false`."),N=[N[0]]);const te={expand:!0,collapseOthers:{threshold:1e3},...U},{expand:Q,collapse:Te}=Sm(f,N,C,te);let Se=!1;te.expand&&(Q.size>1&&te.expand==="single"||Q.size>0&&(Q.forEach(qe=>C.delete(qe)),Se=!0)),Te.size>0&&te.collapseOthers!==!1&&(te.collapseOthers===!0||Im(f,C)>te.collapseOthers.threshold)&&(Te.forEach(qe=>C.add(qe)),Se=!0),Se?(n(26,C),await Ln(),wr(O,s=new Map(N.map(qe=>[qe,new Set])),s),await we(!0)):wr(O,s=new Map(N.map(qe=>[qe,new Set])),s)}async function ce(N){const U=s;return wr(O,s=N,s),await Ln(),U}async function S(){return await ce(new Map)}async function F(){n(26,C=new Set(f.modules())),await we(!0)}async function Y(N){de(N),C.delete(N.detail.nodeId),n(26,C),await Ln(),await we(!0)}async function J(N){de(N),C.add(N.detail.nodeId),n(26,C),await Ln(),await we(!0)}function _e(N){var U;M[M.length-1]!==N.detail.nodeId&&(M.push(N.detail.nodeId),n(32,M));const te=N.detail.nodeId,Q=(U=i.nodes.get(te))==null?void 0:U.options.tooltip;if(Q){const Te=u.get(te);Te===void 0?z.set(te,Bm(B,te,Q().build())):Te.state!=="active"&&Te.state!=="pinned"&&Hl(B,te)}}function de(N){M.pop(),n(32,M);const U=N.detail.nodeId;clearTimeout(z.get(U)),Ul(B,U)}async function ve(N){const U=i.nodes.get(N.detail.nodeId);U!=null&&U.options.selectable&&(w&&N.detail.original.metaKey?Me(await ce(new Map([...s.entries(),[N.detail.nodeId,new Set]]))):Me(await ce(new Map([[N.detail.nodeId,new Set]]))))}function Me(N){const U=([te,Q])=>({primaryNodeId:te,secondaryIds:[...Q.values()]});K("selectionDidChange",{selections:[...s.entries()].map(U),previous:[...N.entries()].map(U)})}async function Ye(N){N.key==="Escape"&&Me(await S())}function ht(N){const{x:U,y:te}=N.detail.center;T.moveTo(U,te),n(13,T)}async function ee(N){Me(await ce(new Map(N.detail.nodes.map(U=>[U,new Set]))))}function pe(N){st[N?"unshift":"push"](()=>{R=N,n(14,R)})}function jt(N){T=N,n(13,T)}const $n=()=>F(),Gt=async()=>{await we(!0)};return t.$$set=N=>{"network"in N&&n(0,f=N.network),"width"in N&&n(1,d=N.width),"height"in N&&n(2,p=N.height),"showBreadcrumbs"in N&&n(3,_=N.showBreadcrumbs),"showResetView"in N&&n(4,y=N.showResetView),"watermark"in N&&n(5,$=N.watermark),"minimap"in N&&n(6,k=N.minimap),"autoResize"in N&&n(27,b=N.autoResize),"multiSelection"in N&&n(7,w=N.multiSelection),"decorations"in N&&n(8,v=N.decorations),"collapsed"in N&&n(26,C=N.collapsed),"layoutProvider"in N&&n(28,E=N.layoutProvider)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(17,r=C.size<f.modules().length),t.$$.dirty[0]&335544321&&n(15,i=E.compute(f,C)),t.$$.dirty[0]&6&&W(d,p),t.$$.dirty[1]&2&&n(16,o=M.at(M.length-1))},[f,d,p,_,y,$,k,w,v,O,B,we,F,T,R,i,o,r,Y,J,_e,de,ve,Ye,ht,ee,C,b,E,me,ye,S,M,pe,jt,$n,Gt]}class b1 extends Ne{constructor(e){super(),xe(this,e,v1,_1,be,{network:0,width:1,height:2,showBreadcrumbs:3,showResetView:4,watermark:5,minimap:6,autoResize:27,multiSelection:7,decorations:8,collapsed:26,layoutProvider:28,selectionStore:9,tooltipStore:10,setFocus:29,resetFocus:11,setSelections:30,clearSelections:31,collapseAll:12},null,[-1,-1])}get selectionStore(){return this.$$.ctx[9]}get tooltipStore(){return this.$$.ctx[10]}get setFocus(){return this.$$.ctx[29]}get resetFocus(){return this.$$.ctx[11]}get setSelections(){return this.$$.ctx[30]}get clearSelections(){return this.$$.ctx[31]}get collapseAll(){return this.$$.ctx[12]}}class yi{constructor(e,n){L(this,"decorations"),this.app=e,this.options=n,this.decorations=new Map}static create(e,n,r){const i={width:n.getBoundingClientRect().width,height:n.getBoundingClientRect().height,autoResize:!0,showBreadcrumbs:!0,showResetView:!0,watermark:!0,minimap:!0,layoutProvider:new Tm,multiSelection:!0,...r};i.watermark&&(console.info("╭┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╮"),console.info("| Powered by the Mycelium network     |"),console.info("| visualizer. For more information:   |"),console.info("| https://apple.github.io/ml-mycelium |"),console.info("╰┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╯"));const o=new b1({target:n,props:{network:e,...i}});return i.autoResize&&new ResizeObserver(()=>{o.$set({width:n.clientWidth,height:n.clientHeight})}).observe(n),new yi(o,i)}onSelectionDidChange(e){this.app.$on("selectionDidChange",n=>{e(n.detail)})}async setSelection(e,n){await this.app.setSelections([e],n)}async setSelections(e,n){await this.app.setSelections(e,n)}async collapseAll(){await this.app.collapseAll()}async clearSelections(){await this.app.clearSelections()}async setFocus(e,n){await this.app.setFocus(e,n)}async resetFocus(e){await this.app.resetFocus(e)}setDecoration(e,n){this.decorations.set(e,n),this.app.$set({decorations:this.decorations})}removeDecoration(e){this.decorations.delete(e),this.app.$set({decorations:this.decorations})}clearDecorations(){this.decorations.clear(),this.app.$set({decorations:this.decorations})}setNetwork(e){this.app.$set({network:e,collapsed:new Set(e.modules())})}getOptions(){return this.options}}function y1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,y,$,k,b,w,v,C,E,O,B,z=t[0]?"|":"/",K,W,T,M,R,Z,me,we,ye,ce,S,F,Y,J,_e,de,ve,Me,Ye,ht;return{c(){e=x("div"),n=x("div"),n.textContent="+power-",r=A(),i=x("span"),o=x("span"),o.textContent="-------------",s=x("span"),s.textContent="------------",l=G("Light Bulb"),a=A(),u=x("div"),c=x("div"),h=x("div"),h.textContent="|",f=A(),d=x("div"),p=G("|"),_=A(),y=x("div"),$=G("|"),k=A(),b=x("div"),w=x("div"),w.textContent="|",v=A(),C=x("div"),E=x("div"),O=x("button"),O.textContent="switch",B=A(),K=G(z),W=A(),T=x("div"),M=G("|"),R=A(),Z=x("div"),me=x("div"),me.textContent="|",we=A(),ye=x("div"),ce=G("|"),S=A(),F=x("div"),Y=G("|"),J=A(),_e=x("div"),de=x("span"),de.textContent="---------------------",ve=x("span"),Me=G("--------------------"),I(o,"color","yellow"),I(i,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),I(e,"display","flex"),I(e,"width","500px"),I(h,"color","yellow"),I(d,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),I(y,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Ie(c,"class","w svelte-1c1c3yo"),I(w,"color","yellow"),I(O,"position","absolute"),I(O,"left","-70px"),I(E,"position","relative"),I(C,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),I(T,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Ie(b,"class","w svelte-1c1c3yo"),I(me,"color","yellow"),I(ye,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),I(F,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Ie(Z,"class","w svelte-1c1c3yo"),I(de,"color","yellow"),I(ve,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),I(u,"width","300px")},m(ee,pe){oe(ee,e,pe),m(e,n),m(e,r),m(e,i),m(i,o),m(i,s),m(i,l),oe(ee,a,pe),oe(ee,u,pe),m(u,c),m(c,h),m(c,f),m(c,d),m(d,p),m(c,_),m(c,y),m(y,$),m(u,k),m(u,b),m(b,w),m(b,v),m(b,C),m(C,E),m(E,O),m(E,B),m(E,K),m(b,W),m(b,T),m(T,M),m(u,R),m(u,Z),m(Z,me),m(Z,we),m(Z,ye),m(ye,ce),m(Z,S),m(Z,F),m(F,Y),m(u,J),m(u,_e),m(_e,de),m(_e,ve),m(ve,Me),Ye||(ht=_n(O,"click",t[1]),Ye=!0)},p(ee,[pe]){pe&1&&I(i,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&I(d,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&I(y,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&z!==(z=ee[0]?"|":"/")&&ze(K,z),pe&1&&I(C,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&I(T,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&I(ye,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&I(F,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&I(ve,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow")},i:Ee,o:Ee,d(ee){ee&&(re(e),re(a),re(u)),Ye=!1,ht()}}}function k1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class E1 extends ut{constructor(e){super(),at(this,e,k1,y1,lt,{})}}function x1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f;return{c(){e=x("div"),n=x("div"),r=x("button"),r.textContent="power switch",i=A(),o=x("span"),l=G(s),a=A(),u=x("span"),c=G("-----------------------------Light Bulb"),I(o,"background",t[0]?"steelblue":"red"),I(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),I(e,"display","flex"),I(e,"width","500px")},m(d,p){oe(d,e,p),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),h||(f=_n(r,"click",t[1]),h=!0)},p(d,[p]){p&1&&s!==(s=d[0]?"on":"off")&&ze(l,s),p&1&&I(o,"background",d[0]?"steelblue":"red"),p&1&&I(u,"color",d[0]?"yellow":"rgba(255,255,255,0.5)")},i:Ee,o:Ee,d(d){d&&re(e),h=!1,f()}}}function N1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class M1 extends ut{constructor(e){super(),at(this,e,N1,x1,lt,{})}}function $1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f,d,p;return{c(){e=x("div"),n=x("div"),r=x("button"),r.textContent="power switch",i=A(),o=x("span"),l=G(s),a=A(),u=x("span"),c=x("div"),c.textContent="-----------------------------Light Bulb",h=A(),f=x("div"),f.textContent="<-----------------------------|",I(o,"background",t[0]?"steelblue":"red"),I(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),I(e,"display","flex"),I(e,"width","500px")},m(_,y){oe(_,e,y),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),m(u,h),m(u,f),d||(p=_n(r,"click",t[1]),d=!0)},p(_,[y]){y&1&&s!==(s=_[0]?"on":"off")&&ze(l,s),y&1&&I(o,"background",_[0]?"steelblue":"red"),y&1&&I(u,"color",_[0]?"yellow":"rgba(255,255,255,0.5)")},i:Ee,o:Ee,d(_){_&&re(e),d=!1,p()}}}function C1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class T1 extends ut{constructor(e){super(),at(this,e,C1,$1,lt,{})}}function S1(t){let e;return{c(){e=x("div"),I(e,"width",t[0]+"px"),I(e,"height",t[1]+"px"),I(e,"outline","1px dashed lightgrey"),I(e,"border-radius","3px")},m(n,r){oe(n,e,r),t[5](e)},p(n,[r]){r&1&&I(e,"width",n[0]+"px"),r&2&&I(e,"height",n[1]+"px")},i:Ee,o:Ee,d(n){n&&re(e),t[5](null)}}}function I1(t,e){function n(r){for(const i of r.out)t.setEdge(r.nodeId,i.nodeId),i.name!=="power"&&n(i)}n(e.source)}function O1(t,e,n){let{circuit:r}=e,{width:i=500}=e,{height:o=500}=e;function s(f,d,p=!1,_=!1){let y=p?"yellow":"lightgrey";return new vr.Node(f,new vr.VStack(new vr.Text(d))).with({backgroundColor:y}).with({..._&&{badge:{color:p?"steelblue":"crimson",text:p?"1":"0"}}})}function l(f,d,p,_=!1,y=!1){f.setNode(d,s(d,p,_,y))}function a(f,d){let p=0,_=0;function y($){let k=!1,b=!1;$.name==="wire"?($.nodeId=`wire[${p}]`,p++):$.name==="switch"?($.nodeId=`switch[${_}]`,$.on&&(k=!0),b=!0,_++):$.name==="signal"?($.nodeId="signal",b=!0):($.nodeId="power",k=!0),$.data===1&&(k=!0),l(f,$.nodeId,$.name,k,b);for(const w of $.out)w.name==="power"||w.nodeId!==void 0||y(w)}y(d.source)}let u,c;function h(f){Mr[f?"unshift":"push"](()=>{u=f,n(2,u)})}return t.$$set=f=>{"circuit"in f&&n(3,r=f.circuit),"width"in f&&n(0,i=f.width),"height"in f&&n(1,o=f.height)},t.$$.update=()=>{if(t.$$.dirty&28&&u){const f=new vi;r.resetNodeIds(),a(f,r),I1(f,r),c?(console.log(r),c.setNetwork(f)):n(4,c=yi.create(f,u,{showBreadcrumbs:!1,minimap:!1,watermark:!1,showResetView:!1}))}},[i,o,u,r,c,h]}class A1 extends ut{constructor(e){super(),at(this,e,O1,S1,lt,{circuit:3,width:0,height:1})}}function Jo(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function es(t){let e,n,r,i,o,s=t[0].signal.data===1?"on (1)":"off (0)",l,a,u,c;function h(p,_){return p[1]?P1:L1}let f=h(t),d=f(t);return u=new A1({props:{circuit:t[0]}}),{c(){d.c(),e=A(),n=x("div"),r=G("Output Signal "),i=x("div"),o=A(),l=G(s),a=A(),je(u.$$.fragment),I(i,"height","10px"),I(i,"width","10px"),I(i,"background",t[0].signal.data===1?"steelblue":"crimson"),I(n,"display","flex"),I(n,"gap","5px"),I(n,"align-items","center")},m(p,_){d.m(p,_),oe(p,e,_),oe(p,n,_),m(n,r),m(n,i),m(n,o),m(n,l),oe(p,a,_),Re(u,p,_),c=!0},p(p,_){f===(f=h(p))&&d?d.p(p,_):(d.d(1),d=f(p),d&&(d.c(),d.m(e.parentNode,e))),(!c||_&1)&&I(i,"background",p[0].signal.data===1?"steelblue":"crimson"),(!c||_&1)&&s!==(s=p[0].signal.data===1?"on (1)":"off (0)")&&ze(l,s);const y={};_&1&&(y.circuit=p[0]),u.$set(y)},i(p){c||(ke(u.$$.fragment,p),c=!0)},o(p){Oe(u.$$.fragment,p),c=!1},d(p){p&&(re(e),re(n),re(a)),d.d(p),De(u,p)}}}function L1(t){let e,n=Vi(t[0].other.filter(ns)),r=[];for(let i=0;i<n.length;i+=1)r[i]=ts(Jo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=os()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);oe(i,e,o)},p(i,o){if(o&1){n=Vi(i[0].other.filter(ns));let s;for(s=0;s<n.length;s+=1){const l=Jo(i,n,s);r[s]?r[s].p(l,o):(r[s]=ts(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&re(e),Zl(r,i)}}}function P1(t){let e,n,r,i,o,s=t[2]?"on (1)":"off (0)",l,a,u;return{c(){e=x("div"),n=x("button"),n.textContent="switch all",r=A(),i=x("div"),o=A(),l=G(s),I(i,"height","10px"),I(i,"width","10px"),I(i,"background",t[2]?"steelblue":"crimson"),I(e,"display","flex"),I(e,"gap","5px"),I(e,"align-items","center"),I(e,"margin-right","10px")},m(c,h){oe(c,e,h),m(e,n),m(e,r),m(e,i),m(e,o),m(e,l),a||(u=_n(n,"click",t[4]),a=!0)},p(c,h){h&4&&I(i,"background",c[2]?"steelblue":"crimson"),h&4&&s!==(s=c[2]?"on (1)":"off (0)")&&ze(l,s)},d(c){c&&re(e),a=!1,u()}}}function ts(t){let e,n,r=t[6].name+"",i,o,s,l,a,u,c=t[6].on?"on (1)":"off (0)",h,f,d,p;function _(){return t[5](t[6],t[7],t[8])}return{c(){e=x("div"),n=x("button"),i=G(r),o=A(),s=G(t[8]),l=A(),a=x("div"),u=A(),h=G(c),f=A(),I(a,"height","10px"),I(a,"width","10px"),I(a,"background",t[6].on?"steelblue":"crimson"),I(e,"display","flex"),I(e,"gap","5px"),I(e,"align-items","center"),I(e,"margin-right","10px")},m(y,$){oe(y,e,$),m(e,n),m(n,i),m(n,o),m(n,s),m(e,l),m(e,a),m(e,u),m(e,h),m(e,f),d||(p=_n(n,"click",_),d=!0)},p(y,$){t=y,$&1&&r!==(r=t[6].name+"")&&ze(i,r),$&1&&I(a,"background",t[6].on?"steelblue":"crimson"),$&1&&c!==(c=t[6].on?"on (1)":"off (0)")&&ze(h,c)},d(y){y&&re(e),d=!1,p()}}}function R1(t){let e,n,r=t[0]&&es(t);return{c(){r&&r.c(),e=os()},m(i,o){r&&r.m(i,o),oe(i,e,o),n=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&ke(r,1)):(r=es(i),r.c(),ke(r,1),r.m(e.parentNode,e)):r&&(ra(),Oe(r,1,1,()=>{r=null}),ia())},i(i){n||(ke(r),n=!0)},o(i){Oe(r),n=!1},d(i){i&&re(e),r&&r.d(i)}}}const ns=t=>t.name==="switch";function D1(t,e,n){let{circuit:r}=e,{sameSignals:i=!1}=e,o=!0;function s(){for(const u of r.other.filter(c=>c.name==="switch"))o?u.switchOn():u.switchOff()}const l=()=>{n(2,o=!o),s(),r.reset(),r.simulate(),n(0,r)},a=(u,c,h)=>{n(0,c[h].on=!u.on,r),r.reset(),r.simulate()};return t.$$set=u=>{"circuit"in u&&n(0,r=u.circuit),"sameSignals"in u&&n(1,i=u.sameSignals)},[r,i,o,s,l,a]}class Jt extends ut{constructor(e){super(),at(this,e,D1,R1,lt,{circuit:0,sameSignals:1})}}function B1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,y,$,k,b,w,v,C,E,O,B,z,K,W,T,M,R,Z,me,we,ye,ce,S,F,Y,J,_e,de,ve,Me,Ye,ht,ee,pe,jt,$n,Gt,N,U,te,Q,Te,Se,qe,ir,zt,ki,or,Ei,sr,xi,lr,yt,Ni,Ht,Ut,Mi,kt,$i,ar,Ci,ur,Ti,Yt,qt,Si,Et,Ii,Cn,Xt,Oi,Ai,cr,Li,Kt,Pi,Zt,Ri,Di,hr,Tn;return y=new M1({}),W=new T1({}),Y=new E1({}),ee=new Jt({props:{circuit:ua()}}),Q=new Jt({props:{circuit:la()}}),Se=new Jt({props:{circuit:aa()}}),yt=new _a({props:{func:yn}}),kt=new Jt({props:{circuit:Wi()}}),Et=new Jt({props:{circuit:Wi(),sameSignals:!0}}),{c(){e=x("div"),n=x("details"),r=x("summary"),r.innerHTML="<b>Electrical + Logic Gates Simulation (final example n bit adder)</b>",i=A(),o=x("div"),o.textContent=`I want to simulate the basic properties of electricity here. I want
			to show that I can create universal boolean logic gates simply by
			modulating electricity.`,s=A(),l=x("div"),l.innerHTML=`<b class="neon" style="--color: cyan;">Question:</b> Why is electricity
			good at representing info?`,a=A(),u=x("div"),u.textContent=`Electricity can be modeled similar to the flow of water (although
			the analogy breaks down in key places). But the point is we can
			propagate a signal over a wire (or pipe).`,c=A(),h=x("div"),h.textContent=`Simply put, I can have a wire where a signal travels down. Depending
			on the material we can change how this signal gets sent (speed,
			power, ...).`,f=A(),d=x("div"),p=x("div"),p.innerHTML=`<b class="neon" style="--color: orange;">Example</b>: using a
				pipe, I could send a signal down a wire to do something at the
				other end. For modeling purposes, this happens instantly.`,_=A(),je(y.$$.fragment),$=A(),k=x("div"),k.textContent=`Now it actually aint this simple. Given I have an electrical signal,
			the electrons don't just bend to my will.`,b=A(),w=x("div"),w.innerHTML=`<b class="neon" style="--color: red;">So How do I coax the electrons to signal?</b>: A quick simple model for getting an electron to do what you want
			is with + and -. Just think of these as two signals. Electrons are
			made up of the - signal and will actively want to move towards +
			signals.`,v=A(),C=x("div"),C.textContent=`In other words, at my example above, I needed the switch side to
			somehow ejects - electrons and have the lightbulb have + that the -
			electrons can move towards. One such way to make the lightbulb +
			like is to remove as many electrons from the lightbulb so that the
			electrons want to move there.`,E=A(),O=x("div"),O.textContent=`This is unfeasible since it also costs energy to do that. Instead,
			leverage the fact that we are ejecting electrons from the switch. In
			other words, as we remove - from the switch, it itself will become +
			like.`,B=A(),z=x("div"),K=G(`In other words, complete the circuit so to speak. Just add another
			wire that goes past the signal destination (light bulb) back to the
			source.
			`),je(W.$$.fragment),T=A(),M=x("div"),M.textContent=`Note that this only works if the power source stops electrons from
			flowing backwards. This lets the electrons flow over the longer path
			to reach the ++ part of it instead of just staying in the power
			source.`,R=A(),Z=x("div"),me=x("b"),me.textContent="Can we encode interesting operations in this simple system?",we=G(`: for example, can we encode a few boolean logic gate? If so, then
			we could reconstruct another other logic gate and compute anything
			(also worth revisiting deeply later).`),ye=A(),ce=x("div"),S=x("b"),S.textContent="Not Gate",F=A(),je(Y.$$.fragment),J=A(),_e=x("div"),_e.textContent=`When the switch is off, the output signal is on. But when the switch
			is on the output signal is off. This is because electricity will
			find the shortest path to the + signal. So most of the electrons
			will find there way down the signal once we turn on the switch.`,de=A(),ve=x("div"),ve.textContent=`The funny thing is, you can see why electricity represents boolean
			operations so well. In my visualization, to show the property that
			electricity takes the shorter path requires boolean operations in
			the code itself. So it's almost like nature has those properties
			built in, and we just combine them to look nicer in our brain. This
			is a circular argument though because by definition we are
			describing electricity with boolean logic.`,Me=A(),Ye=x("div"),ht=G(`To change up notation, here I'll have a graph where wires are also
			nodes and edges just show what is connected to what . Note that if
			there is a branch, two new wires are created. So the not gate in
			this notation looks like
			`),je(ee.$$.fragment),pe=A(),jt=x("div"),jt.textContent=`Some of these wires can be merged, but again, I show branching (like
			the wire branching from the middle splits the top into two). Again,
			the edges aren't wires in this diagram, wires are separate nodes and
			conceptual connections are edges.`,$n=A(),Gt=x("div"),N=x("details"),U=x("summary"),U.textContent=`In this same notation, you can represent the original
					circuits too`,te=G(`
				Incomplete circuit:
				`),je(Q.$$.fragment),Te=G(`

				One switch:
				`),je(Se.$$.fragment),qe=A(),ir=x("div"),zt=x("b"),zt.textContent=`Now let's create the boolean gates which take in two inputs (two
				switches) and output a single signal.`,ki=A(),or=x("div"),or.textContent=`It turns out that you can create any other logic gate by using a
			NAND gate (logical and not). This is weird. Think about the
			statement that anything computable can be represented as
			manipulation bits with NAND operations. Weird.`,Ei=A(),sr=x("div"),sr.textContent=`So let's create a NAND gate. It looks like a combination of the AND
			gate and the NOT gate.`,xi=A(),lr=x("div"),je(yt.$$.fragment),Ni=A(),Ht=x("div"),Ut=x("b"),Ut.textContent="NAND Gate",Mi=G(`: toggle to see
			outputs given inputs
			`),je(kt.$$.fragment),$i=A(),ar=x("div"),ar.textContent=`Like I said, it looks like a combination of the AND and NOT gate.
			It's really just adding another switch right after the first NOT
			switch.`,Ci=A(),ur=x("div"),ur.textContent=`Note that it reverts to a NOT gate for the 0,0 and 1,1 example. So
			we can easily recreate a NOT gate from NAND by just feeding the same
			value in.`,Ti=A(),Yt=x("div"),qt=x("b"),qt.textContent="NOT Gate",Si=G(` with NAND by
			copying signal to control both switches
			`),je(Et.$$.fragment),Ii=A(),Cn=x("div"),Xt=x("b"),Xt.textContent="AND Gate",Oi=G(` is just NOT(NAND(a,
			b)) -> AND(a,b). So I can combine the previous two circuits. As you can
			see above, the logic can be recursively merged into a circuit which is
			probably smaller in footprint. But this sucks for modularity for my purposes
			so I'll just functionally compose NANDs from now on.`),Ai=A(),cr=x("div"),cr.textContent=`I can then keep doing this for the rest of the functions. Since I
			want to construct an n bit adder, this should be as easy as chaining
			AND, XOR together in a certain way.`,Li=A(),Kt=x("div"),Pi=G(`I am tired of writing so I'll just end it off with that with no
			further explanation `),Zt=x("span"),Zt.textContent="¯\\_(ツ)_/¯",Ri=G(". Here you go, n bit adder all NANDs:"),Di=A(),hr=x("div"),hr.textContent="1",Ie(r,"class","neon"),I(r,"cursor","pointer"),I(r,"--color","lime"),Ie(me,"class","neon"),I(me,"--color","deeppink"),Ie(S,"class","neon"),I(S,"--color","fuchsia"),Ie(U,"class","neon"),I(U,"cursor","pointer"),I(U,"--color","lime"),Ie(zt,"class","neon"),I(zt,"--color","violet"),Ie(Ut,"class","neon"),I(Ut,"--color","cyan"),Ie(qt,"class","neon"),I(qt,"--color","red"),Ie(Xt,"class","neon"),I(Xt,"--color","lime"),Ie(Zt,"class","neon"),I(Zt,"--color","deeppink"),n.open=!0},m(ne,Yl){oe(ne,e,Yl),m(e,n),m(n,r),m(n,i),m(n,o),m(n,s),m(n,l),m(n,a),m(n,u),m(n,c),m(n,h),m(n,f),m(n,d),m(d,p),m(d,_),Re(y,d,null),m(n,$),m(n,k),m(n,b),m(n,w),m(n,v),m(n,C),m(n,E),m(n,O),m(n,B),m(n,z),m(z,K),Re(W,z,null),m(n,T),m(n,M),m(n,R),m(n,Z),m(Z,me),m(Z,we),m(n,ye),m(n,ce),m(ce,S),m(ce,F),Re(Y,ce,null),m(n,J),m(n,_e),m(n,de),m(n,ve),m(n,Me),m(n,Ye),m(Ye,ht),Re(ee,Ye,null),m(n,pe),m(n,jt),m(n,$n),m(n,Gt),m(Gt,N),m(N,U),m(N,te),Re(Q,N,null),m(N,Te),Re(Se,N,null),m(n,qe),m(n,ir),m(ir,zt),m(n,ki),m(n,or),m(n,Ei),m(n,sr),m(n,xi),m(n,lr),Re(yt,lr,null),m(n,Ni),m(n,Ht),m(Ht,Ut),m(Ht,Mi),Re(kt,Ht,null),m(n,$i),m(n,ar),m(n,Ci),m(n,ur),m(n,Ti),m(n,Yt),m(Yt,qt),m(Yt,Si),Re(Et,Yt,null),m(n,Ii),m(n,Cn),m(Cn,Xt),m(Cn,Oi),m(n,Ai),m(n,cr),m(n,Li),m(n,Kt),m(Kt,Pi),m(Kt,Zt),m(Kt,Ri),m(n,Di),m(n,hr),Tn=!0},p:Ee,i(ne){Tn||(ke(y.$$.fragment,ne),ke(W.$$.fragment,ne),ke(Y.$$.fragment,ne),ke(ee.$$.fragment,ne),ke(Q.$$.fragment,ne),ke(Se.$$.fragment,ne),ke(yt.$$.fragment,ne),ke(kt.$$.fragment,ne),ke(Et.$$.fragment,ne),Tn=!0)},o(ne){Oe(y.$$.fragment,ne),Oe(W.$$.fragment,ne),Oe(Y.$$.fragment,ne),Oe(ee.$$.fragment,ne),Oe(Q.$$.fragment,ne),Oe(Se.$$.fragment,ne),Oe(yt.$$.fragment,ne),Oe(kt.$$.fragment,ne),Oe(Et.$$.fragment,ne),Tn=!1},d(ne){ne&&re(e),De(y),De(W),De(Y),De(ee),De(Q),De(Se),De(yt),De(kt),De(Et)}}}function F1(t){const e=[ie(0),ie(0),ie(1)],n=[ie(0),ie(1),ie(1)];return console.log(ga(pa(e,n))),[]}class V1 extends ut{constructor(e){super(),at(this,e,F1,B1,lt,{})}}function W1(t){let e,n,r;return n=new V1({}),{c(){e=x("main"),je(n.$$.fragment),Ie(e,"class","svelte-kqkoi6")},m(i,o){oe(i,e,o),Re(n,e,null),r=!0},p:Ee,i(i){r||(ke(n.$$.fragment,i),r=!0)},o(i){Oe(n.$$.fragment,i),r=!1},d(i){i&&re(e),De(n)}}}class j1 extends ut{constructor(e){super(),at(this,e,null,W1,lt,{})}}new j1({target:document.getElementById("app")});
