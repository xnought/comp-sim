var Ia=Object.defineProperty;var Oa=(t,e,n)=>e in t?Ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ir=(t,e,n)=>Oa(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ke(){}function Vo(t){return t()}function vi(){return Object.create(null)}function hn(t){t.forEach(Vo)}function Wo(t){return typeof t=="function"}function it(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Aa(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function be(t,e,n){t.insertBefore(e,n||null)}function we(t){t.parentNode&&t.parentNode.removeChild(t)}function La(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function L(){return K(" ")}function jo(){return K("")}function fn(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function We(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Pa(t){return Array.from(t.childNodes)}function mt(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Wr;function en(t){Wr=t}const Mt=[],Fn=[];let Ct=[];const ki=[],Ra=Promise.resolve();let _r=!1;function Ba(){_r||(_r=!0,Ra.then(Go))}function br(t){Ct.push(t)}const or=new Set;let kt=0;function Go(){if(kt!==0)return;const t=Wr;do{try{for(;kt<Mt.length;){const e=Mt[kt];kt++,en(e),Da(e.$$)}}catch(e){throw Mt.length=0,kt=0,e}for(en(null),Mt.length=0,kt=0;Fn.length;)Fn.pop()();for(let e=0;e<Ct.length;e+=1){const n=Ct[e];or.has(n)||(or.add(n),n())}Ct.length=0}while(Mt.length);for(;ki.length;)ki.pop()();_r=!1,or.clear(),en(t)}function Da(t){if(t.fragment!==null){t.update(),hn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(br)}}function Fa(t){const e=[],n=[];Ct.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ct=e}const Sn=new Set;let ht;function Va(){ht={r:0,c:[],p:ht}}function Wa(){ht.r||hn(ht.c),ht=ht.p}function ve(t,e){t&&t.i&&(Sn.delete(t),t.i(e))}function Se(t,e,n,r){if(t&&t.o){if(Sn.has(t))return;Sn.add(t),ht.c.push(()=>{Sn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ei(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ve(t){t&&t.c()}function Le(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),br(()=>{const o=t.$$.on_mount.map(Vo).filter(Wo);t.$$.on_destroy?t.$$.on_destroy.push(...o):hn(o),t.$$.on_mount=[]}),i.forEach(br)}function Pe(t,e){const n=t.$$;n.fragment!==null&&(Fa(n.after_update),hn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ja(t,e){t.$$.dirty[0]===-1&&(Mt.push(t),Ba(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(t,e,n,r,i,o,s=null,a=[-1]){const l=Wr;en(t);const u=t.$$={fragment:null,ctx:[],props:o,update:ke,not_equal:i,bound:vi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:vi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const g=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=g)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](g),c&&ja(t,h)),f}):[],u.update(),c=!0,hn(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Pa(e.target);u.fragment&&u.fragment.l(h),h.forEach(we)}else u.fragment&&u.fragment.c();e.intro&&ve(t.$$.fragment),Le(t,e.target,e.anchor),Go()}en(l)}let st=class{constructor(){ir(this,"$$");ir(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=ke}$on(e,n){if(!Wo(n))return ke;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Aa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};const Ga="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ga);class pt{constructor(){this.in=[],this.out=[],this.data=0,this.name="switch",this.on=!0}switchOn(){this.on=!0}switchOff(){this.on=!1}}class nt{constructor(){this.in=[],this.out=[],this.data=0,this.name="power"}}class dn{constructor(){this.in=[],this.out=[],this.data=0,this.name="signal"}}class Ot{constructor(){this.in=[],this.out=[],this.data=0,this.name="wire"}}class pn{constructor(e,n,r){this.source=e,this.signal=n,this.other=r}resetNodeIds(){this.signal.nodeId=void 0;for(const e of this.other)e.nodeId=void 0;this.source.nodeId=void 0}reset(){this.signal.data=0,this.signal.nodeId=void 0;for(const e of this.other)e.data=0,e.closest=1/0,e.nodeId=void 0;this.source.nodeId=void 0}precomputeDistances(){function e(n){if(n instanceof nt)return 0;if(n instanceof pt&&!n.on||n.out.length===0)return 1/0;let r=[];for(const i of n.out)r.push(e(i));return(n instanceof pt?0:1)+Math.min(...r)}for(const n of this.other)n.closest=e(n);this.signal.closest=e(this.signal)}connect(e,n){e.out.push(n),n.in.push(e)}simulate(){function e(n){if(n.in.length===0||n instanceof pt&&!n.on||n.out.length===0)return;n.data=1;let r=n.out[0];for(const i of n.out)i instanceof nt||i.closest<=r.closest&&(r=i);r instanceof nt||e(r)}this.reset(),this.precomputeDistances(),e(this.source)}}function za(){const t=new nt,e=new dn,n=new Ot,r=new pn(t,e,[n]);return r.connect(t,n),r.connect(n,e),r.simulate(),r}function Ha(){const t=new nt,e=new dn,n=new Ot,r=new pt,i=new Ot,o=new pn(t,e,[n,r,i]);return o.connect(t,r),o.connect(r,n),o.connect(n,e),o.connect(e,i),o.connect(i,t),r.switchOn(),o.simulate(),o}function qa(){const t=new nt,e=new dn,n=Array(2).fill(0).map(()=>new Ot),r=new pt,i=new pn(t,e,[...n,r]);return i.connect(t,n[0]),i.connect(n[0],e),i.connect(e,n[1]),i.connect(n[1],t),i.connect(n[0],r),i.connect(r,n[1]),i.simulate(),i}function xi(t=!0,e=!0){const n=new nt,r=new dn,i=Array(4).fill(0).map(()=>new Ot),o=Array(2).fill(0).map(()=>new pt),s=new pn(n,r,[...i,...o]);return s.connect(n,i[0]),s.connect(i[0],r),s.connect(r,i[1]),s.connect(i[1],n),s.connect(i[0],o[0]),s.connect(o[0],o[1]),s.connect(o[1],i[1]),t||o[0].switchOff(),e||o[1].switchOff(),s.simulate(),s}class Ya{constructor(e=!1){this.simulate=e,e&&(this.battery=new nt,this.light=new dn,this.wires=Array(4).fill(0).map(()=>new Ot),this.switches=Array(2).fill(0).map(()=>new pt),this.circuit=new pn(this.battery,this.light,[...this.wires,...this.switches]),this.circuit.connect(this.battery,this.wires[0]),this.circuit.connect(this.wires[0],this.light),this.circuit.connect(this.light,this.wires[1]),this.circuit.connect(this.wires[1],this.battery),this.circuit.connect(this.wires[0],this.switches[0]),this.circuit.connect(this.switches[0],this.switches[1]),this.circuit.connect(this.switches[1],this.wires[1]))}call(e=!1,n=!1){return this.simulate?(this.circuit.reset(),this.switches[0].on=e,this.switches[1].on=n,this.circuit.simulate(),!!this.light.data):!(e&&n)}}var Xa=Object.defineProperty,Ua=(t,e,n)=>e in t?Xa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e,n)=>Ua(t,typeof e!="symbol"?e+"":e,n);const De={black:"#000000",white:"#ffffff",foreground:{blue:"#0066CC",red:"#E30000",orange:"#BF4800",yellow:"#D08B00",green:"#008009",purple:"#6D56D6",gray:"#1D1D1F",graySecondary:"#6E6E73",graySecondaryAlt:"#515154",grayTertiary:"#86868B"},background:{gray:"rgb(250, 250, 250)",darkGray:"rgb(51,51,51)"}},gn={family:"SF Mono, ui-monospace, monospace",weight:{regular:200,semibold:500,bold:600}},Ka={y:8,x:4},Za=Object.freeze(Object.defineProperty({__proto__:null,colors:De,font:gn,spacing:Ka},Symbol.toStringTag,{value:"Module"}));let yr=class Ut{constructor(e,n,r){A(this,"x"),A(this,"y"),A(this,"k"),this.x=e,this.y=n,this.k=r}static identity(){return new Ut(0,0,1)}translate(e,n){return e===0&&n===0?this:new Ut(this.x+this.k*e,this.y+this.k*n,this.k)}scale(e){return e===1?this:new Ut(this.x,this.y,this.k*e)}apply(e,n){return{x:e*this.k+this.x,y:n*this.k+this.y}}inverse(){return Ut.identity().scale(1/this.k).translate(-this.x,-this.y)}toString(){return`translate(${this.x},${this.y}) scale(${this.k})`}};var Qa={value:()=>{}};function jr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new In(n)}function In(t){this._=t}function Ja(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}In.prototype=jr.prototype={constructor:In,on:function(t,e){var n=this._,r=Ja(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=el(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Mi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Mi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new In(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function el(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Mi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Qa,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var vr="http://www.w3.org/1999/xhtml";const Ni={svg:"http://www.w3.org/2000/svg",xhtml:vr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ni.hasOwnProperty(e)?{space:Ni[e],local:t}:t}function tl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===vr&&e.documentElement.namespaceURI===vr?e.createElement(t):e.createElementNS(n,t)}}function nl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zo(t){var e=Yn(t);return(e.local?nl:tl)(e)}function rl(){}function Gr(t){return t==null?rl:function(){return this.querySelector(t)}}function il(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ae(r,this._parents)}function ol(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sl(){return[]}function Ho(t){return t==null?sl:function(){return this.querySelectorAll(t)}}function al(t){return function(){return ol(t.apply(this,arguments))}}function ll(t){typeof t=="function"?t=al(t):t=Ho(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new Ae(r,i)}function qo(t){return function(){return this.matches(t)}}function Yo(t){return function(e){return e.matches(t)}}var ul=Array.prototype.find;function cl(t){return function(){return ul.call(this.children,t)}}function hl(){return this.firstElementChild}function fl(t){return this.select(t==null?hl:cl(typeof t=="function"?t:Yo(t)))}var dl=Array.prototype.filter;function pl(){return Array.from(this.children)}function gl(t){return function(){return dl.call(this.children,t)}}function ml(t){return this.selectAll(t==null?pl:gl(typeof t=="function"?t:Yo(t)))}function wl(t){typeof t!="function"&&(t=qo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Ae(r,this._parents)}function Xo(t){return new Array(t.length)}function _l(){return new Ae(this._enter||this._groups.map(Xo),this._parents)}function Vn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vn.prototype={constructor:Vn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bl(t){return function(){return t}}function yl(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Vn(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function vl(t,e,n,r,i,o,s){var a,l,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(a=0;a<c;++a)(l=e[a])&&(f[a]=d=s.call(l,l.__data__,a,e)+"",u.has(d)?i[a]=l:u.set(d,l));for(a=0;a<h;++a)d=s.call(t,o[a],a,o)+"",(l=u.get(d))?(r[a]=l,l.__data__=o[a],u.delete(d)):n[a]=new Vn(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function kl(t){return t.__data__}function El(t,e){if(!arguments.length)return Array.from(this,kl);var n=e?vl:yl,r=this._parents,i=this._groups;typeof t!="function"&&(t=bl(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=xl(t.call(c,c&&c.__data__,u,r)),g=d.length,w=a[u]=new Array(g),E=s[u]=new Array(g),I=l[u]=new Array(f);n(c,h,w,E,I,d,e);for(var k=0,b=0,_,y;k<g;++k)if(_=w[k]){for(k>=b&&(b=k+1);!(y=E[b])&&++b<g;);_._next=y||null}}return s=new Ae(s,r),s._enter=a,s._exit=l,s}function xl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ml(){return new Ae(this._exit||this._groups.map(Xo),this._parents)}function Nl(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Cl(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],h=u.length,f=a[l]=new Array(h),d,g=0;g<h;++g)(d=u[g]||c[g])&&(f[g]=d);for(;l<i;++l)a[l]=n[l];return new Ae(a,this._parents)}function Tl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function $l(t){t||(t=Sl);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Ae(i,this._parents).order()}function Sl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Il(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ol(){return Array.from(this)}function Al(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ll(){let t=0;for(const e of this)++t;return t}function Pl(){return!this.node()}function Rl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Bl(t){return function(){this.removeAttribute(t)}}function Dl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fl(t,e){return function(){this.setAttribute(t,e)}}function Vl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Gl(t,e){var n=Yn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Dl:Bl:typeof e=="function"?n.local?jl:Wl:n.local?Vl:Fl)(n,e))}function Uo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zl(t){return function(){this.style.removeProperty(t)}}function Hl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ql(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yl(t,e,n){return arguments.length>1?this.each((e==null?zl:typeof e=="function"?ql:Hl)(t,e,n??"")):At(this.node(),t)}function At(t,e){return t.style.getPropertyValue(e)||Uo(t).getComputedStyle(t,null).getPropertyValue(e)}function Xl(t){return function(){delete this[t]}}function Ul(t,e){return function(){this[t]=e}}function Kl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Zl(t,e){return arguments.length>1?this.each((e==null?Xl:typeof e=="function"?Kl:Ul)(t,e)):this.node()[t]}function Ko(t){return t.trim().split(/^|\s+/)}function zr(t){return t.classList||new Zo(t)}function Zo(t){this._node=t,this._names=Ko(t.getAttribute("class")||"")}Zo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Qo(t,e){for(var n=zr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Jo(t,e){for(var n=zr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ql(t){return function(){Qo(this,t)}}function Jl(t){return function(){Jo(this,t)}}function eu(t,e){return function(){(e.apply(this,arguments)?Qo:Jo)(this,t)}}function tu(t,e){var n=Ko(t+"");if(arguments.length<2){for(var r=zr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?eu:e?Ql:Jl)(n,e))}function nu(){this.textContent=""}function ru(t){return function(){this.textContent=t}}function iu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ou(t){return arguments.length?this.each(t==null?nu:(typeof t=="function"?iu:ru)(t)):this.node().textContent}function su(){this.innerHTML=""}function au(t){return function(){this.innerHTML=t}}function lu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function uu(t){return arguments.length?this.each(t==null?su:(typeof t=="function"?lu:au)(t)):this.node().innerHTML}function cu(){this.nextSibling&&this.parentNode.appendChild(this)}function hu(){return this.each(cu)}function fu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function du(){return this.each(fu)}function pu(t){var e=typeof t=="function"?t:zo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function gu(){return null}function mu(t,e){var n=typeof t=="function"?t:zo(t),r=e==null?gu:typeof e=="function"?e:Gr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wu(){var t=this.parentNode;t&&t.removeChild(this)}function _u(){return this.each(wu)}function bu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vu(t){return this.select(t?yu:bu)}function ku(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Eu(t){return function(e){t.call(this,e,this.__data__)}}function xu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Mu(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Nu(t,e,n){return function(){var r=this.__on,i,o=Eu(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Cu(t,e,n){var r=xu(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?Nu:Mu,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function es(t,e,n){var r=Uo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Tu(t,e){return function(){return es(this,t,e)}}function $u(t,e){return function(){return es(this,t,e.apply(this,arguments))}}function Su(t,e){return this.each((typeof e=="function"?$u:Tu)(t,e))}function*Iu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ts=[null];function Ae(t,e){this._groups=t,this._parents=e}function mn(){return new Ae([[document.documentElement]],ts)}function Ou(){return this}Ae.prototype=mn.prototype={constructor:Ae,select:il,selectAll:ll,selectChild:fl,selectChildren:ml,filter:wl,data:El,enter:_l,exit:Ml,join:Nl,merge:Cl,selection:Ou,order:Tl,sort:$l,call:Il,nodes:Ol,node:Al,size:Ll,empty:Pl,each:Rl,attr:Gl,style:Yl,property:Zl,classed:tu,text:ou,html:uu,raise:hu,lower:du,append:pu,insert:mu,remove:_u,clone:vu,datum:ku,on:Cu,dispatch:Su,[Symbol.iterator]:Iu};function nn(t){return typeof t=="string"?new Ae([[document.querySelector(t)]],[document.documentElement]):new Ae([[t]],ts)}function Au(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ci(t,e){if(t=Au(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Lu={passive:!1},rn={capture:!0,passive:!1};function sr(t){t.stopImmediatePropagation()}function Tt(t){t.preventDefault(),t.stopImmediatePropagation()}function Pu(t){var e=t.document.documentElement,n=nn(t).on("dragstart.drag",Tt,rn);"onselectstart"in e?n.on("selectstart.drag",Tt,rn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ru(t,e){var n=t.document.documentElement,r=nn(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tt,rn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const En=t=>()=>t;function kr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}kr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Bu(t){return!t.ctrlKey&&!t.button}function Du(){return this.parentNode}function Fu(t,e){return e??{x:t.x,y:t.y}}function Vu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wu(){var t=Bu,e=Du,n=Fu,r=Vu,i={},o=jr("start","drag","end"),s=0,a,l,u,c,h=0;function f(_){_.on("mousedown.drag",d).filter(r).on("touchstart.drag",E).on("touchmove.drag",I,Lu).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(_,y){if(!(c||!t.call(this,_,y))){var N=b(this,e.call(this,_,y),_,y,"mouse");N&&(nn(_.view).on("mousemove.drag",g,rn).on("mouseup.drag",w,rn),Pu(_.view),sr(_),u=!1,a=_.clientX,l=_.clientY,N("start",_))}}function g(_){if(Tt(_),!u){var y=_.clientX-a,N=_.clientY-l;u=y*y+N*N>h}i.mouse("drag",_)}function w(_){nn(_.view).on("mousemove.drag mouseup.drag",null),Ru(_.view,u),Tt(_),i.mouse("end",_)}function E(_,y){if(t.call(this,_,y)){var N=_.changedTouches,v=e.call(this,_,y),O=N.length,D,G;for(D=0;D<O;++D)(G=b(this,v,_,y,N[D].identifier,N[D]))&&(sr(_),G("start",_,N[D]))}}function I(_){var y=_.changedTouches,N=y.length,v,O;for(v=0;v<N;++v)(O=i[y[v].identifier])&&(Tt(_),O("drag",_,y[v]))}function k(_){var y=_.changedTouches,N=y.length,v,O;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),v=0;v<N;++v)(O=i[y[v].identifier])&&(sr(_),O("end",_,y[v]))}function b(_,y,N,v,O,D){var G=o.copy(),U=Ci(D||N,y),W,C,M;if((M=n.call(_,new kr("beforestart",{sourceEvent:N,target:f,identifier:O,active:s,x:U[0],y:U[1],dx:0,dy:0,dispatch:G}),v))!=null)return W=M.x-U[0]||0,C=M.y-U[1]||0,function R(Z,de,pe){var ye=U,ae;switch(Z){case"start":i[O]=R,ae=s++;break;case"end":delete i[O],--s;case"drag":U=Ci(pe||de,y),ae=s;break}G.call(Z,_,new kr(Z,{sourceEvent:de,subject:M,target:f,identifier:O,active:ae,x:U[0]+W,y:U[1]+C,dx:U[0]-ye[0],dy:U[1]-ye[1],dispatch:G}),v)}}return f.filter=function(_){return arguments.length?(t=typeof _=="function"?_:En(!!_),f):t},f.container=function(_){return arguments.length?(e=typeof _=="function"?_:En(_),f):e},f.subject=function(_){return arguments.length?(n=typeof _=="function"?_:En(_),f):n},f.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:En(!!_),f):r},f.on=function(){var _=o.on.apply(o,arguments);return _===o?f:_},f.clickDistance=function(_){return arguments.length?(h=(_=+_)*_,f):Math.sqrt(h)},f}function Hr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ns(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wn(){}var on=.7,Wn=1/on,$t="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ju=/^#([0-9a-f]{3,8})$/,Gu=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),zu=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),Hu=new RegExp(`^rgba\\(${$t},${$t},${$t},${sn}\\)$`),qu=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${sn}\\)$`),Yu=new RegExp(`^hsl\\(${sn},${Ye},${Ye}\\)$`),Xu=new RegExp(`^hsla\\(${sn},${Ye},${Ye},${sn}\\)$`),Ti={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hr(wn,an,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$i,formatHex:$i,formatHex8:Uu,formatHsl:Ku,formatRgb:Si,toString:Si});function $i(){return this.rgb().formatHex()}function Uu(){return this.rgb().formatHex8()}function Ku(){return rs(this).formatHsl()}function Si(){return this.rgb().formatRgb()}function an(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ju.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ii(e):n===3?new Ce(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gu.exec(t))?new Ce(e[1],e[2],e[3],1):(e=zu.exec(t))?new Ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hu.exec(t))?xn(e[1],e[2],e[3],e[4]):(e=qu.exec(t))?xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yu.exec(t))?Li(e[1],e[2]/100,e[3]/100,1):(e=Xu.exec(t))?Li(e[1],e[2]/100,e[3]/100,e[4]):Ti.hasOwnProperty(t)?Ii(Ti[t]):t==="transparent"?new Ce(NaN,NaN,NaN,0):null}function Ii(t){return new Ce(t>>16&255,t>>8&255,t&255,1)}function xn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ce(t,e,n,r)}function Zu(t){return t instanceof wn||(t=an(t)),t?(t=t.rgb(),new Ce(t.r,t.g,t.b,t.opacity)):new Ce}function Er(t,e,n,r){return arguments.length===1?Zu(t):new Ce(t,e,n,r??1)}function Ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Hr(Ce,Er,ns(wn,{brighter(t){return t=t==null?Wn:Math.pow(Wn,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?on:Math.pow(on,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ce(gt(this.r),gt(this.g),gt(this.b),jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Oi,formatHex:Oi,formatHex8:Qu,formatRgb:Ai,toString:Ai}));function Oi(){return`#${ft(this.r)}${ft(this.g)}${ft(this.b)}`}function Qu(){return`#${ft(this.r)}${ft(this.g)}${ft(this.b)}${ft((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ai(){const t=jn(this.opacity);return`${t===1?"rgb(":"rgba("}${gt(this.r)}, ${gt(this.g)}, ${gt(this.b)}${t===1?")":`, ${t})`}`}function jn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ft(t){return t=gt(t),(t<16?"0":"")+t.toString(16)}function Li(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new je(t,e,n,r)}function rs(t){if(t instanceof je)return new je(t.h,t.s,t.l,t.opacity);if(t instanceof wn||(t=an(t)),!t)return new je;if(t instanceof je)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new je(s,a,l,t.opacity)}function Ju(t,e,n,r){return arguments.length===1?rs(t):new je(t,e,n,r??1)}function je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Hr(je,Ju,ns(wn,{brighter(t){return t=t==null?Wn:Math.pow(Wn,t),new je(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?on:Math.pow(on,t),new je(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ce(ar(t>=240?t-240:t+120,i,r),ar(t,i,r),ar(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new je(Pi(this.h),Mn(this.s),Mn(this.l),jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jn(this.opacity);return`${t===1?"hsl(":"hsla("}${Pi(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Pi(t){return t=(t||0)%360,t<0?t+360:t}function Mn(t){return Math.max(0,Math.min(1,t||0))}function ar(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const is=t=>()=>t;function ec(t,e){return function(n){return t+n*e}}function tc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nc(t){return(t=+t)==1?os:function(e,n){return n-e?tc(e,n,t):is(isNaN(e)?n:e)}}function os(t,e){var n=e-t;return n?ec(t,n):is(isNaN(t)?e:t)}const Ri=function t(e){var n=nc(e);function r(i,o){var s=n((i=Er(i)).r,(o=Er(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=os(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function tt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lr=new RegExp(xr.source,"g");function rc(t){return function(){return t}}function ic(t){return function(e){return t(e)+""}}function oc(t,e){var n=xr.lastIndex=lr.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=xr.exec(t))&&(i=lr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:tt(r,i)})),n=lr.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ic(l[0].x):rc(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}var Bi=180/Math.PI,Mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ss(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Bi,skewX:Math.atan(l)*Bi,scaleX:s,scaleY:a}}var Nn;function sc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Mr:ss(e.a,e.b,e.c,e.d,e.e,e.f)}function ac(t){return t==null||(Nn||(Nn=document.createElementNS("http://www.w3.org/2000/svg","g")),Nn.setAttribute("transform",t),!(t=Nn.transform.baseVal.consolidate()))?Mr:(t=t.matrix,ss(t.a,t.b,t.c,t.d,t.e,t.f))}function as(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,g){if(u!==h||c!==f){var w=d.push("translate(",null,e,null,n);g.push({i:w-4,x:tt(u,h)},{i:w-2,x:tt(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function s(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:tt(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:tt(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,g){if(u!==h||c!==f){var w=d.push(i(d)+"scale(",null,",",null,")");g.push({i:w-4,x:tt(u,h)},{i:w-2,x:tt(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),s(u.rotate,c.rotate,h,f),a(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var g=-1,w=f.length,E;++g<w;)h[(E=f[g]).i]=E.x(d);return h.join("")}}}var lc=as(sc,"px, ","px)","deg)"),uc=as(ac,", ",")",")"),Lt=0,Kt=0,Yt=0,ls=1e3,Gn,Zt,zn=0,wt=0,Xn=0,ln=typeof performance=="object"&&performance.now?performance:Date,us=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qr(){return wt||(us(cc),wt=ln.now()+Xn)}function cc(){wt=0}function Hn(){this._call=this._time=this._next=null}Hn.prototype=cs.prototype={constructor:Hn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qr():+n)+(e==null?0:+e),!this._next&&Zt!==this&&(Zt?Zt._next=this:Gn=this,Zt=this),this._call=t,this._time=n,Nr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nr())}};function cs(t,e,n){var r=new Hn;return r.restart(t,e,n),r}function hc(){qr(),++Lt;for(var t=Gn,e;t;)(e=wt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Lt}function Di(){wt=(zn=ln.now())+Xn,Lt=Kt=0;try{hc()}finally{Lt=0,dc(),wt=0}}function fc(){var t=ln.now(),e=t-zn;e>ls&&(Xn-=e,zn=t)}function dc(){for(var t,e=Gn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Gn=n);Zt=t,Nr(r)}function Nr(t){if(!Lt){Kt&&(Kt=clearTimeout(Kt));var e=t-wt;e>24?(t<1/0&&(Kt=setTimeout(Di,t-ln.now()-Xn)),Yt&&(Yt=clearInterval(Yt))):(Yt||(zn=ln.now(),Yt=setInterval(fc,ls)),Lt=1,us(Di))}}function Fi(t,e,n){var r=new Hn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var pc=jr("start","end","cancel","interrupt"),gc=[],hs=0,Vi=1,Cr=2,On=3,Wi=4,Tr=5,An=6;function Un(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;mc(t,n,{name:e,index:r,group:i,on:pc,tween:gc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hs})}function Yr(t,e){var n=Ge(t,e);if(n.state>hs)throw new Error("too late; already scheduled");return n}function Xe(t,e){var n=Ge(t,e);if(n.state>On)throw new Error("too late; already running");return n}function Ge(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=cs(o,0,n.time);function o(u){n.state=Vi,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,h,f,d;if(n.state!==Vi)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===On)return Fi(s);d.state===Wi?(d.state=An,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=An,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Fi(function(){n.state===On&&(n.state=Wi,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Cr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Cr){for(n.state=On,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Tr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Tr&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=An,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function wc(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Cr&&r.state<Tr,r.state=An,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function _c(t){return this.each(function(){wc(this,t)})}function bc(t,e){var n,r;return function(){var i=Xe(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function yc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Xe(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function vc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ge(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?bc:yc)(n,t,e))}function Xr(t,e,n){var r=t._id;return t.each(function(){var i=Xe(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ge(i,r).value[e]}}function fs(t,e){var n;return(typeof e=="number"?tt:e instanceof an?Ri:(n=an(e))?(e=n,Ri):oc)(t,e)}function kc(t){return function(){this.removeAttribute(t)}}function Ec(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Mc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Nc(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Cc(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Tc(t,e){var n=Yn(t),r=n==="transform"?uc:fs;return this.attrTween(t,typeof e=="function"?(n.local?Cc:Nc)(n,r,Xr(this,"attr."+t,e)):e==null?(n.local?Ec:kc)(n):(n.local?Mc:xc)(n,r,e))}function $c(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Sc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ic(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Sc(t,o)),n}return i._value=e,i}function Oc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&$c(t,o)),n}return i._value=e,i}function Ac(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Yn(t);return this.tween(n,(r.local?Ic:Oc)(r,e))}function Lc(t,e){return function(){Yr(this,t).delay=+e.apply(this,arguments)}}function Pc(t,e){return e=+e,function(){Yr(this,t).delay=e}}function Rc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lc:Pc)(e,t)):Ge(this.node(),e).delay}function Bc(t,e){return function(){Xe(this,t).duration=+e.apply(this,arguments)}}function Dc(t,e){return e=+e,function(){Xe(this,t).duration=e}}function Fc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bc:Dc)(e,t)):Ge(this.node(),e).duration}function Vc(t,e){if(typeof e!="function")throw new Error;return function(){Xe(this,t).ease=e}}function Wc(t){var e=this._id;return arguments.length?this.each(Vc(e,t)):Ge(this.node(),e).ease}function jc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Xe(this,t).ease=n}}function Gc(t){if(typeof t!="function")throw new Error;return this.each(jc(this._id,t))}function zc(t){typeof t!="function"&&(t=qo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Je(r,this._parents,this._name,this._id)}function Hc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,h=s[a]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;a<r;++a)s[a]=e[a];return new Je(s,this._parents,this._name,this._id)}function qc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Yc(t,e,n){var r,i,o=qc(e)?Yr:Xe;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Xc(t,e){var n=this._id;return arguments.length<2?Ge(this.node(),n).on.on(t):this.each(Yc(n,t,e))}function Uc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Kc(){return this.on("end.remove",Uc(this._id))}function Zc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,h,f=0;f<l;++f)(c=a[f])&&(h=t.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Un(u[f],e,n,f,u,Ge(c,n)));return new Je(o,this._parents,e,n)}function Qc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ho(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,g=Ge(c,n),w=0,E=f.length;w<E;++w)(d=f[w])&&Un(d,e,n,w,f,g);o.push(f),s.push(c)}return new Je(o,s,e,n)}var Jc=mn.prototype.constructor;function eh(){return new Jc(this._groups,this._parents)}function th(t,e){var n,r,i;return function(){var o=At(this,t),s=(this.style.removeProperty(t),At(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function ds(t){return function(){this.style.removeProperty(t)}}function nh(t,e,n){var r,i=n+"",o;return function(){var s=At(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function rh(t,e,n){var r,i,o;return function(){var s=At(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),At(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function ih(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=Xe(this,t),u=l.on,c=l.value[o]==null?a||(a=ds(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function oh(t,e,n){var r=(t+="")=="transform"?lc:fs;return e==null?this.styleTween(t,th(t,r)).on("end.style."+t,ds(t)):typeof e=="function"?this.styleTween(t,rh(t,r,Xr(this,"style."+t,e))).each(ih(this._id,t)):this.styleTween(t,nh(t,r,e),n).on("end.style."+t,null)}function sh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ah(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&sh(t,s,n)),r}return o._value=e,o}function lh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ah(t,e,n??""))}function uh(t){return function(){this.textContent=t}}function ch(t){return function(){var e=t(this);this.textContent=e??""}}function hh(t){return this.tween("text",typeof t=="function"?ch(Xr(this,"text",t)):uh(t==null?"":t+""))}function fh(t){return function(e){this.textContent=t.call(this,e)}}function dh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&fh(i)),e}return r._value=t,r}function ph(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,dh(t))}function gh(){for(var t=this._name,e=this._id,n=ps(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ge(l,e);Un(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Je(r,this._parents,t,n)}function mh(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Xe(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var wh=0;function Je(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ps(){return++wh}var Ze=mn.prototype;Je.prototype={constructor:Je,select:Zc,selectAll:Qc,selectChild:Ze.selectChild,selectChildren:Ze.selectChildren,filter:zc,merge:Hc,selection:eh,transition:gh,call:Ze.call,nodes:Ze.nodes,node:Ze.node,size:Ze.size,empty:Ze.empty,each:Ze.each,on:Xc,attr:Tc,attrTween:Ac,style:oh,styleTween:lh,text:hh,textTween:ph,remove:Kc,tween:vc,delay:Rc,duration:Fc,ease:Wc,easeVarying:Gc,end:mh,[Symbol.iterator]:Ze[Symbol.iterator]};function _h(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var bh={time:null,delay:0,duration:250,ease:_h};function yh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vh(t){var e,n;t instanceof Je?(e=t._id,t=t._name):(e=ps(),(n=bh).time=qr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Un(l,t,e,u,s,n||yh(l,e));return new Je(r,this._parents,t,e)}mn.prototype.interrupt=_c;mn.prototype.transition=vh;const $r=Math.PI,Sr=2*$r,ct=1e-6,kh=Sr-ct;function gs(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Eh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gs;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ms{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gs:Eh(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,h=a-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>ct)if(!(Math.abs(h*l-u*c)>ct)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-s,g=i-a,w=l*l+u*u,E=d*d+g*g,I=Math.sqrt(w),k=Math.sqrt(f),b=o*Math.tan(($r-Math.acos((w+f-E)/(2*I*k)))/2),_=b/k,y=b/I;Math.abs(_-1)>ct&&this._append`L${e+_*c},${n+_*h}`,this._append`A${o},${o},0,0,${+(h*d>c*g)},${this._x1=e+y*l},${this._y1=n+y*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ct||Math.abs(this._y1-c)>ct)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Sr+Sr),f>kh?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>ct&&this._append`A${r},${r},0,${+(f>=$r)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ws(){return new ms}ws.prototype=ms.prototype;function Qt(t,e,n){this.k=t,this.x=e,this.y=n}Qt.prototype={constructor:Qt,scale:function(t){return t===1?this:new Qt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Qt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qt.prototype;class Ir{constructor(e){A(this,"context",ws()),A(this,"x0",NaN),A(this,"x1",NaN),A(this,"y0",NaN),A(this,"y1",NaN),A(this,"state",0);for(let n=0;n<e.length;n++){const r=e[n];if(this.point(r.x,r.y),n===e.length-1)switch(this.state){case 3:this.curve(this.x1,this.y1),this.context.lineTo(this.x1,this.y1);break;case 2:this.context.lineTo(this.x1,this.y1);break}}}point(e,n){switch(e=+e,n=+n,this.state){case 0:this.state=1,this.context.moveTo(e,n);break;case 1:this.state=2;break;case 2:this.state=3,this.context.lineTo((5*this.x0+this.x1)/6,(5*this.y0+this.y1)/6),this.curve(e,n);break;default:this.curve(e,n);break}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=n}curve(e,n){this.context.bezierCurveTo((2*this.x0+this.x1)/3,(2*this.y0+this.y1)/3,(this.x0+2*this.x1)/3,(this.y0+2*this.y1)/3,(this.x0+4*this.x1+e)/6,(this.y0+4*this.y1+n)/6)}build(){return this.context.toString()}}class re{constructor(e,n,r,i){this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.xMin=e,this.xMax=r,this.yMin=n,this.yMax=i}static infinity(){return new re(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)}isEmpty(){return this.xMin===Number.MAX_VALUE||this.yMin===Number.MAX_VALUE||this.xMax===Number.MIN_VALUE||this.yMax===Number.MIN_VALUE}static fromCenterAndDimension(e,n,r){return new re(e.x-n/2,e.y-r/2,e.x+n/2,e.y+r/2)}static fromPoints(...e){return e.reduce((n,r)=>(n.xMin=Math.min(n.xMin,r.x),n.yMin=Math.min(n.yMin,r.y),n.xMax=Math.max(n.xMax,r.x),n.yMax=Math.max(n.yMax,r.y),n),re.infinity())}static fromUnion(...e){return e.reduce((n,r)=>n.union(r),re.infinity())}get width(){return this.xMax-this.xMin}get height(){return this.yMax-this.yMin}get center(){return{x:this.xMin+this.width/2,y:this.yMin+this.height/2}}padded(e){const{l:n,r,b:i,t:o}=typeof e=="object"?e:{l:e,r:e,t:e,b:e};return new re(this.xMin-n,this.yMin-o,this.xMax+r,this.yMax+i)}union(e){return new re(Math.min(this.xMin,e.xMin),Math.min(this.yMin,e.yMin),Math.max(this.xMax,e.xMax),Math.max(this.yMax,e.yMax))}transformed(e){const n=e.apply(this.xMin,this.yMin),r=e.apply(this.xMax,this.yMax);return new re(n.x,n.y,r.x,r.y)}contains(e,n){return this.xMin<=e&&this.yMin<=n&&e<=this.xMax&&n<=this.yMax}encloses(e){return this.contains(e.xMin,e.yMin)&&this.contains(e.xMax,e.yMax)}intersects(e){return this.xMin<=e.xMin&&e.xMin<=this.xMax||this.xMin<=e.xMax&&e.xMax<=this.xMax||this.yMin<=e.yMin&&e.yMin<=this.yMax||this.yMin<=e.yMax&&e.yMax<=this.yMax}}function*xh(t,e){let n=!0;for(const r of t)n||(yield e),n=!1,yield r}function Ln(t,e,n){return Math.min(Math.max(n,t),e)}class at{constructor(e){A(this,"options"),this.options=e}with(e){return this.options={...this.options,...e},this}}function Y(){}const Mh=t=>t;function et(t,e){for(const n in e)t[n]=e[n];return t}function _s(t){return t()}function ji(){return Object.create(null)}function Ue(t){t.forEach(_s)}function bs(t){return typeof t=="function"}function _e(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Nh(t){return Object.keys(t).length===0}function Or(t,...e){if(t==null){for(const r of e)r(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ys(t,e,n){t.$$.on_destroy.push(Or(e,n))}function vs(t,e,n,r){if(t){const i=ks(t,e,n,r);return t[0](i)}}function ks(t,e,n,r){return t[1]&&r?et(n.ctx.slice(),t[1](r(e))):n.ctx}function Es(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let a=0;a<s;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function xs(t,e,n,r,i,o){if(i){const s=ks(e,n,r,o);t.p(s,i)}}function Ms(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ur(t,e,n){return t.set(n),e}const Ns=typeof window<"u";let Ch=Ns?()=>window.performance.now():()=>Date.now(),Cs=Ns?t=>requestAnimationFrame(t):Y;const St=new Set;function Ts(t){St.forEach(e=>{e.c(t)||(St.delete(e),e.f())}),St.size!==0&&Cs(Ts)}function Th(t){let e;return St.size===0&&Cs(Ts),{promise:new Promise(n=>{St.add(e={c:t,f:n})}),abort(){St.delete(e)}}}function z(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function $s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function fe(t){return document.createElement(t)}function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ke(t){return document.createTextNode(t)}function Qe(){return Ke(" ")}function Be(){return Ke("")}function ie(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $h(t){return Array.from(t.childNodes)}function _n(t,e){e=""+e,t.data!==e&&(t.data=e)}function Sh(t,e,n,r){t.style.setProperty(e,n,"")}function Ih(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Pt(t,e){return new t(e)}let un;function tn(t){un=t}function Kn(){if(!un)throw new Error("Function called outside component initialization");return un}function Ss(t){Kn().$$.on_mount.push(t)}function Bt(){const t=Kn();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Ih(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function Oh(t,e){return Kn().$$.context.set(t,e),e}function Is(t){return Kn().$$.context.get(t)}function Ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Nt=[],rt=[];let It=[];const Ar=[],Os=Promise.resolve();let Lr=!1;function As(){Lr||(Lr=!0,Os.then(Ls))}function Cn(){return As(),Os}function Pr(t){It.push(t)}function Ah(t){Ar.push(t)}const cr=new Set;let Et=0;function Ls(){if(Et!==0)return;const t=un;do{try{for(;Et<Nt.length;){const e=Nt[Et];Et++,tn(e),Lh(e.$$)}}catch(e){throw Nt.length=0,Et=0,e}for(tn(null),Nt.length=0,Et=0;rt.length;)rt.pop()();for(let e=0;e<It.length;e+=1){const n=It[e];cr.has(n)||(cr.add(n),n())}It.length=0}while(Nt.length);for(;Ar.length;)Ar.pop()();Lr=!1,cr.clear(),tn(t)}function Lh(t){if(t.fragment!==null){t.update(),Ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pr)}}function Ph(t){const e=[],n=[];It.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),It=e}const Pn=new Set;let dt;function Ie(){dt={r:0,c:[],p:dt}}function Oe(){dt.r||Ue(dt.c),dt=dt.p}function P(t,e){t&&t.i&&(Pn.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(Pn.has(t))return;Pn.add(t),dt.c.push(()=>{Pn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Re(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Rn(t,e){j(t,1,1,()=>{e.delete(t.key)})}function Bn(t,e,n,r,i,o,s,a,l,u,c,h){let f=t.length,d=o.length,g=f;const w={};for(;g--;)w[t[g].key]=g;const E=[],I=new Map,k=new Map,b=[];for(g=d;g--;){const v=h(i,o,g),O=n(v);let D=s.get(O);D?b.push(()=>D.p(v,e)):(D=u(O,v),D.c()),I.set(O,E[g]=D),O in w&&k.set(O,Math.abs(g-w[O]))}const _=new Set,y=new Set;function N(v){P(v,1),v.m(a,c),s.set(v.key,v),c=v.first,d--}for(;f&&d;){const v=E[d-1],O=t[f-1],D=v.key,G=O.key;v===O?(c=v.first,f--,d--):I.has(G)?!s.has(D)||_.has(D)?N(v):y.has(G)?f--:k.get(D)>k.get(G)?(y.add(D),N(v)):(_.add(G),f--):(l(O,s),f--)}for(;f--;){const v=t[f];I.has(v.key)||l(v,s)}for(;d;)N(E[d-1]);return Ue(b),E}function Rt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const l in s)l in a||(r[l]=1);for(const l in a)i[l]||(n[l]=a[l],i[l]=1);t[o]=a}else for(const l in s)i[l]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Rh(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function le(t){t&&t.c()}function oe(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Pr(()=>{const o=t.$$.on_mount.map(_s).filter(bs);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ue(o),t.$$.on_mount=[]}),i.forEach(Pr)}function se(t,e){const n=t.$$;n.fragment!==null&&(Ph(n.after_update),Ue(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bh(t,e){t.$$.dirty[0]===-1&&(Nt.push(t),As(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ee(t,e,n,r,i,o,s=null,a=[-1]){const l=un;tn(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:i,bound:ji(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ji(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const g=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=g)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](g),c&&Bh(t,h)),f}):[],u.update(),c=!0,Ue(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=$h(e.target);u.fragment&&u.fragment.l(h),h.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),oe(t,e.target,e.anchor),Ls()}tn(l)}class xe{constructor(){A(this,"$$"),A(this,"$$set")}$destroy(){se(this,1),this.$destroy=Y}$on(e,n){if(!bs(n))return Y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Nh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Dh="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Dh);var Gi={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function zi(t,e,n){const r=t.slice();return r[3]=e[n],r}function Fh(t){let e,n,r,i,o;return{c(){e=X("rect"),p(e,"x",n=t[3].boundingBox().transformed(t[3].transform).xMin),p(e,"y",r=t[3].boundingBox().transformed(t[3].transform).yMin),p(e,"width",i=t[3].boundingBox().transformed(t[3].transform).width),p(e,"height",o=t[3].boundingBox().transformed(t[3].transform).height),p(e,"fill","magenta"),p(e,"opacity","0.1")},m(s,a){V(s,e,a)},p(s,a){a&1&&n!==(n=s[3].boundingBox().transformed(s[3].transform).xMin)&&p(e,"x",n),a&1&&r!==(r=s[3].boundingBox().transformed(s[3].transform).yMin)&&p(e,"y",r),a&1&&i!==(i=s[3].boundingBox().transformed(s[3].transform).width)&&p(e,"width",i),a&1&&o!==(o=s[3].boundingBox().transformed(s[3].transform).height)&&p(e,"height",o)},d(s){s&&B(e)}}}function Hi(t){let e,n,r,i,o=Gi.VITE_WIREFRAME_CONTAINER&&Fh(t);const s=[{self:t[3]}];var a=t[3].drawable();function l(u,c){let h={};for(let f=0;f<s.length;f+=1)h=et(h,s[f]);return c!==void 0&&c&1&&(h=et(h,Rt(s,[{self:u[3]}]))),{props:h}}return a&&(n=Pt(a,l(t))),{c(){o&&o.c(),e=Be(),n&&le(n.$$.fragment),r=Be()},m(u,c){o&&o.m(u,c),V(u,e,c),n&&oe(n,u,c),V(u,r,c),i=!0},p(u,c){if(Gi.VITE_WIREFRAME_CONTAINER&&o.p(u,c),c&1&&a!==(a=u[3].drawable())){if(n){Ie();const h=n;j(h.$$.fragment,1,0,()=>{se(h,1)}),Oe()}a?(n=Pt(a,l(u,c)),le(n.$$.fragment),P(n.$$.fragment,1),oe(n,r.parentNode,r)):n=null}else if(a){const h=c&1?Rt(s,[{self:u[3]}]):{};n.$set(h)}},i(u){i||(n&&P(n.$$.fragment,u),i=!0)},o(u){n&&j(n.$$.fragment,u),i=!1},d(u){u&&(B(e),B(r)),o&&o.d(u),n&&se(n,u)}}}function Vh(t){let e,n,r;const i=t[2].default,o=vs(i,t,t[1],null);let s=Re(t[0].children),a=[];for(let u=0;u<s.length;u+=1)a[u]=Hi(zi(t,s,u));const l=u=>j(a[u],1,1,()=>{a[u]=null});return{c(){e=X("g"),o&&o.c();for(let u=0;u<a.length;u+=1)a[u].c();p(e,"transform",n=t[0].transform.toString())},m(u,c){V(u,e,c),o&&o.m(e,null);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);r=!0},p(u,[c]){if(o&&o.p&&(!r||c&2)&&xs(o,i,u,u[1],r?Es(i,u[1],c,null):Ms(u[1]),null),c&1){s=Re(u[0].children);let h;for(h=0;h<s.length;h+=1){const f=zi(u,s,h);a[h]?(a[h].p(f,c),P(a[h],1)):(a[h]=Hi(f),a[h].c(),P(a[h],1),a[h].m(e,null))}for(Ie(),h=s.length;h<a.length;h+=1)l(h);Oe()}(!r||c&1&&n!==(n=u[0].transform.toString()))&&p(e,"transform",n)},i(u){if(!r){P(o,u);for(let c=0;c<s.length;c+=1)P(a[c]);r=!0}},o(u){j(o,u),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)j(a[c]);r=!1},d(u){u&&B(e),o&&o.d(u),$s(a,u)}}}function Wh(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(1,i=s.$$scope)},[o,i,r]}let Ur=class extends xe{constructor(e){super(),Ee(this,e,Wh,Vh,_e,{self:0})}};class jh{constructor(){A(this,"onClick")}}class Dt extends jh{constructor(){super(),A(this,"transform"),this.transform=yr.identity()}moveTo(e,n){this.transform.x=e,this.transform.y=n}}class bn extends Dt{constructor(...e){super(),A(this,"children"),this.children=e}boundingBox(){return re.fromUnion(...this.children.map(e=>e.boundingBox().transformed(e.transform)))}drawable(){return Ur}}class Ps extends at{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),A(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e));let r=0;if(this.options.spread&&e.targetWidth!==void 0){const o=n.length-1,s=n.reduce((l,u)=>l+u.boundingBox().width,this.options.spacing*o),a=e.targetWidth-s;r=Math.max(a/(this.children.length-1),0)}const i={x:0,y:0};for(const o of n)o.moveTo(i.x,i.y),i.x+=o.boundingBox().width+this.options.spacing+r;return new Kr(this.options,...n)}}class Rs extends at{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),A(this,"children"),this.children=e}padded(e){return new Ft(this,e)}build(e={}){const n=Math.max(this.options.minWidth,this.children.reduce((o,s)=>Math.max(o,s.build(e).boundingBox().width),-1/0)),r=this.children.map(o=>o.build({...e,targetWidth:n})),i={x:0,y:0};for(const o of r)o.moveTo(i.x,i.y),i.y+=o.boundingBox().height+this.options.spacing;return new Kr(this.options,...r)}}class Kr extends bn{constructor(e,...n){super(...n),this.options=e,this.options=e}boundingBox(){const e=super.boundingBox();return e.xMax=Ln(this.options.minWidth,this.options.maxWidth,e.xMax),e}}class Gh{constructor(...e){A(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e)),{width:r,height:i}=re.fromUnion(...n.map(o=>o.boundingBox()));for(const o of n){const{width:s,height:a}=o.boundingBox();o.moveTo(r/2-s/2,i/2-a/2)}return new bn(...n)}}const Bs={l:8,r:8,t:10,b:10};function Ds(t,e,n,r){switch(n){case"topRight":return{x:t.xMax+r,y:t.yMin};case"bottomMiddle":return{x:t.center.x-e.width/2,y:t.yMax+r}}}let zh=class extends at{constructor(e){super({anchor:"topRight"}),A(this,"content"),this.content=e}build(e={}){return new Fs(new Vs(new Ft(this.content,Bs)).with({radius:6,borderColor:"none",backgroundColor:De.background.darkGray}).build({defaultOptions:{text:{foregroundColor:"white"}}}),this.options)}};class Fs extends Dt{constructor(e,n){super(),this.content=e,this.options=n}boundingBox(){return this.content.boundingBox().padded(Bs)}drawable(){throw Error("not implemented")}}class Vs extends at{constructor(e){super({backgroundColor:De.white,borderColor:De.foreground.grayTertiary,borderWidth:1,borderDash:void 0,radius:void 0}),this.inner=e}content(){return this.inner}build(e={}){const n=this.inner.build(e),r=n.boundingBox();return new Ws(n,new ei(r.width,r.height).with(this.options).build(e))}}class Ws extends bn{constructor(e,n){super(n,e)}boundingBox(){return super.boundingBox()}}function Hh(t){let e,n;return{c(){e=X("path"),p(e,"stroke",De.foreground.grayTertiary),p(e,"stroke-width","1"),p(e,"fill","none"),p(e,"pointer-events","none"),p(e,"marker-end","url(#arrowhead)"),p(e,"d",n=new Ir(t[0]).build())},m(r,i){V(r,e,i)},p(r,[i]){i&1&&n!==(n=new Ir(r[0]).build())&&p(e,"d",n)},i:Y,o:Y,d(r){r&&B(e)}}}function qh(t,e,n){let r,{self:i}=e;return t.$$set=o=>{"self"in o&&n(1,i=o.self)},t.$$.update=()=>{t.$$.dirty&2&&n(0,r=i.points.map(o=>i.transform.apply(o.x,o.y)))},[r,i]}let Yh=class extends xe{constructor(e){super(),Ee(this,e,qh,Hh,_e,{self:1})}};class Xh{constructor(e){this.points=e,this.points=e}build(){return new Zr(this.points)}}class Zr extends Dt{constructor(e){super(),A(this,"points"),this.points=e}path(){const e=this.points.map(n=>this.transform.apply(n.x,n.y));return new Ir(e).build()}boundingBox(){return re.fromPoints(...this.points)}drawable(){return Yh}}class js extends bn{}var qi={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Uh(t){let e,n,r,i,o;return{c(){e=X("rect"),p(e,"x",n=t[0].boundingBox().transformed(t[0].transform).xMin),p(e,"y",r=t[0].boundingBox().transformed(t[0].transform).yMin),p(e,"width",i=t[0].boundingBox().transformed(t[0].transform).width),p(e,"height",o=t[0].boundingBox().transformed(t[0].transform).height),p(e,"fill","magenta"),p(e,"opacity","0.3")},m(s,a){V(s,e,a)},p(s,a){a&1&&n!==(n=s[0].boundingBox().transformed(s[0].transform).xMin)&&p(e,"x",n),a&1&&r!==(r=s[0].boundingBox().transformed(s[0].transform).yMin)&&p(e,"y",r),a&1&&i!==(i=s[0].boundingBox().transformed(s[0].transform).width)&&p(e,"width",i),a&1&&o!==(o=s[0].boundingBox().transformed(s[0].transform).height)&&p(e,"height",o)},d(s){s&&B(e)}}}function Kh(t){let e,n,r=t[0].text+"",i,o,s,a=qi.VITE_WIREFRAME_TEXT&&Uh(t);return{c(){a&&a.c(),e=Qe(),n=X("text"),i=Ke(r),p(n,"x",o=t[0].transform.x),p(n,"y",s=t[0].transform.y),p(n,"dominant-baseline","hanging"),p(n,"font-family",t[2]),p(n,"font-size",t[1]),p(n,"fill",t[3]),p(n,"font-weight",t[4])},m(l,u){a&&a.m(l,u),V(l,e,u),V(l,n,u),z(n,i)},p(l,[u]){qi.VITE_WIREFRAME_TEXT&&a.p(l,u),u&1&&r!==(r=l[0].text+"")&&_n(i,r),u&1&&o!==(o=l[0].transform.x)&&p(n,"x",o),u&1&&s!==(s=l[0].transform.y)&&p(n,"y",s)},i:Y,o:Y,d(l){l&&(B(e),B(n)),a&&a.d(l)}}}function Zh(t,e,n){let{self:r}=e;const{fontSize:i,font:o,foregroundColor:s,fontWeight:a}=r.options;return t.$$set=l=>{"self"in l&&n(0,r=l.self)},[r,i,o,s,a]}let Qh=class extends xe{constructor(e){super(),Ee(this,e,Zh,Kh,_e,{self:0})}};class Jh{constructor(){A(this,"canvas"),A(this,"ctx"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}measureTextWidth(e,n){return this.ctx.font=`${n.fontSize}px ${n.font}`,this.ctx.textBaseline="top",this.ctx.measureText(e).width}}class Gs extends at{constructor(e){super({font:gn.family,fontSize:16,fontWeight:200}),A(this,"text"),this.text=e}padded(e){return new Ft(this,e)}build(e){var n;return new zs(this.text,{...(n=e==null?void 0:e.defaultOptions)==null?void 0:n.text,...this.options})}}class zs extends Dt{constructor(e,n){super(),A(this,"text"),A(this,"options"),A(this,"width"),A(this,"height"),this.text=e,this.options=n,this.width=new Jh().measureTextWidth(this.text,this.options),this.height=n.fontSize}boundingBox(){return new re(0,0,this.width,this.height)}drawable(){return Qh}}const Qr=Symbol();function ef(t){let e,n,r;return{c(){e=X("rect"),p(e,"x",n=t[0].transform.x),p(e,"y",r=t[0].transform.y),p(e,"width",t[6]),p(e,"height",t[7]),p(e,"rx",t[1]),p(e,"fill",t[4]),p(e,"stroke",t[5]),p(e,"stroke-width",t[3]),p(e,"stroke-dasharray",t[2])},m(i,o){V(i,e,o)},p(i,[o]){o&1&&n!==(n=i[0].transform.x)&&p(e,"x",n),o&1&&r!==(r=i[0].transform.y)&&p(e,"y",r),o&2&&p(e,"rx",i[1]),o&16&&p(e,"fill",i[4]),o&32&&p(e,"stroke",i[5]),o&8&&p(e,"stroke-width",i[3]),o&4&&p(e,"stroke-dasharray",i[2])},i:Y,o:Y,d(i){i&&B(e)}}}function tf(t,e,n){let r,i,o,s,a,{self:l}=e;const u=l.boundingBox().width,c=l.boundingBox().height;return t.$$set=h=>{"self"in h&&n(0,l=h.self)},t.$$.update=()=>{t.$$.dirty&1&&n(5,{borderColor:r,backgroundColor:i,borderWidth:o,borderDash:s,radius:a}=l.options,r,(n(4,i),n(0,l)),(n(3,o),n(0,l)),(n(2,s),n(0,l)),(n(1,a),n(0,l)))},[l,a,s,o,i,r,u,c]}let Hs=class extends xe{constructor(e){super(),Ee(this,e,tf,ef,_e,{self:0})}};function Yi(t){let e,n,r,i,o=t[2].text&&Xi(t);return{c(){e=X("g"),n=X("circle"),o&&o.c(),p(n,"r","10"),p(n,"fill",r=t[2].color),p(n,"stroke","white"),p(n,"stroke-width","2"),p(e,"class","badge"),p(e,"transform",i=`translate(${t[3].width+t[5].x},${-t[5].y})`)},m(s,a){V(s,e,a),z(e,n),o&&o.m(e,null)},p(s,a){a&4&&r!==(r=s[2].color)&&p(n,"fill",r),s[2].text?o?o.p(s,a):(o=Xi(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null),a&8&&i!==(i=`translate(${s[3].width+s[5].x},${-s[5].y})`)&&p(e,"transform",i)},d(s){s&&B(e),o&&o.d()}}}function Xi(t){let e,n=t[2].text+"",r;return{c(){e=X("text"),r=Ke(n),p(e,"y",1),p(e,"font-family",gn.family),p(e,"font-size","10"),p(e,"text-anchor","middle"),p(e,"dominant-baseline","middle"),p(e,"fill","white")},m(i,o){V(i,e,o),z(e,r)},p(i,o){o&4&&n!==(n=i[2].text+"")&&_n(r,n)},d(i){i&&B(e)}}}function nf(t){let e,n,r,i,o,s,a,l;n=new Hs({props:{self:t[1]}});const u=[{self:t[0].content}];var c=t[0].content.drawable();function h(d,g){let w={};for(let E=0;E<u.length;E+=1)w=et(w,u[E]);return g!==void 0&&g&1&&(w=et(w,Rt(u,[{self:d[0].content}]))),{props:w}}c&&(r=Pt(c,h(t)));let f=t[2]&&Yi(t);return{c(){e=X("g"),le(n.$$.fragment),r&&le(r.$$.fragment),i=Ke(` -->
  `),f&&f.c(),p(e,"transform",o=`translate(${t[3].xMin},${t[3].yMin})`),p(e,"cursor","pointer")},m(d,g){V(d,e,g),oe(n,e,null),r&&oe(r,e,null),z(e,i),f&&f.m(e,null),s=!0,a||(l=[ie(e,"click",t[13]),ie(e,"dblclick",t[14]),ie(e,"mouseenter",t[6]),ie(e,"mouseleave",t[7])],a=!0)},p(d,[g]){const w={};if(g&2&&(w.self=d[1]),n.$set(w),g&1&&c!==(c=d[0].content.drawable())){if(r){Ie();const E=r;j(E.$$.fragment,1,0,()=>{se(E,1)}),Oe()}c?(r=Pt(c,h(d,g)),le(r.$$.fragment),P(r.$$.fragment,1),oe(r,e,i)):r=null}else if(c){const E=g&1?Rt(u,[{self:d[0].content}]):{};r.$set(E)}d[2]?f?f.p(d,g):(f=Yi(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||g&8&&o!==(o=`translate(${d[3].xMin},${d[3].yMin})`))&&p(e,"transform",o)},i(d){s||(P(n.$$.fragment,d),r&&P(r.$$.fragment,d),s=!0)},o(d){j(n.$$.fragment,d),r&&j(r.$$.fragment,d),s=!1},d(d){d&&B(e),se(n),r&&se(r),f&&f.d(),a=!1,Ue(l)}}}function rf(t,e,n){let r,i,o,s,a,l;const u=Bt();let{self:c}=e,{decoration:h}=e;const{selections:f}=Is(Qr);ys(t,f,b=>n(12,l=b));const d={x:1,y:1};let g=!1;function w(b){n(9,g=!0),u("nodeEnter",{...b,nodeId:r})}function E(b){n(9,g=!1),u("nodeLeave",{...b,nodeId:r})}function I(b){Ne.call(this,t,b)}function k(b){Ne.call(this,t,b)}return t.$$set=b=>{"self"in b&&n(0,c=b.self),"decoration"in b&&n(8,h=b.decoration)},t.$$.update=()=>{t.$$.dirty&1&&n(11,r=c.nodeId),t.$$.dirty&6144&&n(10,i=l.has(r)),t.$$.dirty&1&&n(3,o=c.boundingBox()),t.$$.dirty&1&&n(2,s=c.options.badge),t.$$.dirty&1793&&n(1,a=new ei(c.content.boundingBox().width,c.content.boundingBox().height).with({borderColor:De.foreground.grayTertiary,borderWidth:1,radius:6,borderDash:c.options.borderDash,backgroundColor:c.options.backgroundColor}).with({...h}).with(g?{borderColor:De.foreground.blue}:{}).with(i?{borderColor:De.foreground.blue,borderWidth:3}:{}).build())},[c,a,s,o,f,d,w,E,h,g,i,r,l,I,k]}let Jr=class extends xe{constructor(e){super(),Ee(this,e,rf,nf,_e,{self:0,decoration:8})}};function of(t){return new Ps(new Gs(t)).with({minWidth:30})}class sf extends at{constructor(e,...n){super({selectable:!1,borderDash:void 0,badge:void 0,tooltip:void 0,backgroundColor:De.white,borderColor:De.foreground.grayTertiary,humanReadable:void 0,padding:{l:8,r:8,t:10,b:10}}),A(this,"contents"),this.nodeId=e,this.contents=n.length>0?n:[of(this.options.humanReadable||this.nodeId)]}humanReadable(){return this.options.humanReadable}build(e={}){const n=[...xh(this.contents.map(r=>new Ft(r,this.options.padding)),new Xs().with({color:this.options.borderColor,dash:this.options.borderDash}))];return new qs(this.nodeId,new Rs(...n).build(e),this.options)}}class qs extends Dt{constructor(e,n,r){super(),this.nodeId=e,this.content=n,this.options=r}boundingBox(){return this.content.boundingBox().transformed(this.transform)}drawable(){return Jr}}class ei extends at{constructor(e,n){super({backgroundColor:De.black,borderColor:"none",borderWidth:0,borderDash:void 0,radius:void 0}),A(this,"width"),A(this,"height"),this.width=e,this.height=n}padded(e){return new Ft(this,e)}build(e={}){return new ti(this.width,this.height,this.options)}}class ti extends Dt{constructor(e,n,r){super(),this.width=e,this.height=n,this.options=r}boundingBox(){return new re(0,0,this.width,this.height)}drawable(){return Hs}}function af(t){return t.l!==void 0}class Ft{constructor(e,n){A(this,"p"),this.inner=e,this.inner=e,this.p=af(n)?n:{l:n,r:n,t:n,b:n}}content(){return this.inner}padding(){return this.p}build(e={}){const{l:n,t:r,r:i}=this.p,o=e.targetWidth?this.inner.build({...e,targetWidth:e.targetWidth-n-i}):this.inner.build({...e});return o.moveTo(n,r),new Ys(o,this.p)}}class Ys extends bn{constructor(e,n){super(e),A(this,"padding"),this.padding=n}boundingBox(){return super.boundingBox().padded(this.padding)}drawable(){return Ur}}const lf=1,uf=100;class Xs extends at{constructor(e){super({color:De.foreground.grayTertiary,dash:void 0}),A(this,"width"),this.width=e}build(e={}){const n=this.width||e.targetWidth||uf;return new ti(n,lf,{backgroundColor:this.options.color,borderColor:"none",borderWidth:0,radius:void 0,borderDash:this.options.dash})}}const hr=Object.freeze(Object.defineProperty({__proto__:null,Edge:Xh,EdgeDisplayObject:Zr,EdgesDisplayObject:js,Frame:Vs,FrameDisplayObject:Ws,HStack:Ps,Node:sf,NodeDisplayObject:qs,Padded:Ft,PaddedDisplayObject:Ys,Rect:ei,RectDisplayObject:ti,Separator:Xs,StackContainer:Kr,Text:Gs,TextDisplayObject:zs,Theme:Za,Tooltip:zh,TooltipDisplayObject:Fs,VStack:Rs,ZStack:Gh,positionTooltip:Ds},Symbol.toStringTag,{value:"Module"}));function cf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hf="\0",ut="\0",Ui="";let ff=class{constructor(e){A(this,"_isDirected",!0),A(this,"_isMultigraph",!1),A(this,"_isCompound",!1),A(this,"_label"),A(this,"_defaultNodeLabelFn",()=>{}),A(this,"_defaultEdgeLabelFn",()=>{}),A(this,"_nodes",{}),A(this,"_in",{}),A(this,"_preds",{}),A(this,"_out",{}),A(this,"_sucs",{}),A(this,"_edgeObjs",{}),A(this,"_edgeLabels",{}),A(this,"_nodeCount",0),A(this,"_edgeCount",0),A(this,"_parent"),A(this,"_children"),e&&(this._isDirected=e.hasOwnProperty("directed")?e.directed:!0,this._isMultigraph=e.hasOwnProperty("multigraph")?e.multigraph:!1,this._isCompound=e.hasOwnProperty("compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[ut]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(n=>Object.keys(e._in[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(e._out[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(o){r.length>1?i.setNode(o,n):i.setNode(o)}),this}setNode(e,n){return this._nodes.hasOwnProperty(e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ut,this._children[e]={},this._children[ut][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return this._nodes.hasOwnProperty(e)}removeNode(e){var n=this;if(this._nodes.hasOwnProperty(e)){var r=i=>n.removeEdge(n._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){n.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=ut;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==ut)return n}}children(e=ut){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else{if(e===ut)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return Object.keys(n)}successors(e){var n=this._sucs[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([s,a]){e(s)&&n.setNode(s,a)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,r.edge(s))});var i={};function o(s){var a=r.parent(s);return a===void 0||n.hasNode(a)?(i[s]=a,a):a in i?i[a]:o(a)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,o(s))),n}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return e.reduce(function(o,s){return i.length>1?r.setEdge(o,s,n):r.setEdge(o,s),s}),this}setEdge(){var e,n,r,i,o=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,n=s.w,r=s.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=s,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var a=Jt(this._isDirected,e,n,r);if(this._edgeLabels.hasOwnProperty(a))return o&&(this._edgeLabels[a]=i),this;if(r!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[a]=o?i:this._defaultEdgeLabelFn(e,n,r);var l=df(this._isDirected,e,n,r);return e=l.v,n=l.w,Object.freeze(l),this._edgeObjs[a]=l,Ki(this._preds[n],e),Ki(this._sucs[e],n),this._in[n][a]=l,this._out[e][a]=l,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?fr(this._isDirected,arguments[0]):Jt(this._isDirected,e,n,r);return this._edgeLabels[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?fr(this._isDirected,arguments[0]):Jt(this._isDirected,e,n,r);return this._edgeLabels.hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?fr(this._isDirected,arguments[0]):Jt(this._isDirected,e,n,r),o=this._edgeObjs[i];return o&&(e=o.v,n=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],Zi(this._preds[n],e),Zi(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.v===n):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}};function Ki(t,e){t[e]?t[e]++:t[e]=1}function Zi(t,e){--t[e]||delete t[e]}function Jt(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+Ui+o+Ui+(r===void 0?hf:r)}function df(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return r&&(a.name=r),a}function fr(t,e){return Jt(t,e.v,e.w,e.name)}var ni=ff,pf="2.2.2",gf={Graph:ni,version:pf},mf=ni,wf={write:_f,read:vf};function _f(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:bf(t),edges:yf(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function bf(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function yf(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function vf(t){var e=new mf(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var kf=Ef;function Ef(t){var e={},n=[],r;function i(o){e.hasOwnProperty(o)||(e[o]=!0,r.push(o),t.successors(o).forEach(i),t.predecessors(o).forEach(i))}return t.nodes().forEach(function(o){r=[],i(o),r.length&&n.push(r)}),n}let xf=class{constructor(){A(this,"_arr",[]),A(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return this._keyIndices.hasOwnProperty(e)}priority(e){var n=this._keyIndices[e];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,n){var r=this._keyIndices;if(e=String(e),!r.hasOwnProperty(e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:n}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(e){var n=this._arr,r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var n=this._arr,r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)this._swap(e,i),e=i}_swap(e,n){var r=this._arr,i=this._keyIndices,o=r[e],s=r[n];r[e]=s,r[n]=o,i[s.key]=e,i[o.key]=n}};var Us=xf,Mf=Us,Ks=Cf,Nf=()=>1;function Cf(t,e,n,r){return Tf(t,String(e),n||Nf,r||function(i){return t.outEdges(i)})}function Tf(t,e,n,r){var i={},o=new Mf,s,a,l=function(u){var c=u.v!==s?u.v:u.w,h=i[c],f=n(u),d=a.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);d<h.distance&&(h.distance=d,h.predecessor=s,o.decrease(c,d))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},o.add(u,c)});o.size()>0&&(s=o.removeMin(),a=i[s],a.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(l);return i}var $f=Ks,Sf=If;function If(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=$f(t,i,e,n),r},{})}var Zs=Of;function Of(t){var e=0,n=[],r={},i=[];function o(s){var a=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(c){r.hasOwnProperty(c)?r[c].onStack&&(a.lowlink=Math.min(a.lowlink,r[c].index)):(o(c),a.lowlink=Math.min(a.lowlink,r[c].lowlink))}),a.lowlink===a.index){var l=[],u;do u=n.pop(),r[u].onStack=!1,l.push(u);while(s!==u);i.push(l)}}return t.nodes().forEach(function(s){r.hasOwnProperty(s)||o(s)}),i}var Af=Zs,Lf=Pf;function Pf(t){return Af(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var Rf=Df,Bf=()=>1;function Df(t,e,n){return Ff(t,e||Bf,n||function(r){return t.outEdges(r)})}function Ff(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(s){o!==s&&(r[o][s]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var a=s.v===o?s.w:s.v,l=e(s);r[o][a]={distance:l,predecessor:o}})}),i.forEach(function(o){var s=r[o];i.forEach(function(a){var l=r[a];i.forEach(function(u){var c=l[o],h=s[u],f=l[u],d=c.distance+h.distance;d<f.distance&&(f.distance=d,f.predecessor=h.predecessor)})})}),r}function Qs(t){var e={},n={},r=[];function i(o){if(n.hasOwnProperty(o))throw new Rr;e.hasOwnProperty(o)||(n[o]=!0,e[o]=!0,t.predecessors(o).forEach(i),delete n[o],r.push(o))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new Rr;return r}class Rr extends Error{constructor(){super(...arguments)}}var Js=Qs;Qs.CycleException=Rr;var Qi=Js,Vf=Wf;function Wf(t){try{Qi(t)}catch(e){if(e instanceof Qi.CycleException)return!1;throw e}return!0}var ea=jf;function jf(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?a=>t.successors(a):a=>t.neighbors(a),i=n==="post"?Gf:zf,o=[],s={};return e.forEach(a=>{if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);i(a,r,s,o)}),o}function Gf(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):n.hasOwnProperty(o[0])||(n[o[0]]=!0,i.push([o[0],!0]),ta(e(o[0]),s=>i.push([s,!1])))}}function zf(t,e,n,r){for(var i=[t];i.length>0;){var o=i.pop();n.hasOwnProperty(o)||(n[o]=!0,r.push(o),ta(e(o),s=>i.push(s)))}}function ta(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var Hf=ea,qf=Yf;function Yf(t,e){return Hf(t,e,"post")}var Xf=ea,Uf=Kf;function Kf(t,e){return Xf(t,e,"pre")}var Zf=ni,Qf=Us,Jf=ed;function ed(t,e){var n=new Zf,r={},i=new Qf,o;function s(l){var u=l.v===o?l.w:l.v,c=i.priority(u);if(c!==void 0){var h=e(l);h<c&&(r[u]=o,i.decrease(u,h))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var a=!1;i.size()>0;){if(o=i.removeMin(),r.hasOwnProperty(o))n.setEdge(o,r[o]);else{if(a)throw new Error("Input graph is not connected: "+t);a=!0}t.nodeEdges(o).forEach(s)}return n}var td={components:kf,dijkstra:Ks,dijkstraAll:Sf,findCycles:Lf,floydWarshall:Rf,isAcyclic:Vf,postorder:qf,preorder:Uf,prim:Jf,tarjan:Zs,topsort:Js},Ji=gf,ze={Graph:Ji.Graph,json:wf,alg:td,version:Ji.version};let nd=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return eo(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&eo(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],n=this._sentinel,r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,rd)),r=r._prev;return"["+e.join(", ")+"]"}};function eo(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function rd(t,e){if(t!=="_next"&&t!=="_prev")return e}var id=nd;let od=ze.Graph,sd=id;var ad=ud;let ld=()=>1;function ud(t,e){if(t.nodeCount()<=1)return[];let n=hd(t,e||ld);return cd(n.graph,n.buckets,n.zeroIdx).flatMap(i=>t.outEdges(i.v,i.w))}function cd(t,e,n){let r=[],i=e[e.length-1],o=e[0],s;for(;t.nodeCount();){for(;s=o.dequeue();)dr(t,e,n,s);for(;s=i.dequeue();)dr(t,e,n,s);if(t.nodeCount()){for(let a=e.length-2;a>0;--a)if(s=e[a].dequeue(),s){r=r.concat(dr(t,e,n,s,!0));break}}}return r}function dr(t,e,n,r,i){let o=i?[]:void 0;return t.inEdges(r.v).forEach(s=>{let a=t.edge(s),l=t.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,Br(e,n,l)}),t.outEdges(r.v).forEach(s=>{let a=t.edge(s),l=s.w,u=t.node(l);u.in-=a,Br(e,n,u)}),t.removeNode(r.v),o}function hd(t,e){let n=new od,r=0,i=0;t.nodes().forEach(a=>{n.setNode(a,{v:a,in:0,out:0})}),t.edges().forEach(a=>{let l=n.edge(a.v,a.w)||0,u=e(a),c=l+u;n.setEdge(a.v,a.w,c),i=Math.max(i,n.node(a.v).out+=u),r=Math.max(r,n.node(a.w).in+=u)});let o=fd(i+r+3).map(()=>new sd),s=r+1;return n.nodes().forEach(a=>{Br(o,s,n.node(a))}),{graph:n,buckets:o,zeroIdx:s}}function Br(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function fd(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}let na=ze.Graph;var ue={addBorderNode:vd,addDummyNode:ra,asNonCompoundGraph:pd,buildLayerMatrix:_d,intersectRect:wd,mapValues:Cd,maxRank:ia,normalizeRanks:bd,notime:xd,partition:kd,pick:Nd,predecessorWeights:md,range:sa,removeEmptyRanks:yd,simplify:dd,successorWeights:gd,time:Ed,uniqueId:oa,zipObject:ri};function ra(t,e,n,r){let i;do i=oa(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function dd(t){let e=new na().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{let r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function pd(t){let e=new na({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function gd(t){let e=t.nodes().map(n=>{let r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return ri(t.nodes(),e)}function md(t){let e=t.nodes().map(n=>{let r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return ri(t.nodes(),e)}function wd(t,e){let n=t.x,r=t.y,i=e.x-n,o=e.y-r,s=t.width/2,a=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");let l,u;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,u=a):(i<0&&(s=-s),l=s,u=s*o/i),{x:n+l,y:r+u}}function _d(t){let e=sa(ia(t)+1).map(()=>[]);return t.nodes().forEach(n=>{let r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function bd(t){let e=Math.min(...t.nodes().map(n=>{let r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{let r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function yd(t){let e=Math.min(...t.nodes().map(o=>t.node(o).rank)),n=[];t.nodes().forEach(o=>{let s=t.node(o).rank-e;n[s]||(n[s]=[]),n[s].push(o)});let r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((o,s)=>{o===void 0&&s%i!==0?--r:o!==void 0&&r&&o.forEach(a=>t.node(a).rank+=r)})}function vd(t,e,n,r){let i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),ra(t,"border",i,e)}function ia(t){return Math.max(...t.nodes().map(e=>{let n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function kd(t,e){let n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function Ed(t,e){let n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function xd(t,e){return e()}let Md=0;function oa(t){var e=++Md;return toString(t)+e}function sa(t,e,n=1){e==null&&(e=t,t=0);let r=o=>o<e;n<0&&(r=o=>e<o);const i=[];for(let o=t;r(o);o+=n)i.push(o);return i}function Nd(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function Cd(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,o])=>(r[i]=n(o,i),r),{})}function ri(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Td=ad,$d=ue.uniqueId;var Sd={run:Id,undo:Ad};function Id(t){(t.graph().acyclicer==="greedy"?Td(t,n(t)):Od(t)).forEach(r=>{let i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,$d("rev"))});function n(r){return i=>r.edge(i).weight}}function Od(t){let e=[],n={},r={};function i(o){r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,t.outEdges(o).forEach(s=>{n.hasOwnProperty(s.w)?e.push(s):i(s.w)}),delete n[o])}return t.nodes().forEach(i),e}function Ad(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.reversed){t.removeEdge(e);let r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}let Ld=ue;var Pd={run:Rd,undo:Dd};function Rd(t){t.graph().dummyChains=[],t.edges().forEach(e=>Bd(t,e))}function Bd(t,e){let n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,s=e.name,a=t.edge(e),l=a.labelRank;if(o===r+1)return;t.removeEdge(e);let u,c,h;for(h=0,++r;r<o;++h,++r)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:e,rank:r},u=Ld.addDummyNode(t,"edge",c,"_d"),r===l&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),t.setEdge(n,u,{weight:a.weight},s),h===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:a.weight},s)}function Dd(t){t.graph().dummyChains.forEach(e=>{let n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var Zn={longestPath:Fd,slack:Vd};function Fd(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var o=Math.min(...t.outEdges(r).map(s=>s==null?Number.POSITIVE_INFINITY:n(s.w)-t.edge(s).minlen));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}t.sources().forEach(n)}function Vd(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var Wd=ze.Graph,qn=Zn.slack,aa=jd;function jd(t){var e=new Wd({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,o;Gd(e,t)<r;)i=zd(e,t),o=e.hasNode(i.v)?qn(t,i):-qn(t,i),Hd(e,t,o);return e}function Gd(t,e){function n(r){e.nodeEdges(r).forEach(i=>{var o=i.v,s=r===o?i.w:o;!t.hasNode(s)&&!qn(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})}return t.nodes().forEach(n),t.nodeCount()}function zd(t,e){return e.edges().reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(o=qn(e,i)),o<r[0]?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function Hd(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var qd=aa,to=Zn.slack,Yd=Zn.longestPath,Xd=ze.alg.preorder,Ud=ze.alg.postorder,Kd=ue.simplify,Zd=_t;_t.initLowLimValues=oi;_t.initCutValues=ii;_t.calcCutValue=la;_t.leaveEdge=ca;_t.enterEdge=ha;_t.exchangeEdges=fa;function _t(t){t=Kd(t),Yd(t);var e=qd(t);oi(e),ii(e,t);for(var n,r;n=ca(e);)r=ha(e,t,n),fa(e,t,n,r)}function ii(t,e){var n=Ud(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>Qd(t,e,r))}function Qd(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=la(t,e,n)}function la(t,e,n){var r=t.node(n),i=r.parent,o=!0,s=e.edge(n,i),a=0;return s||(o=!1,s=e.edge(i,n)),a=s.weight,e.nodeEdges(n).forEach(l=>{var u=l.v===n,c=u?l.w:l.v;if(c!==i){var h=u===o,f=e.edge(l).weight;if(a+=h?f:-f,ep(t,n,c)){var d=t.edge(n,c).cutvalue;a+=h?-d:d}}}),a}function oi(t,e){arguments.length<2&&(e=t.nodes()[0]),ua(t,{},1,e)}function ua(t,e,n,r,i){var o=n,s=t.node(r);return e[r]=!0,t.neighbors(r).forEach(a=>{e.hasOwnProperty(a)||(n=ua(t,e,n,a,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function ca(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function ha(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=e.edges().filter(c=>l===no(t,t.node(c.v),a)&&l!==no(t,t.node(c.w),a));return u.reduce((c,h)=>to(e,h)<to(e,c)?h:c)}function fa(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),oi(t),ii(t,e),Jd(t,e)}function Jd(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=Xd(t,n);r=r.slice(1),r.forEach(i=>{var o=t.node(i).parent,s=e.edge(i,o),a=!1;s||(s=e.edge(o,i),a=!0),e.node(i).rank=e.node(o).rank+(a?s.minlen:-s.minlen)})}function ep(t,e,n){return t.hasEdge(e,n)}function no(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var tp=Zn,da=tp.longestPath,np=aa,rp=Zd,ip=op;function op(t){switch(t.graph().ranker){case"network-simplex":ro(t);break;case"tight-tree":ap(t);break;case"longest-path":sp(t);break;default:ro(t)}}var sp=da;function ap(t){da(t),np(t)}function ro(t){rp(t)}var lp=up;function up(t){let e=hp(t);t.graph().dummyChains.forEach(n=>{let r=t.node(n),i=r.edgeObj,o=cp(t,e,i.v,i.w),s=o.path,a=o.lca,l=0,u=s[l],c=!0;for(;n!==i.w;){if(r=t.node(n),c){for(;(u=s[l])!==a&&t.node(u).maxRank<r.rank;)l++;u===a&&(c=!1)}if(!c){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}t.setParent(n,u),n=t.successors(n)[0]}})}function cp(t,e,n,r){let i=[],o=[],s=Math.min(e[n].low,e[r].low),a=Math.max(e[n].lim,e[r].lim),l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||a>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function hp(t){let e={},n=0;function r(i){let o=n;t.children(i).forEach(r),e[i]={low:o,lim:n++}}return t.children().forEach(r),e}let Dr=ue;var fp={run:dp,cleanup:mp};function dp(t){let e=Dr.addDummyNode(t,"root",{},"_root"),n=pp(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(s=>t.edge(s).minlen*=i);let o=gp(t)+1;t.children().forEach(s=>pa(t,e,i,o,r,n,s)),t.graph().nodeRankFactor=i}function pa(t,e,n,r,i,o,s){let a=t.children(s);if(!a.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}let l=Dr.addBorderNode(t,"_bt"),u=Dr.addBorderNode(t,"_bb"),c=t.node(s);t.setParent(l,s),c.borderTop=l,t.setParent(u,s),c.borderBottom=u,a.forEach(h=>{pa(t,e,n,r,i,o,h);let f=t.node(h),d=f.borderTop?f.borderTop:h,g=f.borderBottom?f.borderBottom:h,w=f.borderTop?r:2*r,E=d!==g?1:i-o[s]+1;t.setEdge(l,d,{weight:w,minlen:E,nestingEdge:!0}),t.setEdge(g,u,{weight:w,minlen:E,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+o[s]})}function pp(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&o.forEach(s=>n(s,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function gp(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function mp(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}let wp=ue;var _p=bp;function bp(t){function e(n){let r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(let o=i.minRank,s=i.maxRank+1;o<s;++o)io(t,"borderLeft","_bl",n,i,o),io(t,"borderRight","_br",n,i,o)}}t.children().forEach(e)}function io(t,e,n,r,i,o){let s={width:0,height:0,rank:o,borderType:e},a=i[e][o-1],l=wp.addDummyNode(t,"border",s,n);i[e][o]=l,t.setParent(l,r),a&&t.setEdge(a,l,{weight:1})}var yp={adjust:vp,undo:kp};function vp(t){let e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&ga(t)}function kp(t){let e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Ep(t),(e==="lr"||e==="rl")&&(xp(t),ga(t))}function ga(t){t.nodes().forEach(e=>oo(t.node(e))),t.edges().forEach(e=>oo(t.edge(e)))}function oo(t){let e=t.width;t.width=t.height,t.height=e}function Ep(t){t.nodes().forEach(e=>pr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(pr),n.hasOwnProperty("y")&&pr(n)})}function pr(t){t.y=-t.y}function xp(t){t.nodes().forEach(e=>gr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(gr),n.hasOwnProperty("x")&&gr(n)})}function gr(t){let e=t.x;t.x=t.y,t.y=e}let Mp=ue;var Np=Cp;function Cp(t){let e={},n=t.nodes().filter(a=>!t.children(a).length),r=Math.max(...n.map(a=>t.node(a).rank)),i=Mp.range(r+1).map(()=>[]);function o(a){if(e[a])return;e[a]=!0;let l=t.node(a);i[l.rank].push(a),t.successors(a).forEach(o)}return n.sort((a,l)=>t.node(a).rank-t.node(l).rank).forEach(o),i}let Tp=ue.zipObject;var $p=Sp;function Sp(t,e){let n=0;for(let r=1;r<e.length;++r)n+=Ip(t,e[r-1],e[r]);return n}function Ip(t,e,n){let r=Tp(n,n.map((u,c)=>c)),i=e.flatMap(u=>t.outEdges(u).map(c=>({pos:r[c.w],weight:t.edge(c).weight})).sort((c,h)=>c.pos-h.pos)),o=1;for(;o<n.length;)o<<=1;let s=2*o-1;o-=1;let a=new Array(s).fill(0),l=0;return i.forEach(u=>{let c=u.pos+o;a[c]+=u.weight;let h=0;for(;c>0;)c%2&&(h+=a[c+1]),c=c-1>>1,a[c]+=u.weight;l+=u.weight*h}),l}var Op=Ap;function Ap(t,e=[]){return e.map(n=>{let r=t.inEdges(n);if(r.length){let i=r.reduce((o,s)=>{let a=t.edge(s),l=t.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}let Lp=ue;var Pp=Rp;function Rp(t,e){let n={};t.forEach((i,o)=>{let s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};i.barycenter!==void 0&&(s.barycenter=i.barycenter,s.weight=i.weight)}),e.edges().forEach(i=>{let o=n[i.v],s=n[i.w];o!==void 0&&s!==void 0&&(s.indegree++,o.out.push(n[i.w]))});let r=Object.values(n).filter(i=>!i.indegree);return Bp(r)}function Bp(t){let e=[];function n(i){return o=>{o.merged||(o.barycenter===void 0||i.barycenter===void 0||o.barycenter>=i.barycenter)&&Dp(i,o)}}function r(i){return o=>{o.in.push(i),--o.indegree===0&&t.push(o)}}for(;t.length;){let i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(i=>!i.merged).map(i=>Lp.pick(i,["vs","i","barycenter","weight"]))}function Dp(t,e){let n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}let Fp=ue;var Vp=Wp;function Wp(t,e){let n=Fp.partition(t,c=>c.hasOwnProperty("barycenter")),r=n.lhs,i=n.rhs.sort((c,h)=>h.i-c.i),o=[],s=0,a=0,l=0;r.sort(jp(!!e)),l=so(o,i,l),r.forEach(c=>{l+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,l=so(o,i,l)});let u={vs:o.flat(!0)};return a&&(u.barycenter=s/a,u.weight=a),u}function so(t,e,n){let r;for(;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function jp(t){return(e,n)=>e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}let Gp=Op,zp=Pp,Hp=Vp;var qp=ma;function ma(t,e,n,r){let i=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=i.filter(f=>f!==s&&f!==a));let u=Gp(t,i);u.forEach(f=>{if(t.children(f.v).length){let d=ma(t,f.v,n,r);l[f.v]=d,d.hasOwnProperty("barycenter")&&Xp(f,d)}});let c=zp(u,n);Yp(c,l);let h=Hp(c,r);if(s&&(h.vs=[s,h.vs,a].flat(!0),t.predecessors(s).length)){let f=t.node(t.predecessors(s)[0]),d=t.node(t.predecessors(a)[0]);h.hasOwnProperty("barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+d.order)/(h.weight+2),h.weight+=2}return h}function Yp(t,e){t.forEach(n=>{n.vs=n.vs.flatMap(r=>e[r]?e[r].vs:r)})}function Xp(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}let Up=ze.Graph,Kp=ue;var Zp=Qp;function Qp(t,e,n){let r=Jp(t),i=new Up({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{let s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||r),t[n](o).forEach(l=>{let u=l.v===o?l.w:l.v,c=i.edge(u,o),h=c!==void 0?c.weight:0;i.setEdge(u,o,{weight:t.edge(l).weight+h})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function Jp(t){for(var e;t.hasNode(e=Kp.uniqueId("_root")););return e}var eg=tg;function tg(t,e,n){let r={},i;n.forEach(o=>{let s=t.parent(o),a,l;for(;s;){if(a=t.parent(s),a?(l=r[a],r[a]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=a}})}let ng=Np,rg=$p,ig=qp,og=Zp,sg=eg,ag=ze.Graph,Tn=ue;var lg=wa;function wa(t,e){if(e&&typeof e.customOrder=="function"){e.customOrder(t,wa);return}let n=Tn.maxRank(t),r=ao(t,Tn.range(1,n+1),"inEdges"),i=ao(t,Tn.range(n-1,-1,-1),"outEdges"),o=ng(t);if(lo(t,o),e&&e.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,a;for(let l=0,u=0;u<4;++l,++u){ug(l%2?r:i,l%4>=2),o=Tn.buildLayerMatrix(t);let c=rg(t,o);c<s&&(u=0,a=Object.assign({},o),s=c)}lo(t,a)}function ao(t,e,n){return e.map(function(r){return og(t,r,n)})}function ug(t,e){let n=new ag;t.forEach(function(r){let i=r.graph().root,o=ig(r,i,n,e);o.vs.forEach((s,a)=>r.node(s).order=a),sg(r,n,o.vs)})}function lo(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}let cg=ze.Graph,cn=ue;var hg={positionX:pg,findType1Conflicts:_a,findType2Conflicts:ba,addConflict:si,hasConflict:ya,verticalAlignment:va,horizontalCompaction:ka,alignCoordinates:xa,findSmallestWidthAlignment:Ea,balance:Ma};function _a(t,e){let n={};function r(i,o){let s=0,a=0,l=i.length,u=o[o.length-1];return o.forEach((c,h)=>{let f=fg(t,c),d=f?t.node(f).order:l;(f||c===u)&&(o.slice(a,h+1).forEach(g=>{t.predecessors(g).forEach(w=>{let E=t.node(w),I=E.order;(I<s||d<I)&&!(E.dummy&&t.node(g).dummy)&&si(n,w,g)})}),a=h+1,s=d)}),o}return e.length&&e.reduce(r),n}function ba(t,e){let n={};function r(o,s,a,l,u){let c;cn.range(s,a).forEach(h=>{c=o[h],t.node(c).dummy&&t.predecessors(c).forEach(f=>{let d=t.node(f);d.dummy&&(d.order<l||d.order>u)&&si(n,f,c)})})}function i(o,s){let a=-1,l,u=0;return s.forEach((c,h)=>{if(t.node(c).dummy==="border"){let f=t.predecessors(c);f.length&&(l=t.node(f[0]).order,r(s,u,h,a,l),u=h,a=l)}r(s,u,s.length,l,o.length)}),s}return e.length&&e.reduce(i),n}function fg(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function si(t,e,n){if(e>n){let i=e;e=n,n=i}let r=t[e];r||(t[e]=r={}),r[n]=!0}function ya(t,e,n){if(e>n){let r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function va(t,e,n,r){let i={},o={},s={};return e.forEach(a=>{a.forEach((l,u)=>{i[l]=l,o[l]=l,s[l]=u})}),e.forEach(a=>{let l=-1;a.forEach(u=>{let c=r(u);if(c.length){c=c.sort((f,d)=>s[f]-s[d]);let h=(c.length-1)/2;for(let f=Math.floor(h),d=Math.ceil(h);f<=d;++f){let g=c[f];o[u]===u&&l<s[g]&&!ya(n,u,g)&&(o[g]=u,o[u]=i[u]=i[g],l=s[g])}}})}),{root:i,align:o}}function ka(t,e,n,r,i){let o={},s=dg(t,e,n,i),a=i?"borderLeft":"borderRight";function l(h,f){let d=s.nodes(),g=d.pop(),w={};for(;g;)w[g]?h(g):(w[g]=!0,d.push(g),d=d.concat(f(g))),g=d.pop()}function u(h){o[h]=s.inEdges(h).reduce((f,d)=>Math.max(f,o[d.v]+s.edge(d)),0)}function c(h){let f=s.outEdges(h).reduce((g,w)=>Math.min(g,o[w.w]-s.edge(w)),Number.POSITIVE_INFINITY),d=t.node(h);f!==Number.POSITIVE_INFINITY&&d.borderType!==a&&(o[h]=Math.max(o[h],f))}return l(u,s.predecessors.bind(s)),l(c,s.successors.bind(s)),Object.keys(r).forEach(h=>o[h]=o[n[h]]),o}function dg(t,e,n,r){let i=new cg,o=t.graph(),s=gg(o.nodesep,o.edgesep,r);return e.forEach(a=>{let l;a.forEach(u=>{let c=n[u];if(i.setNode(c),l){var h=n[l],f=i.edge(h,c);i.setEdge(h,c,Math.max(s(t,u,l),f||0))}l=u})}),i}function Ea(t,e){return Object.values(e).reduce((n,r)=>{let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([a,l])=>{let u=mg(t,a)/2;i=Math.max(l+u,i),o=Math.min(l-u,o)});const s=i-o;return s<n[0]&&(n=[s,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function xa(t,e){let n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(s=>{let a=o+s,l=t[a];if(l===e)return;let u=Object.values(l),c=r-Math.min(...u);s!=="l"&&(c=i-Math.max(...u)),c&&(t[a]=cn.mapValues(l,h=>h+c))})})}function Ma(t,e){return cn.mapValues(t.ul,(n,r)=>{if(e)return t[e.toLowerCase()][r];{let i=Object.values(t).map(o=>o[r]).sort((o,s)=>o-s);return(i[1]+i[2])/2}})}function pg(t){let e=cn.buildLayerMatrix(t),n=Object.assign(_a(t,e),ba(t,e)),r={},i;["u","d"].forEach(s=>{i=s==="u"?e:Object.values(e).reverse(),["l","r"].forEach(a=>{a==="r"&&(i=i.map(h=>Object.values(h).reverse()));let l=(s==="u"?t.predecessors:t.successors).bind(t),u=va(t,i,n,l),c=ka(t,i,u.root,u.align,a==="r");a==="r"&&(c=cn.mapValues(c,h=>-h)),r[s+a]=c})});let o=Ea(t,r);return xa(r,o),Ma(r,t.graph().align)}function gg(t,e,n){return(r,i,o)=>{let s=r.node(i),a=r.node(o),l=0,u;if(l+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,a.hasOwnProperty("labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function mg(t,e){return t.node(e).width}let Na=ue,wg=hg.positionX;var _g=bg;function bg(t){t=Na.asNonCompoundGraph(t),yg(t),Object.entries(wg(t)).forEach(([e,n])=>t.node(e).x=n)}function yg(t){let e=Na.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(i=>{const o=i.reduce((s,a)=>{const l=t.node(a).height;return s>l?s:l},0);i.forEach(s=>t.node(s).y=r+o/2),r+=o+n})}let uo=Sd,co=Pd,vg=ip,kg=ue.normalizeRanks,Eg=lp,xg=ue.removeEmptyRanks,ho=fp,Mg=_p,fo=yp,Ng=lg,Cg=_g,Fe=ue,Tg=ze.Graph;var $g=Sg;function Sg(t,e){let n=e&&e.debugTiming?Fe.time:Fe.notime;n("layout",()=>{let r=n("  buildLayoutGraph",()=>Vg(t));n("  runLayout",()=>Ig(r,n)),n("  updateInputGraph",()=>Og(t,r))})}function Ig(t,e){e("    makeSpaceForEdgeLabels",()=>Wg(t)),e("    removeSelfEdges",()=>Kg(t)),e("    acyclic",()=>uo.run(t)),e("    nestingGraph.run",()=>ho.run(t)),e("    rank",()=>vg(Fe.asNonCompoundGraph(t))),e("    injectEdgeLabelProxies",()=>jg(t)),e("    removeEmptyRanks",()=>xg(t)),e("    nestingGraph.cleanup",()=>ho.cleanup(t)),e("    normalizeRanks",()=>kg(t)),e("    assignRankMinMax",()=>Gg(t)),e("    removeEdgeLabelProxies",()=>zg(t)),e("    normalize.run",()=>co.run(t)),e("    parentDummyChains",()=>Eg(t)),e("    addBorderSegments",()=>Mg(t)),e("    order",()=>Ng(t)),e("    insertSelfEdges",()=>Zg(t)),e("    adjustCoordinateSystem",()=>fo.adjust(t)),e("    position",()=>Cg(t)),e("    positionSelfEdges",()=>Qg(t)),e("    removeBorderNodes",()=>Ug(t)),e("    normalize.undo",()=>co.undo(t)),e("    fixupEdgeLabelCoords",()=>Yg(t)),e("    undoCoordinateSystem",()=>fo.undo(t)),e("    translateGraph",()=>Hg(t)),e("    assignNodeIntersects",()=>qg(t)),e("    reversePoints",()=>Xg(t)),e("    acyclic.undo",()=>uo.undo(t))}function Og(t,e){t.nodes().forEach(n=>{let r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{let r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}let Ag=["nodesep","edgesep","ranksep","marginx","marginy"],Lg={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Pg=["acyclicer","ranker","rankdir","align"],Rg=["width","height"],po={width:0,height:0},Bg=["minlen","weight","width","height","labeloffset"],Dg={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Fg=["labelpos"];function Vg(t){let e=new Tg({multigraph:!0,compound:!0}),n=wr(t.graph());return e.setGraph(Object.assign({},Lg,mr(n,Ag),Fe.pick(n,Pg))),t.nodes().forEach(r=>{let i=wr(t.node(r));const o=mr(i,Rg);Object.keys(po).forEach(s=>{o[s]===void 0&&(o[s]=po[s])}),e.setNode(r,o),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{let i=wr(t.edge(r));e.setEdge(r,Object.assign({},Dg,mr(i,Bg),Fe.pick(i,Fg)))}),e}function Wg(t){let e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{let r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function jg(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.width&&n.height){let r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};Fe.addDummyNode(t,"edge-proxy",o,"_ep")}})}function Gg(t){let e=0;t.nodes().forEach(n=>{let r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function zg(t){t.nodes().forEach(e=>{let n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function Hg(t){let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){let c=u.x,h=u.y,f=u.width,d=u.height;e=Math.min(e,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,h-d/2),i=Math.max(i,h+d/2)}t.nodes().forEach(u=>l(t.node(u))),t.edges().forEach(u=>{let c=t.edge(u);c.hasOwnProperty("x")&&l(c)}),e-=s,r-=a,t.nodes().forEach(u=>{let c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{let c=t.edge(u);c.points.forEach(h=>{h.x-=e,h.y-=r}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=r)}),o.width=n-e+s,o.height=i-r+a}function qg(t){t.edges().forEach(e=>{let n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(Fe.intersectRect(r,o)),n.points.push(Fe.intersectRect(i,s))})}function Yg(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Xg(t){t.edges().forEach(e=>{let n=t.edge(e);n.reversed&&n.points.reverse()})}function Ug(t){t.nodes().forEach(e=>{if(t.children(e).length){let n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),s=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function Kg(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Zg(t){var e=Fe.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,o)=>{var s=t.node(i);s.order=o+r,(s.selfEdges||[]).forEach(a=>{Fe.addDummyNode(t,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++r,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function Qg(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,a=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],n.label.x=n.x,n.label.y=n.y}})}function mr(t,e){return Fe.mapValues(Fe.pick(t,e),Number)}function wr(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}let Jg=ue,em=ze.Graph;var tm={debugOrdering:nm};function nm(t){let e=Jg.buildLayerMatrix(t),n=new em({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(r=>{n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(r=>n.setEdge(r.v,r.w,{},r.name)),e.forEach((r,i)=>{let o="layer"+i;n.setNode(o,{rank:"same"}),r.reduce((s,a)=>(n.setEdge(s,a,{style:"invis"}),a))}),n}var rm="1.1.2",Dn={graphlib:ze,layout:$g,debug:tm,util:{time:ue.time,notime:ue.notime},version:rm};const go=cf(Dn);class im{compute(e,n){const r=new go.graphlib.Graph;r.setGraph({}),r.setDefaultEdgeLabel(()=>({})),r.setDefaultNodeLabel(()=>({}));const i=new Map,o=new Map,s=new Map,a=new Map,l=k=>{const b=e.childrenT(k);if(b.length===0){const _=e.node(k).build(),{width:y,height:N}=_.boundingBox();r.setNode(k,{width:y,height:N}),i.set(k,_)}else{if(!n.has(k)&&k!==e.root()){const _=e.node(k);s.set(k,{boundingBox:{},name:_.humanReadable()||k})}for(const _ of b)if(n.has(_))for(const y of e.hierarchyPreorder(_)){const N=e.node(_).build();a.set(y,_);const{width:v,height:O}=N.boundingBox();r.setNode(_,{width:v,height:O}),o.set(_,N)}else l(_)}};l(e.root());for(const{v:k,w:b}of e.edges()){const _=a.get(k)||k,y=a.get(b)||b;_!==y&&r.setEdge(_,y)}const u=performance.now();go.layout(r);const c=performance.now(),{width:h,height:f}=r.graph(),d=new re(0,0,h,f);for(const[k,b]of i.entries()){const{x:_,y,width:N,height:v}=r.node(k);b.moveTo(_-N/2,y-v/2)}for(const[k,b]of o.entries()){const{x:_,y,width:N,height:v}=r.node(k);b.moveTo(_-N/2,y-v/2)}const g=20;for(const k of e.hierarchyPostorder()){const b=s.get(k);if(b!==void 0){const _=e.childrenT(k).reduce((y,N)=>{var v,O,D;const G=(v=i.get(N))==null?void 0:v.boundingBox();G!==void 0&&y.push(G);const U=(O=o.get(N))==null?void 0:O.boundingBox();U!==void 0&&y.push(U);const W=(D=s.get(N))==null?void 0:D.boundingBox;if(W!==void 0&&N!==k){const C=2*-g+10,M=re.fromCenterAndDimension(W.center,W.width+C,W.height+C);y.push(M)}return y},[]);b.boundingBox=re.fromUnion(..._).padded(g)}}const w=r.edges().map(k=>{const{points:b}=r.edge(k);return[{from:k.v,to:k.w},new Zr(b)]}).map(([k,b])=>b),E={layoutTimeMs:c-u},I=new js(...w);return{nodes:i,collapsed:o,expanded:s,edges:I,boundingBox:d.union(I.boundingBox()),stats:E}}}class ai extends Dn.graphlib.Graph{constructor(e){super({compound:!0}),e!==void 0?Object.assign(this,e):(this.setGraph({}),this.setDefaultEdgeLabel(()=>({})))}setNodeWithParent(e,n,r){this.setNode(e,n),this.setParent(e,r)}parents(e){const n=[];let r=this.parent(e);for(;r!==void 0;)n.push(r),r=this.parent(r);return n}hierarchyPreorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{n.push(o);for(const s of this.childrenT(o))i(s)};for(const o of this.childrenT(r))i(o);return n}hierarchyPostorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{for(const s of this.childrenT(o))i(s);n.push(o)};for(const o of this.childrenT(r))i(o);return n}childrenT(e){return this.children(e)}parent(e){return super.parent(e)}nodes(){return super.nodes()}modules(){return this.nodes().filter(e=>this.childrenT(e).length>0)}edges(){return super.edges()}root(){return"\0"}toJson(){return Dn.graphlib.json.write(this)}static readJson(e){return new ai(Dn.graphlib.json.read(e))}}function om(t,e,n,r){const i=new Set,o=new Set;if(r.expand)for(const a of e)for(const l of t.parents(a))n.has(l)?o.add(l):i.add(l);const s=new Set;if(r.collapseOthers)for(const a of t.modules())!o.has(a)&&!n.has(a)&&!i.has(a)&&s.add(a);return{collapse:s,expand:o}}function sm(t,e){const n=r=>e.has(r)||t.childrenT(r).length===0?1:t.childrenT(r).reduce((i,o)=>i+n(o),0);return t.childrenT(t.root()).reduce((r,i)=>r+n(i),0)}function am(t){let e;return{c(){e=X("path"),p(e,"d","M20.441,59.9614212 C21.0957895,59.9614212 22.7266842,56.6764211 22.7266842,52.7482369 L22.7266842,38.6593685 L18.182579,38.6593685 L18.182579,52.7482369 C18.182579,56.6764211 19.8134737,59.9614212 20.441,59.9614212 Z M4.26163159,40.7638948 L36.6204211,40.7638948 C38.9460001,40.7638948 40.4145264,39.317579 40.4145264,37.1453685 C40.4145264,29.5821053 31.9740001,21.9558421 20.441,21.9558421 C8.93526317,21.9558421 0.494736843,29.5821053 0.494736843,37.1453685 C0.494736843,39.317579 1.96884211,40.7638948 4.26163159,40.7638948 Z M5.2911579,36.8756316 C4.71700001,36.8756316 4.4541579,36.5583159 4.56310527,35.8480001 C5.1023158,31.2280527 11.0429474,25.7078948 20.441,25.7078948 C29.8718948,25.7078948 35.7796843,31.2280527 36.346158,35.8480001 C36.4551053,36.5583159 36.1650001,36.8756316 35.5908948,36.8756316 L5.2911579,36.8756316 Z M3.74989474,2.76857895 C3.74989474,3.55452632 4.0611579,4.40605264 4.72705264,5.26868422 C6.03868422,7.0183158 9.13778949,9.44489475 12.3810527,11.5798421 L11.4523158,25.1263685 L15.5584737,25.1263685 L16.4983158,9.67205265 C16.5311053,9.30078949 16.4711053,9.17515791 16.2254211,9.04952633 C12.3641579,7.09368422 9.37084212,4.73952632 9.18573686,4.22889474 C8.96778949,3.90094737 9.18626317,3.66589474 9.48189475,3.66589474 L31.4273685,3.66589474 C31.7013158,3.66589474 31.9142106,3.90094737 31.7291053,4.22889474 C31.5112106,4.73952632 28.5451053,7.09368422 24.6621579,9.04952633 C24.4437369,9.17515791 24.3836843,9.30078949 24.4164737,9.67205265 L25.3563685,25.1263685 L29.4569474,25.1263685 L28.501,11.5798421 C31.7497895,9.44489475 34.8488948,7.0183158 36.1605264,5.26868422 C36.8481053,4.40605264 37.1593685,3.55452632 37.1593685,2.76857895 C37.1593685,1.20726316 35.9421053,0.0500000001 34.1512632,0.0500000001 L6.75800001,0.0500000001 C4.93989475,0.0500000001 3.74989474,1.20726316 3.74989474,2.76857895 Z"),p(e,"transform","translate(11.737 2)"),p(e,"fill",t[0]),p(e,"stroke",t[1])},m(n,r){V(n,e,r)},p(n,[r]){r&1&&p(e,"fill",n[0]),r&2&&p(e,"stroke",n[1])},i:Y,o:Y,d(n){n&&B(e)}}}function lm(t,e,n){let{fill:r="white"}=e,{stroke:i="white"}=e;return t.$$set=o=>{"fill"in o&&n(0,r=o.fill),"stroke"in o&&n(1,i=o.stroke)},[r,i]}class um extends xe{constructor(e){super(),Ee(this,e,lm,am,_e,{fill:0,stroke:1})}}function cm(t){let e,n,r,i,o,s,a,l,u,c,h,f,d;const g=[{self:t[0].content}];var w=t[0].content.drawable();function E(I,k){let b={};for(let _=0;_<g.length;_+=1)b=et(b,g[_]);return k!==void 0&&k&1&&(b=et(b,Rt(g,[{self:I[0].content}]))),{props:b}}return w&&(n=Pt(w,E(t))),u=new um({}),{c(){e=X("g"),n&&le(n.$$.fragment),r=X("g"),i=X("rect"),s=X("text"),a=Ke("Pin"),l=X("g"),le(u.$$.fragment),p(i,"x","-37"),p(i,"y","-10"),p(i,"width","50"),p(i,"height","20"),p(i,"rx","10"),p(i,"fill",o=t[1]==="pinned"?"orange":"rgb(51,51,51)"),p(i,"stroke","white"),p(i,"stroke-width","2"),p(s,"x","-18"),p(s,"y",1),p(s,"font-family",gn.family),p(s,"font-size","10"),p(s,"text-anchor","middle"),p(s,"dominant-baseline","middle"),p(s,"fill","white"),p(l,"transform","scale(0.2) translate(-32 -30)"),p(r,"transform",c=`translate(${t[2].width+t[6].x},${-t[6].y})`),p(r,"cursor","pointer"),p(e,"role","tooltip")},m(I,k){V(I,e,k),n&&oe(n,e,null),z(e,r),z(r,i),z(r,s),z(s,a),z(r,l),oe(u,l,null),h=!0,f||(d=[ie(r,"click",t[3]),ie(r,"keydown",t[3]),ie(e,"mouseenter",t[4]),ie(e,"mouseleave",t[5])],f=!0)},p(I,[k]){if(k&1&&w!==(w=I[0].content.drawable())){if(n){Ie();const b=n;j(b.$$.fragment,1,0,()=>{se(b,1)}),Oe()}w?(n=Pt(w,E(I,k)),le(n.$$.fragment),P(n.$$.fragment,1),oe(n,e,r)):n=null}else if(w){const b=k&1?Rt(g,[{self:I[0].content}]):{};n.$set(b)}(!h||k&2&&o!==(o=I[1]==="pinned"?"orange":"rgb(51,51,51)"))&&p(i,"fill",o),(!h||k&4&&c!==(c=`translate(${I[2].width+I[6].x},${-I[6].y})`))&&p(r,"transform",c)},i(I){h||(n&&P(n.$$.fragment,I),P(u.$$.fragment,I),h=!0)},o(I){n&&j(n.$$.fragment,I),j(u.$$.fragment,I),h=!1},d(I){I&&B(e),n&&se(n),se(u),f=!1,Ue(d)}}}function hm(t,e,n){let r,{nodeId:i}=e,{tooltip:o}=e,{state:s}=e;const a=Bt();function l(f){f.stopPropagation(),a("togglePin",{nodeId:i})}function u(f){a("nodeEnter",{...f,nodeId:i})}function c(f){a("nodeLeave",{...f,nodeId:i})}const h={x:1,y:1};return t.$$set=f=>{"nodeId"in f&&n(7,i=f.nodeId),"tooltip"in f&&n(0,o=f.tooltip),"state"in f&&n(1,s=f.state)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.boundingBox())},[o,s,r,l,u,c,h,i]}class fm extends xe{constructor(e){super(),Ee(this,e,hm,cm,_e,{nodeId:7,tooltip:0,state:1})}}const Ca=300;function dm(t,e,n){function r(){t.update(i=>(i.set(e,{tooltip:n,state:"active"}),i))}return window.setTimeout(r,Ca)}function Ta(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&r.state!=="pinned"&&(r.state!=="active"&&window.clearTimeout(r.state),n.set(e,{...r,state:"active"})),n})}function $a(t,e){function n(){t.update(r=>(r.delete(e),r))}t.update(r=>{const i=r.get(e);return i!==void 0&&i.state!=="pinned"&&r.set(e,{...i,state:window.setTimeout(n,Ca)}),r})}function pm(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&(r.state==="pinned"?n.set(e,{...r,state:"active"}):n.set(e,{...r,state:"pinned"})),n})}function mo(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1].position,r[11]=e[n][1].tooltip,r[12]=e[n][1].state,r}function wo(t,e){let n,r,i,o;return r=new fm({props:{nodeId:e[9],tooltip:e[11],state:e[12]}}),r.$on("mouseenter",e[2]),r.$on("mouseleave",e[3]),r.$on("togglePin",e[4]),r.$on("nodeEnter",e[7]),r.$on("nodeLeave",e[8]),{key:t,first:null,c(){n=X("g"),le(r.$$.fragment),p(n,"transform",i=`translate(${e[10].x},${e[10].y})`),this.first=n},m(s,a){V(s,n,a),oe(r,n,null),o=!0},p(s,a){e=s;const l={};a&1&&(l.nodeId=e[9]),a&1&&(l.tooltip=e[11]),a&1&&(l.state=e[12]),r.$set(l),(!o||a&1&&i!==(i=`translate(${e[10].x},${e[10].y})`))&&p(n,"transform",i)},i(s){o||(P(r.$$.fragment,s),o=!0)},o(s){j(r.$$.fragment,s),o=!1},d(s){s&&B(n),se(r)}}}function gm(t){let e=[],n=new Map,r,i,o=Re(t[0]);const s=a=>a[9];for(let a=0;a<o.length;a+=1){let l=mo(t,o,a),u=s(l);n.set(u,e[a]=wo(u,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Be()},m(a,l){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,l);V(a,r,l),i=!0},p(a,[l]){l&29&&(o=Re(a[0]),Ie(),e=Bn(e,l,s,1,a,o,n,r.parentNode,Rn,wo,r,mo),Oe())},i(a){if(!i){for(let l=0;l<o.length;l+=1)P(e[l]);i=!0}},o(a){for(let l=0;l<e.length;l+=1)j(e[l]);i=!1},d(a){a&&B(r);for(let l=0;l<e.length;l+=1)e[l].d(a)}}}const mm=20;function wm(t,e,n){let r,i;const{tooltips:o}=Is(Qr);ys(t,o,f=>n(6,i=f));let{nodeLayouts:s}=e;function a(f){Ta(o,f.detail.nodeId)}function l(f){$a(o,f.detail.nodeId)}function u(f){pm(o,f.detail.nodeId)}function c(f){Ne.call(this,t,f)}function h(f){Ne.call(this,t,f)}return t.$$set=f=>{"nodeLayouts"in f&&n(5,s=f.nodeLayouts)},t.$$.update=()=>{t.$$.dirty&96&&n(0,r=[...i.entries()].filter(([f])=>s.has(f)).map(([f,{tooltip:d,state:g}])=>{var w;const E=(w=s.get(f))==null?void 0:w.boundingBox(),I=Ds(E,d.boundingBox(),d.options.anchor,mm);return[f,{position:I,tooltip:d,state:g}]}))},[r,o,a,l,u,s,i,c,h]}class _m extends xe{constructor(e){super(),Ee(this,e,wm,gm,_e,{nodeLayouts:5})}}function bm(t){let e,n,r,i,o,s,a,l,u;return{c(){e=X("g"),n=X("rect"),o=X("text"),s=Ke(t[0]),p(n,"width",r=t[1].width),p(n,"height",i=t[1].height),p(n,"fill","rgb(250,250,250)"),p(n,"stroke","rgb(134, 134, 139)"),p(n,"stroke-width","1"),p(n,"rx","6"),p(n,"class","svelte-76qmi8"),p(o,"y","-2"),p(o,"font-family",gn.family),p(o,"class","svelte-76qmi8"),p(e,"class","expand svelte-76qmi8"),p(e,"transform",a=`translate(${t[1].xMin},${t[1].yMin})`)},m(c,h){V(c,e,h),z(e,n),z(e,o),z(o,s),l||(u=[ie(e,"click",t[5]),ie(e,"dblclick",t[6]),ie(e,"mouseenter",t[2]),ie(e,"mouseleave",t[3])],l=!0)},p(c,[h]){h&2&&r!==(r=c[1].width)&&p(n,"width",r),h&2&&i!==(i=c[1].height)&&p(n,"height",i),h&1&&_n(s,c[0]),h&2&&a!==(a=`translate(${c[1].xMin},${c[1].yMin})`)&&p(e,"transform",a)},i:Y,o:Y,d(c){c&&B(e),l=!1,Ue(u)}}}function ym(t,e,n){const r=Bt();let{nodeId:i}=e,{name:o}=e,{boundingBox:s}=e;function a(){r("nodeEnter",{nodeId:i})}function l(){r("nodeLeave",{nodeId:i})}function u(h){Ne.call(this,t,h)}function c(h){Ne.call(this,t,h)}return t.$$set=h=>{"nodeId"in h&&n(4,i=h.nodeId),"name"in h&&n(0,o=h.name),"boundingBox"in h&&n(1,s=h.boundingBox)},[o,s,a,l,i,u,c]}class vm extends xe{constructor(e){super(),Ee(this,e,ym,bm,_e,{nodeId:4,name:0,boundingBox:1})}}class li{constructor(e,n,r={x:0,y:0},i=1){this.width=e,this.height=n,this.cameraPos=r,this.cameraScale=i}viewToWorld(){return yr.identity().translate(this.cameraPos.x,this.cameraPos.y)}worldToView(){return this.viewToWorld().inverse()}screenToView(){return yr.identity().scale(1/this.cameraScale).translate(-this.width/2,-this.height/2)}viewToScreen(){return this.screenToView().inverse()}worldToScreen(){const e=this.worldToView();return this.viewToScreen().scale(e.k).translate(e.x,e.y)}screenToWorld(){return this.worldToScreen().inverse()}screenWidth(){return this.width}screenHeight(){return this.height}moveBy(e,n){this.cameraPos.x+=e,this.cameraPos.y+=n}moveTo(e,n){this.cameraPos.x=e,this.cameraPos.y=n}resize(e,n){this.width=e,this.height=n}center(){return this.cameraPos}scale(){return this.cameraScale}scaleBy(e){this.cameraScale*=e}scaleTo(e){this.cameraScale=e}fit(e){const{x:n,y:r}=e.center;this.moveTo(n,r);const i=Math.min(this.width/e.width,this.height/e.height);this.scaleTo(i||1)}world(){const e=this.screenToWorld().apply(0,0),n=this.screenToWorld().apply(this.width,this.height);return new re(e.x,e.y,n.x,n.y)}viewBox(){const e=this.world();return`${e.xMin} ${e.yMin} ${e.width} ${e.height}`}}class km{constructor(e){A(this,"scaleMin",Number.MIN_VALUE),A(this,"scaleMax",Number.MAX_VALUE),A(this,"boundingBox",re.infinity()),this.viewport=e}setViewport(e){this.viewport=e}setScaleExtent(e){return e.min!==void 0&&(this.scaleMin=e.min),e.max!==void 0&&(this.scaleMax=e.max),this}scaleExtent(){return{min:this.scaleMin,max:this.scaleMax}}setTranslationExtent(e){return e.xMin!==void 0&&(this.boundingBox.xMin=e.xMin),e.yMin!==void 0&&(this.boundingBox.yMin=e.yMin),e.xMax!==void 0&&(this.boundingBox.xMax=e.xMax),e.yMax!==void 0&&(this.boundingBox.yMax=e.yMax),this}translationExtent(){return this.boundingBox}limitScale(e){return Ln(this.scaleMin,this.scaleMax,e)}limitTranslation(e,n){return e=Ln(this.boundingBox.xMin,this.boundingBox.xMax,e),n=Ln(this.boundingBox.yMin,this.boundingBox.yMax,n),{x:e,y:n}}scaleBy(e){const n=this.limitScale(this.viewport.scale()*e);this.viewport.scaleTo(n)}scaleTo(e){const n=this.limitScale(e);this.viewport.scaleTo(n)}moveBy(e,n){const{x:r,y:i}=this.viewport.center(),o=this.limitTranslation(r+e,i+n);this.viewport.moveTo(o.x,o.y)}moveTo(e,n){const r=this.limitTranslation(e,n);this.viewport.moveTo(r.x,r.y)}}const xt=[];function Fr(t,e=Y){let n;const r=new Set;function i(a){if(_e(t,a)&&(t=a,n)){const l=!xt.length;for(const u of r)u[1](),xt.push(u,t);if(l){for(let u=0;u<xt.length;u+=2)xt[u][0](xt[u+1]);xt.length=0}}}function o(a){i(a(t))}function s(a,l=Y){const u=[a,l];return r.add(u),r.size===1&&(n=e(i,o)||Y),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}function _o(t){return Object.prototype.toString.call(t)==="[object Date]"}function Em(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Vr(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,o)=>Vr(t[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(_o(t)&&_o(e)){t=t.getTime(),e=e.getTime();const o=e-t;return s=>new Date(t+s*o)}const r=Object.keys(e),i={};return r.forEach(o=>{i[o]=Vr(t[o],e[o])}),o=>{const s={};return r.forEach(a=>{s[a]=i[a](o)}),s}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function xm(t,e={}){const n=Fr(t);let r,i=t;function o(s,a){if(t==null)return n.set(t=s),Promise.resolve();i=s;let l=r,u=!1,{delay:c=0,duration:h=400,easing:f=Mh,interpolate:d=Vr}=et(et({},e),a);if(h===0)return l&&(l.abort(),l=null),n.set(t=i),Promise.resolve();const g=Ch()+c;let w;return r=Th(E=>{if(E<g)return!0;u||(w=d(t,s),typeof h=="function"&&(h=h(t,s)),u=!0),l&&(l.abort(),l=null);const I=E-g;return I>h?(n.set(t=s),!1):(n.set(t=w(f(I/h))),!0)}),r.promise}return{set:o,update:(s,a)=>o(s(i,t),a),subscribe:n.subscribe}}function Mm(t){let e,n,r,i,o;return{c(){e=X("rect"),p(e,"x",n=t[0].xMin),p(e,"y",r=t[0].yMin),p(e,"width",i=t[0].width),p(e,"height",o=t[0].height),p(e,"fill","grey"),p(e,"opacity","0.2")},m(s,a){V(s,e,a)},p(s,[a]){a&1&&n!==(n=s[0].xMin)&&p(e,"x",n),a&1&&r!==(r=s[0].yMin)&&p(e,"y",r),a&1&&i!==(i=s[0].width)&&p(e,"width",i),a&1&&o!==(o=s[0].height)&&p(e,"height",o)},i:Y,o:Y,d(s){s&&B(e)}}}function Nm(t,e,n){let r,{start:i}=e,{end:o}=e;return t.$$set=s=>{"start"in s&&n(1,i=s.start),"end"in s&&n(2,o=s.end)},t.$$.update=()=>{t.$$.dirty&6&&n(0,r=re.fromPoints(i,o))},[r,i,o]}class Cm extends xe{constructor(e){super(),Ee(this,e,Nm,Mm,_e,{start:1,end:2})}}function Tm(t){let e,n,r;return{c(){e=X("defs"),n=X("marker"),r=X("path"),p(r,"d","M 0 0 L 10 5 L 0 10 L 4 5 z"),p(r,"fill","var(--gray-tertiary)"),Sh(r,"stroke-width","1"),p(n,"id","arrowhead"),p(n,"viewBox","0 0 10 10"),p(n,"refX","9"),p(n,"refY","5"),p(n,"markerUnits","strokeWidth"),p(n,"markerWidth","10"),p(n,"markerHeight","12"),p(n,"orient","auto")},m(i,o){V(i,e,o),z(e,n),z(n,r)},p:Y,d(i){i&&B(e)}}}function $m(t){let e;const n=t[1].default,r=vs(n,t,t[2],null),i=r||Tm();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&4)&&xs(r,n,o,o[2],e?Es(n,o[2],s,null):Ms(o[2]),null)},i(o){e||(P(i,o),e=!0)},o(o){j(i,o),e=!1},d(o){i&&i.d(o)}}}function Sm(t){let e,n;return e=new Ur({props:{self:t[0],$$slots:{default:[$m]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(r,i){oe(e,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.self=r[0]),i&4&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Im(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i]}class Om extends xe{constructor(e){super(),Ee(this,e,Im,Sm,_e,{self:0})}}function bo(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function yo(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function vo(t,e,n){const r=t.slice();return r[34]=e[n][0],r[40]=e[n][1].name,r[41]=e[n][1].boundingBox,r}function ko(t,e){let n,r,i;function o(...s){return e[19](e[34],...s)}return r=new vm({props:{nodeId:e[34],name:e[40],boundingBox:e[41]}}),r.$on("dblclick",o),r.$on("nodeEnter",e[20]),r.$on("nodeLeave",e[21]),{key:t,first:null,c(){n=Be(),le(r.$$.fragment),this.first=n},m(s,a){V(s,n,a),oe(r,s,a),i=!0},p(s,a){e=s;const l={};a[0]&4&&(l.nodeId=e[34]),a[0]&4&&(l.name=e[40]),a[0]&4&&(l.boundingBox=e[41]),r.$set(l)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),se(r,s)}}}function Eo(t,e){let n,r,i;function o(...s){return e[22](e[34],...s)}return r=new Jr({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("click",o),r.$on("nodeEnter",e[23]),r.$on("nodeLeave",e[24]),{key:t,first:null,c(){n=Be(),le(r.$$.fragment),this.first=n},m(s,a){V(s,n,a),oe(r,s,a),i=!0},p(s,a){e=s;const l={};a[0]&4&&(l.self=e[35]),a[0]&6&&(l.decoration=e[1].get(e[34])),r.$set(l)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),se(r,s)}}}function xo(t,e){let n,r,i;function o(...s){return e[25](e[34],...s)}return r=new Jr({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("dblclick",o),r.$on("nodeEnter",e[26]),r.$on("nodeLeave",e[27]),{key:t,first:null,c(){n=Be(),le(r.$$.fragment),this.first=n},m(s,a){V(s,n,a),oe(r,s,a),i=!0},p(s,a){e=s;const l={};a[0]&4&&(l.self=e[35]),a[0]&6&&(l.decoration=e[1].get(e[34])),r.$set(l)},i(s){i||(P(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),se(r,s)}}}function Mo(t){let e,n;return e=new Cm({props:{start:t[3].start,end:t[3].end}}),{c(){le(e.$$.fragment)},m(r,i){oe(e,r,i),n=!0},p(r,i){const o={};i[0]&8&&(o.start=r[3].start),i[0]&8&&(o.end=r[3].end),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Am(t){let e,n,r=[],i=new Map,o,s,a=[],l=new Map,u,c=[],h=new Map,f,d,g,w,E,I,k,b,_,y,N=Re([...t[2].expanded.entries()]);const v=C=>C[34];for(let C=0;C<N.length;C+=1){let M=vo(t,N,C),R=v(M);i.set(R,r[C]=ko(R,M))}s=new Om({props:{self:t[2].edges}});let O=Re([...t[2].nodes.entries()]);const D=C=>C[34];for(let C=0;C<O.length;C+=1){let M=yo(t,O,C),R=D(M);l.set(R,a[C]=Eo(R,M))}let G=Re([...t[2].collapsed.entries()]);const U=C=>C[34];for(let C=0;C<G.length;C+=1){let M=bo(t,G,C),R=U(M);h.set(R,c[C]=xo(R,M))}let W=t[3].kind==="brushing"&&Mo(t);return g=new _m({props:{nodeLayouts:t[2].nodes}}),g.$on("nodeEnter",t[28]),g.$on("nodeLeave",t[29]),{c(){e=X("svg"),n=X("g");for(let C=0;C<r.length;C+=1)r[C].c();o=Be(),le(s.$$.fragment);for(let C=0;C<a.length;C+=1)a[C].c();u=Be();for(let C=0;C<c.length;C+=1)c[C].c();f=Be(),W&&W.c(),d=Be(),le(g.$$.fragment),p(n,"transform",w=t[6].toString()),p(e,"role","figure"),p(e,"width",E=t[0].screenWidth()),p(e,"height",I=t[0].screenHeight()),p(e,"style",k=`cursor: ${t[5]}`)},m(C,M){V(C,e,M),z(e,n);for(let R=0;R<r.length;R+=1)r[R]&&r[R].m(n,null);z(n,o),oe(s,n,null);for(let R=0;R<a.length;R+=1)a[R]&&a[R].m(n,null);z(n,u);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(n,null);z(n,f),W&&W.m(n,null),z(n,d),oe(g,n,null),t[30](e),b=!0,_||(y=[ie(window,"mousemove",t[9]),ie(window,"mouseup",t[8]),ie(window,"keydown",t[14]),ie(window,"keyup",t[15]),ie(e,"mousedown",t[7]),ie(e,"wheel",t[10])],_=!0)},p(C,M){M[0]&2052&&(N=Re([...C[2].expanded.entries()]),Ie(),r=Bn(r,M,v,1,C,N,i,n,Rn,ko,o,vo),Oe());const R={};M[0]&4&&(R.self=C[2].edges),s.$set(R),M[0]&8198&&(O=Re([...C[2].nodes.entries()]),Ie(),a=Bn(a,M,D,1,C,O,l,n,Rn,Eo,u,yo),Oe()),M[0]&4102&&(G=Re([...C[2].collapsed.entries()]),Ie(),c=Bn(c,M,U,1,C,G,h,n,Rn,xo,f,bo),Oe()),C[3].kind==="brushing"?W?(W.p(C,M),M[0]&8&&P(W,1)):(W=Mo(C),W.c(),P(W,1),W.m(n,d)):W&&(Ie(),j(W,1,1,()=>{W=null}),Oe());const Z={};M[0]&4&&(Z.nodeLayouts=C[2].nodes),g.$set(Z),(!b||M[0]&64&&w!==(w=C[6].toString()))&&p(n,"transform",w),(!b||M[0]&1&&E!==(E=C[0].screenWidth()))&&p(e,"width",E),(!b||M[0]&1&&I!==(I=C[0].screenHeight()))&&p(e,"height",I),(!b||M[0]&32&&k!==(k=`cursor: ${C[5]}`))&&p(e,"style",k)},i(C){if(!b){for(let M=0;M<N.length;M+=1)P(r[M]);P(s.$$.fragment,C);for(let M=0;M<O.length;M+=1)P(a[M]);for(let M=0;M<G.length;M+=1)P(c[M]);P(W),P(g.$$.fragment,C),b=!0}},o(C){for(let M=0;M<r.length;M+=1)j(r[M]);j(s.$$.fragment,C);for(let M=0;M<a.length;M+=1)j(a[M]);for(let M=0;M<c.length;M+=1)j(c[M]);j(W),j(g.$$.fragment,C),b=!1},d(C){C&&B(e);for(let M=0;M<r.length;M+=1)r[M].d();se(s);for(let M=0;M<a.length;M+=1)a[M].d();for(let M=0;M<c.length;M+=1)c[M].d();W&&W.d(),se(g),t[30](null),_=!1,Ue(y)}}}function Lm(t){switch(t.kind){case"initial":return"grab";case"panning":return"grabbing";case"brushing":case"awaitBrushing":return"default"}}function Pm(t,e,n){let r,i,o,{decorations:s}=e,{drawable:a}=e,{viewport:l}=e,{multiSelection:u}=e;const c=new km(l);let h;function f(T){var F;let q=h.createSVGPoint();return"targetTouches"in T?(q.x=T.targetTouches[0].clientX,q.y=T.targetTouches[0].clientY):(q.x=T.clientX,q.y=T.clientY),q=q.matrixTransform((F=h.getScreenCTM())==null?void 0:F.inverse()),q}let d={kind:"initial"};function g(T){if(T.preventDefault(),!("targetTouches"in T)&&T.button!==0)return;const{x:F,y:q}=f(T),J=l.screenToWorld().apply(F,q);T.shiftKey&&u?n(3,d={kind:"brushing",start:J,end:J}):(n(3,d={kind:"panning",start:J,tmp:new li(l.screenWidth(),l.screenHeight(),l.center(),l.scale())}),c.setViewport(d.tmp))}function w(){switch(d.kind){case"initial":return;case"panning":{l.scaleTo(d.tmp.scale());const{x:T,y:F}=d.tmp.center();l.moveTo(T,F),c.setViewport(l),n(3,d={kind:"initial"});break}case"brushing":{const T=re.fromPoints(d.start,d.end),F=[...a.nodes.entries()].filter(([q,J])=>T.encloses(J.boundingBox())).map(([q,J])=>q);b("brush",{nodes:F});break}}n(3,d={kind:"initial"})}function E(T){const{x:F,y:q}=f(T),J=l.screenToWorld().apply(F,q);switch(d.kind){case"initial":return;case"panning":{const ge=d.start.x-J.x,ce=d.start.y-J.y;c.moveBy(ge,ce),n(0,l);break}case"brushing":{n(3,d.end=J,d);break}}}function I(T){T.preventDefault();const F=-T.deltaY*(T.deltaMode===1?.05:T.deltaMode?1:.002),q=l.scale();if(c.scaleBy(Math.pow(2,F)),q===l.scale())return;const J=l.center(),{x:ge,y:ce}=f(T),me=l.screenToWorld().apply(ge,ce);c.moveBy(-(J.x-me.x)*F,-(J.y-me.y)*F),n(0,l)}async function k(T,F){const q=re.fromCenterAndDimension(T.center,Math.max(l.screenWidth(),T.width),Math.max(l.screenHeight(),T.height)),{x:J,y:ge}=q.center,ce=Math.min(l.screenWidth()/T.width,l.screenHeight()/T.height)||1;if(F!==void 0&&F){const me=xm({...l.center(),k:l.scale()},{duration:1e3,easing:Em});me.subscribe(Me=>{c.moveTo(Me.x,Me.y),c.scaleTo(Me.k),n(0,l)}),await me.set({x:J,y:ge,k:ce})}else c.moveTo(J,ge),c.scaleTo(ce),n(0,l)}const b=Bt();function _(T,F){T.stopPropagation(),b("collapse",{nodeId:F})}function y(T,F){T.stopPropagation(),b("expand",{nodeId:F})}function N(T,F){T.stopPropagation(),b("nodeClick",{nodeId:F,original:T})}function v(T){d.kind==="initial"&&T.shiftKey&&u&&n(3,d={kind:"awaitBrushing"})}function O(){d.kind==="awaitBrushing"&&n(3,d={kind:"initial"})}const D=(T,F)=>{_(F,T)};function G(T){Ne.call(this,t,T)}function U(T){Ne.call(this,t,T)}const W=(T,F)=>{N(F,T)};function C(T){Ne.call(this,t,T)}function M(T){Ne.call(this,t,T)}const R=(T,F)=>{y(F,T)};function Z(T){Ne.call(this,t,T)}function de(T){Ne.call(this,t,T)}function pe(T){Ne.call(this,t,T)}function ye(T){Ne.call(this,t,T)}function ae(T){rt[T?"unshift":"push"](()=>{h=T,n(4,h)})}return t.$$set=T=>{"decorations"in T&&n(1,s=T.decorations),"drawable"in T&&n(2,a=T.drawable),"viewport"in T&&n(0,l=T.viewport),"multiSelection"in T&&n(16,u=T.multiSelection)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(18,r=l.world()),t.$$.dirty[0]&262149&&c.setScaleExtent({min:Math.min(l.screenWidth()/a.boundingBox.width,l.screenHeight()/a.boundingBox.height)*.5,max:1}).setTranslationExtent(a.boundingBox.padded({l:r.width*.4,r:r.width*.4,t:r.height*.4,b:r.height*.4})),t.$$.dirty[0]&1&&n(6,i=l.worldToScreen().toString()),t.$$.dirty[0]&8&&n(5,o=Lm(d))},[l,s,a,d,h,o,i,g,w,E,I,_,y,N,v,O,u,k,r,D,G,U,W,C,M,R,Z,de,pe,ye,ae]}class Rm extends xe{constructor(e){super(),Ee(this,e,Pm,Am,_e,{decorations:1,drawable:2,viewport:0,multiSelection:16,setFocus:17},null,[-1,-1])}get setFocus(){return this.$$.ctx[17]}}function Bm(t){let e,n,r,i,o,s,a,l,u,c,h,f,d,g,w,E,I;return{c(){e=fe("div"),n=fe("canvas"),r=Qe(),i=X("svg"),o=X("rect"),h=X("rect"),p(n,"class","svelte-133ndzu"),p(o,"fill","rgb(0, 122, 255)"),p(o,"x",s=t[6].x),p(o,"y",a=t[6].y),p(o,"width",l=t[6].w),p(o,"height",u=t[6].h),p(o,"opacity","0.1"),p(o,"style",c=t[5]?"cursor: grabbing":"cursor: grab"),p(h,"fill","none"),p(h,"stroke","rgb(0, 122, 255)"),p(h,"x",f=t[6].x),p(h,"y",d=t[6].y),p(h,"width",g=t[6].w),p(h,"height",w=t[6].h),p(i,"role","navigation"),p(i,"width",t[0]),p(i,"height",t[1]),p(i,"class","svelte-133ndzu"),p(e,"class","container svelte-133ndzu")},m(k,b){V(k,e,b),z(e,n),t[11](n),z(e,r),z(e,i),z(i,o),t[12](o),z(i,h),t[13](i),E||(I=ie(i,"mousedown",t[7]),E=!0)},p(k,[b]){b&64&&s!==(s=k[6].x)&&p(o,"x",s),b&64&&a!==(a=k[6].y)&&p(o,"y",a),b&64&&l!==(l=k[6].w)&&p(o,"width",l),b&64&&u!==(u=k[6].h)&&p(o,"height",u),b&32&&c!==(c=k[5]?"cursor: grabbing":"cursor: grab")&&p(o,"style",c),b&64&&f!==(f=k[6].x)&&p(h,"x",f),b&64&&d!==(d=k[6].y)&&p(h,"y",d),b&64&&g!==(g=k[6].w)&&p(h,"width",g),b&64&&w!==(w=k[6].h)&&p(h,"height",w),b&1&&p(i,"width",k[0]),b&2&&p(i,"height",k[1])},i:Y,o:Y,d(k){k&&B(e),t[11](null),t[12](null),t[13](null),E=!1,I()}}}function Dm(t,e,n){let r,i;const o=Bt();function s(y){const N=r.worldToScreen().apply(y.xMin,y.yMin),v=r.worldToScreen().apply(y.xMax,y.yMax);return{x:N.x,y:N.y,w:v.x-N.x,h:v.y-N.y}}let{drawable:a}=e,{width:l}=e,{height:u}=e,{worldExtent:c}=e,h,f;function d(y){var N;let v=f.createSVGPoint();v.x=y.clientX,v.y=y.clientY,v=v.matrixTransform((N=f.getScreenCTM())==null?void 0:N.inverse());const O=r.screenToWorld().apply(v.x,v.y);o("viewportCenterDidChange",{center:O})}let g;function w(y){const N=r.screenToWorld().apply(0,0),v=r.screenToWorld().apply(y.dx,y.dy),O=c.center;O.x+=v.x-N.x,O.y+=v.y-N.y,o("viewportCenterDidChange",{center:O})}let E=!1;const I=Wu().on("drag",w).on("start",()=>n(5,E=!0)).on("end",()=>n(5,E=!1));Ss(()=>{nn(g).call(I)});function k(y){rt[y?"unshift":"push"](()=>{h=y,n(2,h),n(0,l),n(1,u),n(8,a)})}function b(y){rt[y?"unshift":"push"](()=>{g=y,n(4,g)})}function _(y){rt[y?"unshift":"push"](()=>{f=y,n(3,f)})}return t.$$set=y=>{"drawable"in y&&n(8,a=y.drawable),"width"in y&&n(0,l=y.width),"height"in y&&n(1,u=y.height),"worldExtent"in y&&n(9,c=y.worldExtent)},t.$$.update=()=>{if(t.$$.dirty&3&&n(10,r=new li(l,u)),t.$$.dirty&1280&&r.fit(a.boundingBox.padded(2)),t.$$.dirty&512&&n(6,i=s(c)),t.$$.dirty&263&&h){let y=h.getContext("2d");n(2,h.width=l,h),n(2,h.height=u,h),y.fillStyle="white",y.fillRect(0,0,l,u),y.lineWidth=.5;for(const{boundingBox:N}of a.expanded.values()){const v=s(N);y.fillStyle="rgb(250, 250, 250)",y.fillRect(v.x,v.y,v.w,v.h),y.strokeStyle="rgb(134, 134, 139)",y.strokeRect(v.x,v.y,v.w,v.h)}for(const N of a.nodes.values()){const v=s(N.boundingBox());y.fillStyle="rgb(134, 134, 139)",y.fillRect(v.x,v.y,v.w,v.h)}for(const N of a.collapsed.values()){const v=s(N.boundingBox());y.fillStyle="rgb(134, 134, 139)",y.fillRect(v.x,v.y,v.w,v.h)}}},[l,u,h,f,g,E,i,d,a,c,r,k,b,_]}class Fm extends xe{constructor(e){super(),Ee(this,e,Dm,Bm,_e,{drawable:8,width:0,height:1,worldExtent:9})}}function No(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Vm(t){let e,n;return{c(){e=fe("span"),n=Ke(t[0]),p(e,"class","svelte-122vmdc")},m(r,i){V(r,e,i),z(e,n)},p(r,i){i&1&&_n(n,r[0])},d(r){r&&B(e)}}}function Wm(t){let e,n,r,i,o=Re(t[3]),s=[];for(let c=0;c<o.length;c+=1)s[c]=To(No(t,o,c));function a(c,h){if(h&6&&(n=null),h&6&&(r=null),n==null&&(n=!!c[1].collapsed.has(c[2])),n)return Gm;if(r==null&&(r=!!c[1].expanded.has(c[2])),r)return jm}let l=a(t,-1),u=l&&l(t);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=Qe(),u&&u.c(),i=Be()},m(c,h){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(c,h);V(c,e,h),u&&u.m(c,h),V(c,i,h)},p(c,h){if(h&8){o=Re(c[3]);let f;for(f=0;f<o.length;f+=1){const d=No(c,o,f);s[f]?s[f].p(d,h):(s[f]=To(d),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}l!==(l=a(c,h))&&(u&&u.d(1),u=l&&l(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(B(e),B(i)),$s(s,c),u&&u.d(c)}}}function Co(t){let e;return{c(){e=fe("span"),e.textContent="",p(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function To(t){let e,n=t[5]+"",r,i,o,s=t[7]<t[3].length-1&&Co();return{c(){e=fe("span"),r=Ke(n),i=Qe(),s&&s.c(),o=Be(),p(e,"class","svelte-122vmdc")},m(a,l){V(a,e,l),z(e,r),V(a,i,l),s&&s.m(a,l),V(a,o,l)},p(a,l){l&8&&n!==(n=a[5]+"")&&_n(r,n),a[7]<a[3].length-1?s||(s=Co(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(a){a&&(B(e),B(i),B(o)),s&&s.d(a)}}}function jm(t){let e;return{c(){e=fe("span"),e.textContent="(Double click to collapse)",p(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function Gm(t){let e;return{c(){e=fe("span"),e.textContent="(Double click to expand)",p(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function zm(t){let e;function n(o,s){return o[2]?Wm:Vm}let r=n(t),i=r(t);return{c(){e=fe("div"),i.c()},m(o,s){V(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:Y,o:Y,d(o){o&&B(e),i.d()}}}function Hm(t,e,n){let r,{defaultText:i="Hover over any node to show more information."}=e,{network:o}=e,{drawable:s}=e,{currentNode:a}=e;return t.$$set=l=>{"defaultText"in l&&n(0,i=l.defaultText),"network"in l&&n(4,o=l.network),"drawable"in l&&n(1,s=l.drawable),"currentNode"in l&&n(2,a=l.currentNode)},t.$$.update=()=>{t.$$.dirty&20&&n(3,r=a?[a,...o.parents(a)].reverse().map(l=>o.node(l).humanReadable()||l):[])},[i,s,a,r,o]}class qm extends xe{constructor(e){super(),Ee(this,e,Hm,zm,_e,{defaultText:0,network:4,drawable:1,currentNode:2})}}function $o(t){let e,n,r;function i(s){t[34](s)}let o={decorations:t[8],drawable:t[15],multiSelection:t[7]};return t[13]!==void 0&&(o.viewport=t[13]),e=new Rm({props:o}),t[33](e),rt.push(()=>Rh(e,"viewport",i)),e.$on("expand",t[18]),e.$on("collapse",t[19]),e.$on("nodeEnter",t[20]),e.$on("nodeLeave",t[21]),e.$on("nodeClick",t[22]),e.$on("brush",t[25]),{c(){le(e.$$.fragment)},m(s,a){oe(e,s,a),r=!0},p(s,a){const l={};a[0]&256&&(l.decorations=s[8]),a[0]&32768&&(l.drawable=s[15]),a[0]&128&&(l.multiSelection=s[7]),!n&&a[0]&8192&&(n=!0,l.viewport=s[13],Ah(()=>n=!1)),e.$set(l)},i(s){r||(P(e.$$.fragment,s),r=!0)},o(s){j(e.$$.fragment,s),r=!1},d(s){t[33](null),se(e,s)}}}function So(t){let e,n,r,i,o,s=t[3]&&Io(t),a=t[17]&&Oo(t),l=t[4]&&Ao(t);return{c(){e=fe("div"),s&&s.c(),n=Qe(),r=fe("div"),a&&a.c(),i=Qe(),l&&l.c(),p(r,"class","myc-navigation-controls svelte-15hd81r"),p(e,"class","myc-navigation svelte-15hd81r")},m(u,c){V(u,e,c),s&&s.m(e,null),z(e,n),z(e,r),a&&a.m(r,null),z(r,i),l&&l.m(r,null),o=!0},p(u,c){u[3]?s?(s.p(u,c),c[0]&8&&P(s,1)):(s=Io(u),s.c(),P(s,1),s.m(e,n)):s&&(Ie(),j(s,1,1,()=>{s=null}),Oe()),u[17]?a?a.p(u,c):(a=Oo(u),a.c(),a.m(r,i)):a&&(a.d(1),a=null),u[4]?l?l.p(u,c):(l=Ao(u),l.c(),l.m(r,null)):l&&(l.d(1),l=null)},i(u){o||(P(s),o=!0)},o(u){j(s),o=!1},d(u){u&&B(e),s&&s.d(),a&&a.d(),l&&l.d()}}}function Io(t){let e,n;return e=new qm({props:{network:t[0],currentNode:t[16],drawable:t[15]}}),{c(){le(e.$$.fragment)},m(r,i){oe(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.network=r[0]),i[0]&65536&&(o.currentNode=r[16]),i[0]&32768&&(o.drawable=r[15]),e.$set(o)},i(r){n||(P(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){se(e,r)}}}function Oo(t){let e,n,r,i;return{c(){e=fe("div"),n=fe("button"),n.textContent="Collapse All",p(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),z(e,n),r||(i=ie(n,"click",t[35]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function Ao(t){let e,n,r,i;return{c(){e=fe("div"),n=fe("button"),n.textContent="Show All",p(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),z(e,n),r||(i=ie(n,"click",t[36]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function Lo(t){let e,n;return{c(){e=Ke("Powered by "),n=fe("a"),n.textContent="Mycelium",p(n,"href","https://apple.github.io/ml-mycelium"),p(n,"target","_blank"),p(n,"class","svelte-15hd81r")},m(r,i){V(r,e,i),V(r,n,i)},d(r){r&&(B(e),B(n))}}}function Po(t){let e,n,r;return n=new Fm({props:{width:t[1]*$n,height:t[2]*$n,worldExtent:t[13].world(),drawable:t[15]}}),n.$on("viewportCenterDidChange",t[24]),{c(){e=fe("div"),le(n.$$.fragment),p(e,"class","myc-minimap svelte-15hd81r")},m(i,o){V(i,e,o),oe(n,e,null),r=!0},p(i,o){const s={};o[0]&2&&(s.width=i[1]*$n),o[0]&4&&(s.height=i[2]*$n),o[0]&8192&&(s.worldExtent=i[13].world()),o[0]&32768&&(s.drawable=i[15]),n.$set(s)},i(i){r||(P(n.$$.fragment,i),r=!0)},o(i){j(n.$$.fragment,i),r=!1},d(i){i&&B(e),se(n)}}}function Ym(t){let e,n=t[0],r,i,o,s,a,l,u,c=$o(t),h=(t[3]||t[4])&&So(t),f=t[5]&&Lo(),d=t[6]&&Po(t);return{c(){e=fe("div"),c.c(),r=Qe(),h&&h.c(),i=Qe(),o=fe("div"),f&&f.c(),s=Qe(),d&&d.c(),p(o,"class","myc-overlay svelte-15hd81r"),p(e,"class","myc-container svelte-15hd81r")},m(g,w){V(g,e,w),c.m(e,null),z(e,r),h&&h.m(e,null),z(e,i),z(e,o),f&&f.m(o,null),z(e,s),d&&d.m(e,null),a=!0,l||(u=ie(window,"keydown",t[23]),l=!0)},p(g,w){w[0]&1&&_e(n,n=g[0])?(Ie(),j(c,1,1,Y),Oe(),c=$o(g),c.c(),P(c,1),c.m(e,r)):c.p(g,w),g[3]||g[4]?h?(h.p(g,w),w[0]&24&&P(h,1)):(h=So(g),h.c(),P(h,1),h.m(e,i)):h&&(Ie(),j(h,1,1,()=>{h=null}),Oe()),g[5]?f||(f=Lo(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),g[6]?d?(d.p(g,w),w[0]&64&&P(d,1)):(d=Po(g),d.c(),P(d,1),d.m(e,null)):d&&(Ie(),j(d,1,1,()=>{d=null}),Oe())},i(g){a||(P(c),P(h),P(d),a=!0)},o(g){j(c),j(h),j(d),a=!1},d(g){g&&B(e),c.d(g),h&&h.d(),f&&f.d(),d&&d.d(),l=!1,u()}}}const $n=.2;function Xm(t,e,n){let r,i,o,s,a=Y,l=()=>(a(),a=Or(O,x=>n(37,s=x)),O),u,c=Y,h=()=>(c(),c=Or(D,x=>n(38,u=x)),D);t.$$.on_destroy.push(()=>a()),t.$$.on_destroy.push(()=>c());let{network:f}=e,{width:d}=e,{height:g}=e,{showBreadcrumbs:w}=e,{showResetView:E}=e,{watermark:I}=e,{minimap:k}=e,{autoResize:b}=e,{multiSelection:_}=e,{decorations:y=new Map}=e,{collapsed:N=new Set(f.modules())}=e,{layoutProvider:v}=e;const O=Fr(new Map);l();const D=Fr(new Map);h(),Oh(Qr,{selections:O,tooltips:D});const G=new Map,U=Bt();function W(x,H){C.resize(x,H),n(13,C)}let C=new li(d,g);Ss(async()=>{await pe()});let M=[],R;function Z(x){const{yMin:H,yMax:te}=x,Q=20,Te=w?25/(C.screenHeight()||1)*(te-H):0;return x.padded({l:Q,r:Q,t:Q+Te,b:Q})}async function de(x,H){var te;x=Array.isArray(x)?x:[x];let Q=re.infinity();for(const Te of x){const $e=(te=i.nodes.get(Te))==null?void 0:te.boundingBox();$e&&(Q=Q.union($e))}Q.isEmpty()||await R.setFocus(Z(Q),H)}async function pe(x){await R.setFocus(Z(i.boundingBox),x)}async function ye(x,H){!_&&x.length>1&&(console.warn("Received multiple selections but `multiSelection` config was set to `false`."),x=[x[0]]);const te={expand:!0,collapseOthers:{threshold:1e3},...H},{expand:Q,collapse:Te}=om(f,x,N,te);let $e=!1;te.expand&&(Q.size>1&&te.expand==="single"||Q.size>0&&(Q.forEach(qe=>N.delete(qe)),$e=!0)),Te.size>0&&te.collapseOthers!==!1&&(te.collapseOthers===!0||sm(f,N)>te.collapseOthers.threshold)&&(Te.forEach(qe=>N.add(qe)),$e=!0),$e?(n(26,N),await Cn(),ur(O,s=new Map(x.map(qe=>[qe,new Set])),s),await pe(!0)):ur(O,s=new Map(x.map(qe=>[qe,new Set])),s)}async function ae(x){const H=s;return ur(O,s=x,s),await Cn(),H}async function T(){return await ae(new Map)}async function F(){n(26,N=new Set(f.modules())),await pe(!0)}async function q(x){ce(x),N.delete(x.detail.nodeId),n(26,N),await Cn(),await pe(!0)}async function J(x){ce(x),N.add(x.detail.nodeId),n(26,N),await Cn(),await pe(!0)}function ge(x){var H;M[M.length-1]!==x.detail.nodeId&&(M.push(x.detail.nodeId),n(32,M));const te=x.detail.nodeId,Q=(H=i.nodes.get(te))==null?void 0:H.options.tooltip;if(Q){const Te=u.get(te);Te===void 0?G.set(te,dm(D,te,Q().build())):Te.state!=="active"&&Te.state!=="pinned"&&Ta(D,te)}}function ce(x){M.pop(),n(32,M);const H=x.detail.nodeId;clearTimeout(G.get(H)),$a(D,H)}async function me(x){const H=i.nodes.get(x.detail.nodeId);H!=null&&H.options.selectable&&(_&&x.detail.original.metaKey?Me(await ae(new Map([...s.entries(),[x.detail.nodeId,new Set]]))):Me(await ae(new Map([[x.detail.nodeId,new Set]]))))}function Me(x){const H=([te,Q])=>({primaryNodeId:te,secondaryIds:[...Q.values()]});U("selectionDidChange",{selections:[...s.entries()].map(H),previous:[...x.entries()].map(H)})}async function He(x){x.key==="Escape"&&Me(await T())}function lt(x){const{x:H,y:te}=x.detail.center;C.moveTo(H,te),n(13,C)}async function ee(x){Me(await ae(new Map(x.detail.nodes.map(H=>[H,new Set]))))}function he(x){rt[x?"unshift":"push"](()=>{R=x,n(14,R)})}function Vt(x){C=x,n(13,C)}const yn=()=>F(),Wt=async()=>{await pe(!0)};return t.$$set=x=>{"network"in x&&n(0,f=x.network),"width"in x&&n(1,d=x.width),"height"in x&&n(2,g=x.height),"showBreadcrumbs"in x&&n(3,w=x.showBreadcrumbs),"showResetView"in x&&n(4,E=x.showResetView),"watermark"in x&&n(5,I=x.watermark),"minimap"in x&&n(6,k=x.minimap),"autoResize"in x&&n(27,b=x.autoResize),"multiSelection"in x&&n(7,_=x.multiSelection),"decorations"in x&&n(8,y=x.decorations),"collapsed"in x&&n(26,N=x.collapsed),"layoutProvider"in x&&n(28,v=x.layoutProvider)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(17,r=N.size<f.modules().length),t.$$.dirty[0]&335544321&&n(15,i=v.compute(f,N)),t.$$.dirty[0]&6&&W(d,g),t.$$.dirty[1]&2&&n(16,o=M.at(M.length-1))},[f,d,g,w,E,I,k,_,y,O,D,pe,F,C,R,i,o,r,q,J,ge,ce,me,He,lt,ee,N,b,v,de,ye,T,M,he,Vt,yn,Wt]}class Um extends xe{constructor(e){super(),Ee(this,e,Xm,Ym,_e,{network:0,width:1,height:2,showBreadcrumbs:3,showResetView:4,watermark:5,minimap:6,autoResize:27,multiSelection:7,decorations:8,collapsed:26,layoutProvider:28,selectionStore:9,tooltipStore:10,setFocus:29,resetFocus:11,setSelections:30,clearSelections:31,collapseAll:12},null,[-1,-1])}get selectionStore(){return this.$$.ctx[9]}get tooltipStore(){return this.$$.ctx[10]}get setFocus(){return this.$$.ctx[29]}get resetFocus(){return this.$$.ctx[11]}get setSelections(){return this.$$.ctx[30]}get clearSelections(){return this.$$.ctx[31]}get collapseAll(){return this.$$.ctx[12]}}class ui{constructor(e,n){A(this,"decorations"),this.app=e,this.options=n,this.decorations=new Map}static create(e,n,r){const i={width:n.getBoundingClientRect().width,height:n.getBoundingClientRect().height,autoResize:!0,showBreadcrumbs:!0,showResetView:!0,watermark:!0,minimap:!0,layoutProvider:new im,multiSelection:!0,...r};i.watermark&&(console.info(""),console.info("| Powered by the Mycelium network     |"),console.info("| visualizer. For more information:   |"),console.info("| https://apple.github.io/ml-mycelium |"),console.info(""));const o=new Um({target:n,props:{network:e,...i}});return i.autoResize&&new ResizeObserver(()=>{o.$set({width:n.clientWidth,height:n.clientHeight})}).observe(n),new ui(o,i)}onSelectionDidChange(e){this.app.$on("selectionDidChange",n=>{e(n.detail)})}async setSelection(e,n){await this.app.setSelections([e],n)}async setSelections(e,n){await this.app.setSelections(e,n)}async collapseAll(){await this.app.collapseAll()}async clearSelections(){await this.app.clearSelections()}async setFocus(e,n){await this.app.setFocus(e,n)}async resetFocus(e){await this.app.resetFocus(e)}setDecoration(e,n){this.decorations.set(e,n),this.app.$set({decorations:this.decorations})}removeDecoration(e){this.decorations.delete(e),this.app.$set({decorations:this.decorations})}clearDecorations(){this.decorations.clear(),this.app.$set({decorations:this.decorations})}setNetwork(e){this.app.$set({network:e,collapsed:new Set(e.modules())})}getOptions(){return this.options}}function Km(t){let e;return{c(){e=$("div"),S(e,"width",t[0]+"px"),S(e,"height",t[1]+"px"),S(e,"outline","1px dashed slateblue"),S(e,"border-radius","3px")},m(n,r){be(n,e,r),t[4](e)},p(n,[r]){r&1&&S(e,"width",n[0]+"px"),r&2&&S(e,"height",n[1]+"px")},i:ke,o:ke,d(n){n&&we(e),t[4](null)}}}function Zm(t,e,n){let{gatesCircuit:r}=e,{width:i=500}=e,{height:o=500}=e,s;function a(l){Fn[l?"unshift":"push"](()=>{s=l,n(2,s)})}return t.$$set=l=>{"gatesCircuit"in l&&n(3,r=l.gatesCircuit),"width"in l&&n(0,i=l.width),"height"in l&&n(1,o=l.height)},[i,o,s,r,a]}class Qm extends st{constructor(e){super(),ot(this,e,Zm,Km,it,{gatesCircuit:3,width:0,height:1})}}function Jm(t){let e,n,r,i,o,s,a,l,u,c,h,f,d,g,w,E,I,k,b,_,y,N,v,O,D,G=t[0]?"|":"/",U,W,C,M,R,Z,de,pe,ye,ae,T,F,q,J,ge,ce,me,Me,He,lt;return{c(){e=$("div"),n=$("div"),n.textContent="+power-",r=L(),i=$("span"),o=$("span"),o.textContent="-------------",s=$("span"),s.textContent="------------",a=K("Light Bulb"),l=L(),u=$("div"),c=$("div"),h=$("div"),h.textContent="|",f=L(),d=$("div"),g=K("|"),w=L(),E=$("div"),I=K("|"),k=L(),b=$("div"),_=$("div"),_.textContent="|",y=L(),N=$("div"),v=$("div"),O=$("button"),O.textContent="switch",D=L(),U=K(G),W=L(),C=$("div"),M=K("|"),R=L(),Z=$("div"),de=$("div"),de.textContent="|",pe=L(),ye=$("div"),ae=K("|"),T=L(),F=$("div"),q=K("|"),J=L(),ge=$("div"),ce=$("span"),ce.textContent="---------------------",me=$("span"),Me=K("--------------------"),S(o,"color","yellow"),S(i,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),S(e,"display","flex"),S(e,"width","500px"),S(h,"color","yellow"),S(d,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),S(E,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),We(c,"class","w svelte-1c1c3yo"),S(_,"color","yellow"),S(O,"position","absolute"),S(O,"left","-70px"),S(v,"position","relative"),S(N,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),S(C,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),We(b,"class","w svelte-1c1c3yo"),S(de,"color","yellow"),S(ye,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),S(F,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),We(Z,"class","w svelte-1c1c3yo"),S(ce,"color","yellow"),S(me,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),S(u,"width","300px")},m(ee,he){be(ee,e,he),m(e,n),m(e,r),m(e,i),m(i,o),m(i,s),m(i,a),be(ee,l,he),be(ee,u,he),m(u,c),m(c,h),m(c,f),m(c,d),m(d,g),m(c,w),m(c,E),m(E,I),m(u,k),m(u,b),m(b,_),m(b,y),m(b,N),m(N,v),m(v,O),m(v,D),m(v,U),m(b,W),m(b,C),m(C,M),m(u,R),m(u,Z),m(Z,de),m(Z,pe),m(Z,ye),m(ye,ae),m(Z,T),m(Z,F),m(F,q),m(u,J),m(u,ge),m(ge,ce),m(ge,me),m(me,Me),He||(lt=fn(O,"click",t[1]),He=!0)},p(ee,[he]){he&1&&S(i,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),he&1&&S(d,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),he&1&&S(E,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),he&1&&G!==(G=ee[0]?"|":"/")&&mt(U,G),he&1&&S(N,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),he&1&&S(C,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),he&1&&S(ye,"color",ee[0]?"yellow":"rgba(255,255,255,0.5)"),he&1&&S(F,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow"),he&1&&S(me,"color",ee[0]?"rgba(255,255,255,0.5)":"yellow")},i:ke,o:ke,d(ee){ee&&(we(e),we(l),we(u)),He=!1,lt()}}}function e1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class t1 extends st{constructor(e){super(),ot(this,e,e1,Jm,it,{})}}function n1(t){let e,n,r,i,o,s=t[0]?"on":"off",a,l,u,c,h,f;return{c(){e=$("div"),n=$("div"),r=$("button"),r.textContent="power switch",i=L(),o=$("span"),a=K(s),l=L(),u=$("span"),c=K("-----------------------------Light Bulb"),S(o,"background",t[0]?"steelblue":"red"),S(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),S(e,"display","flex"),S(e,"width","500px")},m(d,g){be(d,e,g),m(e,n),m(n,r),m(n,i),m(n,o),m(o,a),m(e,l),m(e,u),m(u,c),h||(f=fn(r,"click",t[1]),h=!0)},p(d,[g]){g&1&&s!==(s=d[0]?"on":"off")&&mt(a,s),g&1&&S(o,"background",d[0]?"steelblue":"red"),g&1&&S(u,"color",d[0]?"yellow":"rgba(255,255,255,0.5)")},i:ke,o:ke,d(d){d&&we(e),h=!1,f()}}}function r1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class i1 extends st{constructor(e){super(),ot(this,e,r1,n1,it,{})}}function o1(t){let e,n,r,i,o,s=t[0]?"on":"off",a,l,u,c,h,f,d,g;return{c(){e=$("div"),n=$("div"),r=$("button"),r.textContent="power switch",i=L(),o=$("span"),a=K(s),l=L(),u=$("span"),c=$("div"),c.textContent="-----------------------------Light Bulb",h=L(),f=$("div"),f.textContent="<-----------------------------|",S(o,"background",t[0]?"steelblue":"red"),S(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),S(e,"display","flex"),S(e,"width","500px")},m(w,E){be(w,e,E),m(e,n),m(n,r),m(n,i),m(n,o),m(o,a),m(e,l),m(e,u),m(u,c),m(u,h),m(u,f),d||(g=fn(r,"click",t[1]),d=!0)},p(w,[E]){E&1&&s!==(s=w[0]?"on":"off")&&mt(a,s),E&1&&S(o,"background",w[0]?"steelblue":"red"),E&1&&S(u,"color",w[0]?"yellow":"rgba(255,255,255,0.5)")},i:ke,o:ke,d(w){w&&we(e),d=!1,g()}}}function s1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class a1 extends st{constructor(e){super(),ot(this,e,s1,o1,it,{})}}function l1(t){let e;return{c(){e=$("div"),S(e,"width",t[0]+"px"),S(e,"height",t[1]+"px"),S(e,"outline","1px dashed lightgrey"),S(e,"border-radius","3px")},m(n,r){be(n,e,r),t[5](e)},p(n,[r]){r&1&&S(e,"width",n[0]+"px"),r&2&&S(e,"height",n[1]+"px")},i:ke,o:ke,d(n){n&&we(e),t[5](null)}}}function u1(t,e){function n(r){for(const i of r.out)t.setEdge(r.nodeId,i.nodeId),i.name!=="power"&&n(i)}n(e.source)}function c1(t,e,n){let{circuit:r}=e,{width:i=500}=e,{height:o=500}=e;function s(f,d=!1,g=!1){let w=d?"yellow":"lightgrey";return new hr.Node(f,new hr.VStack(new hr.Text(f))).with({backgroundColor:w}).with({...g&&{badge:{color:d?"steelblue":"crimson",text:d?"1":"0"}}})}function a(f,d,g=!1,w=!1){f.setNode(d,s(d,g,w))}function l(f,d){let g=0,w=0;function E(I){let k=!1,b=!1;I.name==="wire"?(I.nodeId=`wire[${g}]`,g++):I.name==="switch"?(I.nodeId=`switch[${w}]`,I.on&&(k=!0),b=!0,w++):I.name==="signal"?(I.nodeId="signal",b=!0):(I.nodeId="power",k=!0),I.data===1&&(k=!0),a(f,I.nodeId,k,b);for(const _ of I.out)_.name==="power"||_.nodeId!==void 0||E(_)}E(d.source)}let u,c;function h(f){Fn[f?"unshift":"push"](()=>{u=f,n(2,u)})}return t.$$set=f=>{"circuit"in f&&n(3,r=f.circuit),"width"in f&&n(0,i=f.width),"height"in f&&n(1,o=f.height)},t.$$.update=()=>{if(t.$$.dirty&28&&u){const f=new ai;r.resetNodeIds(),l(f,r),u1(f,r),c?(console.log(r),c.setNetwork(f)):n(4,c=ui.create(f,u,{showBreadcrumbs:!1,minimap:!1,watermark:!1,showResetView:!1}))}},[i,o,u,r,c,h]}class h1 extends st{constructor(e){super(),ot(this,e,c1,l1,it,{circuit:3,width:0,height:1})}}function Ro(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function Bo(t){let e,n,r,i,o,s=t[0].signal.data===1?"on (1)":"off (0)",a,l,u,c;function h(g,w){return g[1]?d1:f1}let f=h(t),d=f(t);return u=new h1({props:{circuit:t[0]}}),{c(){d.c(),e=L(),n=$("div"),r=K("Output Signal "),i=$("div"),o=L(),a=K(s),l=L(),Ve(u.$$.fragment),S(i,"height","10px"),S(i,"width","10px"),S(i,"background",t[0].signal.data===1?"steelblue":"crimson"),S(n,"display","flex"),S(n,"gap","5px"),S(n,"align-items","center")},m(g,w){d.m(g,w),be(g,e,w),be(g,n,w),m(n,r),m(n,i),m(n,o),m(n,a),be(g,l,w),Le(u,g,w),c=!0},p(g,w){f===(f=h(g))&&d?d.p(g,w):(d.d(1),d=f(g),d&&(d.c(),d.m(e.parentNode,e))),(!c||w&1)&&S(i,"background",g[0].signal.data===1?"steelblue":"crimson"),(!c||w&1)&&s!==(s=g[0].signal.data===1?"on (1)":"off (0)")&&mt(a,s);const E={};w&1&&(E.circuit=g[0]),u.$set(E)},i(g){c||(ve(u.$$.fragment,g),c=!0)},o(g){Se(u.$$.fragment,g),c=!1},d(g){g&&(we(e),we(n),we(l)),d.d(g),Pe(u,g)}}}function f1(t){let e,n=Ei(t[0].other.filter(Fo)),r=[];for(let i=0;i<n.length;i+=1)r[i]=Do(Ro(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=jo()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);be(i,e,o)},p(i,o){if(o&1){n=Ei(i[0].other.filter(Fo));let s;for(s=0;s<n.length;s+=1){const a=Ro(i,n,s);r[s]?r[s].p(a,o):(r[s]=Do(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&we(e),La(r,i)}}}function d1(t){let e,n,r,i,o,s=t[2]?"on (1)":"off (0)",a,l,u;return{c(){e=$("div"),n=$("button"),n.textContent="switch all",r=L(),i=$("div"),o=L(),a=K(s),S(i,"height","10px"),S(i,"width","10px"),S(i,"background",t[2]?"steelblue":"crimson"),S(e,"display","flex"),S(e,"gap","5px"),S(e,"align-items","center"),S(e,"margin-right","10px")},m(c,h){be(c,e,h),m(e,n),m(e,r),m(e,i),m(e,o),m(e,a),l||(u=fn(n,"click",t[4]),l=!0)},p(c,h){h&4&&S(i,"background",c[2]?"steelblue":"crimson"),h&4&&s!==(s=c[2]?"on (1)":"off (0)")&&mt(a,s)},d(c){c&&we(e),l=!1,u()}}}function Do(t){let e,n,r=t[6].name+"",i,o,s,a,l,u,c=t[6].on?"on (1)":"off (0)",h,f,d,g;function w(){return t[5](t[6],t[7],t[8])}return{c(){e=$("div"),n=$("button"),i=K(r),o=L(),s=K(t[8]),a=L(),l=$("div"),u=L(),h=K(c),f=L(),S(l,"height","10px"),S(l,"width","10px"),S(l,"background",t[6].on?"steelblue":"crimson"),S(e,"display","flex"),S(e,"gap","5px"),S(e,"align-items","center"),S(e,"margin-right","10px")},m(E,I){be(E,e,I),m(e,n),m(n,i),m(n,o),m(n,s),m(e,a),m(e,l),m(e,u),m(e,h),m(e,f),d||(g=fn(n,"click",w),d=!0)},p(E,I){t=E,I&1&&r!==(r=t[6].name+"")&&mt(i,r),I&1&&S(l,"background",t[6].on?"steelblue":"crimson"),I&1&&c!==(c=t[6].on?"on (1)":"off (0)")&&mt(h,c)},d(E){E&&we(e),d=!1,g()}}}function p1(t){let e,n,r=t[0]&&Bo(t);return{c(){r&&r.c(),e=jo()},m(i,o){r&&r.m(i,o),be(i,e,o),n=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&ve(r,1)):(r=Bo(i),r.c(),ve(r,1),r.m(e.parentNode,e)):r&&(Va(),Se(r,1,1,()=>{r=null}),Wa())},i(i){n||(ve(r),n=!0)},o(i){Se(r),n=!1},d(i){i&&we(e),r&&r.d(i)}}}const Fo=t=>t.name==="switch";function g1(t,e,n){let{circuit:r}=e,{sameSignals:i=!1}=e,o=!0;function s(){for(const u of r.other.filter(c=>c.name==="switch"))o?u.switchOn():u.switchOff()}const a=()=>{n(2,o=!o),s(),r.reset(),r.simulate(),n(0,r)},l=(u,c,h)=>{n(0,c[h].on=!u.on,r),r.reset(),r.simulate()};return t.$$set=u=>{"circuit"in u&&n(0,r=u.circuit),"sameSignals"in u&&n(1,i=u.sameSignals)},[r,i,o,s,a,l]}class Xt extends st{constructor(e){super(),ot(this,e,g1,p1,it,{circuit:0,sameSignals:1})}}function m1(t){let e,n,r,i,o,s,a,l,u,c,h,f,d,g,w,E,I,k,b,_,y,N,v,O,D,G,U,W,C,M,R,Z,de,pe,ye,ae,T,F,q,J,ge,ce,me,Me,He,lt,ee,he,Vt,yn,Wt,x,H,te,Q,Te,$e,qe,Qn,jt,ci,Jn,hi,er,fi,tr,di,Gt,zt,pi,bt,gi,nr,mi,rr,wi,Ht,qt,_i,yt,bi,vn,yi,vt,kn;return E=new i1({}),W=new a1({}),q=new t1({}),ee=new Xt({props:{circuit:qa()}}),Q=new Xt({props:{circuit:za()}}),$e=new Xt({props:{circuit:Ha()}}),bt=new Xt({props:{circuit:xi()}}),yt=new Xt({props:{circuit:xi(),sameSignals:!0}}),vt=new Qm({props:{gatesCircuit:[]}}),{c(){e=$("div"),n=$("details"),r=$("summary"),r.innerHTML="<b>Electrical Sim</b>",i=L(),o=$("div"),o.textContent=`I want to simulate the basic properties of electricity here. I want
			to show that I can create universal boolean logic gates simply by
			modulating electricity.`,s=L(),a=$("div"),a.innerHTML=`<b class="neon" style="--color: cyan;">Question:</b> Why is electricity
			good at representing info?`,l=L(),u=$("div"),u.textContent=`Electricity can be modeled similar to the flow of water (although
			the analogy breaks down in key places). But the point is we can
			propagate a signal over a wire (or pipe).`,c=L(),h=$("div"),h.textContent=`Simply put, I can have a wire where a signal travels down. Depending
			on the material we can change how this signal gets sent (speed,
			power, ...).`,f=L(),d=$("div"),g=$("div"),g.innerHTML=`<b class="neon" style="--color: orange;">Example</b>: using a
				pipe, I could send a signal down a wire to do something at the
				other end. For modeling purposes, this happens instantly.`,w=L(),Ve(E.$$.fragment),I=L(),k=$("div"),k.textContent=`Now it actually aint this simple. Given I have an electrical signal,
			the electrons don't just bend to my will.`,b=L(),_=$("div"),_.innerHTML=`<b class="neon" style="--color: red;">So How do I coax the electrons to signal?</b>: A quick simple model for getting an electron to do what you want
			is with + and -. Just think of these as two signals. Electrons are
			made up of the - signal and will actively want to move towards +
			signals.`,y=L(),N=$("div"),N.textContent=`In other words, at my example above, I needed the switch side to
			somehow ejects - electrons and have the lightbulb have + that the -
			electrons can move towards. One such way to make the lightbulb +
			like is to remove as many electrons from the lightbulb so that the
			electrons want to move there.`,v=L(),O=$("div"),O.textContent=`This is unfeasible since it also costs energy to do that. Instead,
			leverage the fact that we are ejecting electrons from the switch. In
			other words, as we remove - from the switch, it itself will become +
			like.`,D=L(),G=$("div"),U=K(`In other words, complete the circuit so to speak. Just add another
			wire that goes past the signal destination (light bulb) back to the
			source.
			`),Ve(W.$$.fragment),C=L(),M=$("div"),M.textContent=`Note that this only works if the power source stops electrons from
			flowing backwards. This lets the electrons flow over the longer path
			to reach the ++ part of it instead of just staying in the power
			source.`,R=L(),Z=$("div"),de=$("b"),de.textContent="Can we encode interesting operations in this simple system?",pe=K(`: for example, can we encode a few boolean logic gate? If so, then
			we could reconstruct another other logic gate and compute anything
			(also worth revisiting deeply later).`),ye=L(),ae=$("div"),T=$("b"),T.textContent="Not Gate",F=L(),Ve(q.$$.fragment),J=L(),ge=$("div"),ge.textContent=`When the switch is off, the output signal is on. But when the switch
			is on the output signal is off. This is because electricity will
			find the shortest path to the + signal. So most of the electrons
			will find there way down the signal once we turn on the switch.`,ce=L(),me=$("div"),me.textContent=`The funny thing is, you can see why electricity represents boolean
			operations so well. In my visualization, to show the property that
			electricity takes the shorter path requires boolean operations in
			the code itself. So it's almost like nature has those properties
			built in, and we just combine them to look nicer in our brain. This
			is a circular argument though because by definition we are
			describing electricity with boolean logic.`,Me=L(),He=$("div"),lt=K(`To change up notation, here I'll have a graph where wires are also
			nodes and edges just show what is connected to what . Note that if
			there is a branch, two new wires are created. So the not gate in
			this notation looks like
			`),Ve(ee.$$.fragment),he=L(),Vt=$("div"),Vt.textContent=`Some of these wires can be merged, but again, I show branching (like
			the wire branching from the middle splits the top into two). Again,
			the edges aren't wires in this diagram, wires are separate nodes and
			conceptual connections are edges.`,yn=L(),Wt=$("div"),x=$("details"),H=$("summary"),H.textContent=`In this same notation, you can represent the original
					circuits too`,te=K(`
				Incomplete circuit:
				`),Ve(Q.$$.fragment),Te=K(`

				One switch:
				`),Ve($e.$$.fragment),qe=L(),Qn=$("div"),jt=$("b"),jt.textContent=`Now let's create the boolean gates which take in two inputs (two
			switches) and output a single signal.`,ci=L(),Jn=$("div"),Jn.textContent=`It turns out that you can create any other logic gate by using a NAND
		gate (logical and not). This is weird. Think about the statement that
		anything computable can be represented as manipulation bits with NAND
		operations. Weird.`,hi=L(),er=$("div"),er.textContent=`So let's create a NAND gate. It looks like a combination of the AND gate
		and the NOT gate.`,fi=L(),tr=$("div"),tr.innerHTML="<div>0,0  1</div> <div>0,1  1</div> <div>1,0  1</div> <div>1,1  0</div>",di=L(),Gt=$("div"),zt=$("b"),zt.textContent="NAND Gate",pi=K(`: toggle to see
		outputs given inputs
		`),Ve(bt.$$.fragment),gi=L(),nr=$("div"),nr.textContent=`Like I said, it looks like a combination of the AND and NOT gate. It's
		really just adding another switch right after the first NOT switch.`,mi=L(),rr=$("div"),rr.textContent=`Note that it reverts to a NOT gate for the 0,0 and 1,1 example. So we
		can easily recreate a NOT gate from NAND by just feeding the same value
		in.`,wi=L(),Ht=$("div"),qt=$("b"),qt.textContent="NOT Gate",_i=K(` with NAND by copying
		signal to control both switches
		`),Ve(yt.$$.fragment),bi=L(),vn=$("div"),yi=K(`For a better representation going forward, I'll abstract the NAND into a
		single node.
		`),Ve(vt.$$.fragment),We(r,"class","neon"),S(r,"cursor","pointer"),S(r,"--color","lime"),We(de,"class","neon"),S(de,"--color","deeppink"),We(T,"class","neon"),S(T,"--color","fuchsia"),We(H,"class","neon"),S(H,"cursor","pointer"),S(H,"--color","lime"),n.open=!0,We(jt,"class","neon"),S(jt,"--color","violet"),We(zt,"class","neon"),S(zt,"--color","cyan"),We(qt,"class","neon"),S(qt,"--color","red")},m(ne,Sa){be(ne,e,Sa),m(e,n),m(n,r),m(n,i),m(n,o),m(n,s),m(n,a),m(n,l),m(n,u),m(n,c),m(n,h),m(n,f),m(n,d),m(d,g),m(d,w),Le(E,d,null),m(n,I),m(n,k),m(n,b),m(n,_),m(n,y),m(n,N),m(n,v),m(n,O),m(n,D),m(n,G),m(G,U),Le(W,G,null),m(n,C),m(n,M),m(n,R),m(n,Z),m(Z,de),m(Z,pe),m(n,ye),m(n,ae),m(ae,T),m(ae,F),Le(q,ae,null),m(n,J),m(n,ge),m(n,ce),m(n,me),m(n,Me),m(n,He),m(He,lt),Le(ee,He,null),m(n,he),m(n,Vt),m(n,yn),m(n,Wt),m(Wt,x),m(x,H),m(x,te),Le(Q,x,null),m(x,Te),Le($e,x,null),m(e,qe),m(e,Qn),m(Qn,jt),m(e,ci),m(e,Jn),m(e,hi),m(e,er),m(e,fi),m(e,tr),m(e,di),m(e,Gt),m(Gt,zt),m(Gt,pi),Le(bt,Gt,null),m(e,gi),m(e,nr),m(e,mi),m(e,rr),m(e,wi),m(e,Ht),m(Ht,qt),m(Ht,_i),Le(yt,Ht,null),m(e,bi),m(e,vn),m(vn,yi),Le(vt,vn,null),kn=!0},p:ke,i(ne){kn||(ve(E.$$.fragment,ne),ve(W.$$.fragment,ne),ve(q.$$.fragment,ne),ve(ee.$$.fragment,ne),ve(Q.$$.fragment,ne),ve($e.$$.fragment,ne),ve(bt.$$.fragment,ne),ve(yt.$$.fragment,ne),ve(vt.$$.fragment,ne),kn=!0)},o(ne){Se(E.$$.fragment,ne),Se(W.$$.fragment,ne),Se(q.$$.fragment,ne),Se(ee.$$.fragment,ne),Se(Q.$$.fragment,ne),Se($e.$$.fragment,ne),Se(bt.$$.fragment,ne),Se(yt.$$.fragment,ne),Se(vt.$$.fragment,ne),kn=!1},d(ne){ne&&we(e),Pe(E),Pe(W),Pe(q),Pe(ee),Pe(Q),Pe($e),Pe(bt),Pe(yt),Pe(vt)}}}function w1(t){const e=new Ya;return console.log(e.call(!1,!1)),console.log(e.call(!0,!1)),console.log(e.call(!1,!0)),console.log(e.call(!0,!0)),[]}class _1 extends st{constructor(e){super(),ot(this,e,w1,m1,it,{})}}function b1(t){let e,n,r;return n=new _1({}),{c(){e=$("main"),Ve(n.$$.fragment),We(e,"class","svelte-kqkoi6")},m(i,o){be(i,e,o),Le(n,e,null),r=!0},p:ke,i(i){r||(ve(n.$$.fragment,i),r=!0)},o(i){Se(n.$$.fragment,i),r=!1},d(i){i&&we(e),Pe(n)}}}class y1 extends st{constructor(e){super(),ot(this,e,null,b1,it,{})}}new y1({target:document.getElementById("app")});
