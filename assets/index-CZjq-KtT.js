var Vl=Object.defineProperty;var Wl=(t,e,n)=>e in t?Vl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ur=(t,e,n)=>Wl(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ee(){}function Yo(t){return t()}function Ci(){return Object.create(null)}function wn(t){t.forEach(Yo)}function Uo(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function jl(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function oe(t,e,n){t.insertBefore(e,n||null)}function ie(t){t.parentNode&&t.parentNode.removeChild(t)}function Gl(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function A(){return z(" ")}function Ko(){return z("")}function _n(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Fe(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function zl(t){return Array.from(t.childNodes)}function He(t,e){e=""+e,t.data!==e&&(t.data=e)}function O(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Xr;function ln(t){Xr=t}const Ct=[],Er=[];let St=[];const Ti=[],Hl=Promise.resolve();let xr=!1;function ql(){xr||(xr=!0,Hl.then(Zo))}function Nr(t){St.push(t)}const cr=new Set;let Nt=0;function Zo(){if(Nt!==0)return;const t=Xr;do{try{for(;Nt<Ct.length;){const e=Ct[Nt];Nt++,ln(e),Xl(e.$$)}}catch(e){throw Ct.length=0,Nt=0,e}for(ln(null),Ct.length=0,Nt=0;Er.length;)Er.pop()();for(let e=0;e<St.length;e+=1){const n=St[e];cr.has(n)||(cr.add(n),n())}St.length=0}while(Ct.length);for(;Ti.length;)Ti.pop()();xr=!1,cr.clear(),ln(t)}function Xl(t){if(t.fragment!==null){t.update(),wn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Nr)}}function Yl(t){const e=[],n=[];St.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),St=e}const Ln=new Set;let pt;function Ul(){pt={r:0,c:[],p:pt}}function Kl(){pt.r||wn(pt.c),pt=pt.p}function ve(t,e){t&&t.i&&(Ln.delete(t),t.i(e))}function $e(t,e,n,r){if(t&&t.o){if(Ln.has(t))return;Ln.add(t),pt.c.push(()=>{Ln.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Si(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function De(t){t&&t.c()}function Ae(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Nr(()=>{const o=t.$$.on_mount.map(Yo).filter(Uo);t.$$.on_destroy?t.$$.on_destroy.push(...o):wn(o),t.$$.on_mount=[]}),i.forEach(Nr)}function Pe(t,e){const n=t.$$;n.fragment!==null&&(Yl(n.after_update),wn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zl(t,e){t.$$.dirty[0]===-1&&(Ct.push(t),ql(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,r,i,o,s=null,l=[-1]){const a=Xr;ln(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Ee,not_equal:i,bound:Ci(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ci(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Zl(t,h)),f}):[],u.update(),c=!0,wn(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=zl(e.target);u.fragment&&u.fragment.l(h),h.forEach(ie)}else u.fragment&&u.fragment.c();e.intro&&ve(t.$$.fragment),Ae(t,e.target,e.anchor),Zo()}ln(a)}let ut=class{constructor(){ur(this,"$$");ur(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=Ee}$on(e,n){if(!Uo(n))return Ee;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!jl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};const Ql="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ql);class wt{constructor(){this.in=[],this.out=[],this.data=0,this.name="switch",this.on=!0}switchOn(){this.on=!0}switchOff(){this.on=!1}}class ot{constructor(){this.in=[],this.out=[],this.data=0,this.name="power"}}class bn{constructor(){this.in=[],this.out=[],this.data=0,this.name="signal"}}class Lt{constructor(){this.in=[],this.out=[],this.data=0,this.name="wire"}}class yn{constructor(e,n,r){this.source=e,this.signal=n,this.other=r}resetNodeIds(){this.signal.nodeId=void 0;for(const e of this.other)e.nodeId=void 0;this.source.nodeId=void 0}reset(){this.signal.data=0,this.signal.nodeId=void 0;for(const e of this.other)e.data=0,e.closest=1/0,e.nodeId=void 0;this.source.nodeId=void 0}precomputeDistances(){function e(n){if(n instanceof ot)return 0;if(n instanceof wt&&!n.on||n.out.length===0)return 1/0;let r=[];for(const i of n.out)r.push(e(i));return(n instanceof wt?0:1)+Math.min(...r)}for(const n of this.other)n.closest=e(n);this.signal.closest=e(this.signal)}connect(e,n){e.out.push(n),n.in.push(e)}simulate(){function e(n){if(n.in.length===0||n instanceof wt&&!n.on||n.out.length===0)return;n.data=1;let r=n.out[0];for(const i of n.out)i instanceof ot||i.closest<=r.closest&&(r=i);r instanceof ot||e(r)}this.reset(),this.precomputeDistances(),e(this.source)}}function Jl(){const t=new ot,e=new bn,n=new Lt,r=new yn(t,e,[n]);return r.connect(t,n),r.connect(n,e),r.simulate(),r}function ea(){const t=new ot,e=new bn,n=new Lt,r=new wt,i=new Lt,o=new yn(t,e,[n,r,i]);return o.connect(t,r),o.connect(r,n),o.connect(n,e),o.connect(e,i),o.connect(i,t),r.switchOn(),o.simulate(),o}function ta(){const t=new ot,e=new bn,n=Array(2).fill(0).map(()=>new Lt),r=new wt,i=new yn(t,e,[...n,r]);return i.connect(t,n[0]),i.connect(n[0],e),i.connect(e,n[1]),i.connect(n[1],t),i.connect(n[0],r),i.connect(r,n[1]),i.simulate(),i}function Oi(t=!0,e=!0){const n=new ot,r=new bn,i=Array(4).fill(0).map(()=>new Lt),o=Array(2).fill(0).map(()=>new wt),s=new yn(n,r,[...i,...o]);return s.connect(n,i[0]),s.connect(i[0],r),s.connect(r,i[1]),s.connect(i[1],n),s.connect(i[0],o[0]),s.connect(o[0],o[1]),s.connect(o[1],i[1]),t||o[0].switchOff(),e||o[1].switchOff(),s.simulate(),s}class na{constructor(){this.battery=new ot,this.light=new bn,this.wires=Array(4).fill(0).map(()=>new Lt),this.switches=Array(2).fill(0).map(()=>new wt),this.circuit=new yn(this.battery,this.light,[...this.wires,...this.switches]),this.circuit.connect(this.battery,this.wires[0]),this.circuit.connect(this.wires[0],this.light),this.circuit.connect(this.light,this.wires[1]),this.circuit.connect(this.wires[1],this.battery),this.circuit.connect(this.wires[0],this.switches[0]),this.circuit.connect(this.switches[0],this.switches[1]),this.circuit.connect(this.switches[1],this.wires[1])}call(e,n){return this.circuit.reset(),this.switches[0].on=e,this.switches[1].on=n,this.circuit.simulate(),this.circuit.signal.data}}const ra=new na;function Z(t){return{name:"INPUT",in:t,value:t}}function Vt(t,e){return{name:"NAND",in:[t,e],value:ra.call(t.value,e.value)}}function zn(t){const e=Vt(t,t);return{name:"NOT",in:t,out:e,value:e.value}}function Yr(t,e){const n=zn(Vt(t,e));return{name:"AND",in:[t,e],out:n,value:n.value}}function Qo(t,e){const n=Vt(zn(t),zn(e));return{name:"OR",in:[t,e],out:n,value:n.value}}function ia(t,e){const n=Yr(Qo(t,e),Vt(t,e));return{name:"XOR",in:[t,e],out:n,value:n.value}}function Ce(t){return t.value}function oa(t){let e,n,r=Ce(t[0](Z(0),Z(0)))+"",i,o,s,l,a=Ce(t[0](Z(0),Z(1)))+"",u,c,h,f,d=Ce(t[0](Z(1),Z(0)))+"",p,_,v,$,k=Ce(t[0](Z(1),Z(1)))+"",y;return{c(){e=N("div"),n=z("0,0 → "),i=z(r),o=A(),s=N("div"),l=z("0,1 → "),u=z(a),c=A(),h=N("div"),f=z("1,0 → "),p=z(d),_=A(),v=N("div"),$=z("1,1 → "),y=z(k)},m(w,b){oe(w,e,b),m(e,n),m(e,i),oe(w,o,b),oe(w,s,b),m(s,l),m(s,u),oe(w,c,b),oe(w,h,b),m(h,f),m(h,p),oe(w,_,b),oe(w,v,b),m(v,$),m(v,y)},p(w,[b]){b&1&&r!==(r=Ce(w[0](Z(0),Z(0)))+"")&&He(i,r),b&1&&a!==(a=Ce(w[0](Z(0),Z(1)))+"")&&He(u,a),b&1&&d!==(d=Ce(w[0](Z(1),Z(0)))+"")&&He(p,d),b&1&&k!==(k=Ce(w[0](Z(1),Z(1)))+"")&&He(y,k)},i:Ee,o:Ee,d(w){w&&(ie(e),ie(o),ie(s),ie(c),ie(h),ie(_),ie(v))}}}function sa(t,e,n){let{func:r}=e;return t.$$set=i=>{"func"in i&&n(0,r=i.func)},[r]}class Ii extends ut{constructor(e){super(),at(this,e,sa,oa,lt,{func:0})}}var la=Object.defineProperty,aa=(t,e,n)=>e in t?la(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e,n)=>aa(t,typeof e!="symbol"?e+"":e,n);const je={black:"#000000",white:"#ffffff",foreground:{blue:"#0066CC",red:"#E30000",orange:"#BF4800",yellow:"#D08B00",green:"#008009",purple:"#6D56D6",gray:"#1D1D1F",graySecondary:"#6E6E73",graySecondaryAlt:"#515154",grayTertiary:"#86868B"},background:{gray:"rgb(250, 250, 250)",darkGray:"rgb(51,51,51)"}},vn={family:"SF Mono, ui-monospace, monospace",weight:{regular:200,semibold:500,bold:600}},ua={y:8,x:4},ca=Object.freeze(Object.defineProperty({__proto__:null,colors:je,font:vn,spacing:ua},Symbol.toStringTag,{value:"Module"}));let Mr=class tn{constructor(e,n,r){P(this,"x"),P(this,"y"),P(this,"k"),this.x=e,this.y=n,this.k=r}static identity(){return new tn(0,0,1)}translate(e,n){return e===0&&n===0?this:new tn(this.x+this.k*e,this.y+this.k*n,this.k)}scale(e){return e===1?this:new tn(this.x,this.y,this.k*e)}apply(e,n){return{x:e*this.k+this.x,y:n*this.k+this.y}}inverse(){return tn.identity().scale(1/this.k).translate(-this.x,-this.y)}toString(){return`translate(${this.x},${this.y}) scale(${this.k})`}};var ha={value:()=>{}};function Ur(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Rn(n)}function Rn(t){this._=t}function fa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Rn.prototype=Ur.prototype={constructor:Rn,on:function(t,e){var n=this._,r=fa(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=da(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Ai(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ai(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function da(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ai(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ha,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var $r="http://www.w3.org/1999/xhtml";const Pi={svg:"http://www.w3.org/2000/svg",xhtml:$r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Pi.hasOwnProperty(e)?{space:Pi[e],local:t}:t}function pa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$r&&e.documentElement.namespaceURI===$r?e.createElement(t):e.createElementNS(n,t)}}function ga(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Jo(t){var e=Qn(t);return(e.local?ga:pa)(e)}function ma(){}function Kr(t){return t==null?ma:function(){return this.querySelector(t)}}function wa(t){typeof t!="function"&&(t=Kr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=t.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Be(r,this._parents)}function _a(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ba(){return[]}function es(t){return t==null?ba:function(){return this.querySelectorAll(t)}}function ya(t){return function(){return _a(t.apply(this,arguments))}}function va(t){typeof t=="function"?t=ya(t):t=es(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Be(r,i)}function ts(t){return function(){return this.matches(t)}}function ns(t){return function(e){return e.matches(t)}}var ka=Array.prototype.find;function Ea(t){return function(){return ka.call(this.children,t)}}function xa(){return this.firstElementChild}function Na(t){return this.select(t==null?xa:Ea(typeof t=="function"?t:ns(t)))}var Ma=Array.prototype.filter;function $a(){return Array.from(this.children)}function Ca(t){return function(){return Ma.call(this.children,t)}}function Ta(t){return this.selectAll(t==null?$a:Ca(typeof t=="function"?t:ns(t)))}function Sa(t){typeof t!="function"&&(t=ts(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Be(r,this._parents)}function rs(t){return new Array(t.length)}function Oa(){return new Be(this._enter||this._groups.map(rs),this._parents)}function Hn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Hn.prototype={constructor:Hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ia(t){return function(){return t}}function Aa(t,e,n,r,i,o){for(var s=0,l,a=e.length,u=o.length;s<u;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new Hn(t,o[s]);for(;s<a;++s)(l=e[s])&&(i[s]=l)}function Pa(t,e,n,r,i,o,s){var l,a,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(l=0;l<c;++l)(a=e[l])&&(f[l]=d=s.call(a,a.__data__,l,e)+"",u.has(d)?i[l]=a:u.set(d,a));for(l=0;l<h;++l)d=s.call(t,o[l],l,o)+"",(a=u.get(d))?(r[l]=a,a.__data__=o[l],u.delete(d)):n[l]=new Hn(t,o[l]);for(l=0;l<c;++l)(a=e[l])&&u.get(f[l])===a&&(i[l]=a)}function La(t){return t.__data__}function Ra(t,e){if(!arguments.length)return Array.from(this,La);var n=e?Pa:Aa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ia(t));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=Ba(t.call(c,c&&c.__data__,u,r)),p=d.length,_=l[u]=new Array(p),v=s[u]=new Array(p),$=a[u]=new Array(f);n(c,h,_,v,$,d,e);for(var k=0,y=0,w,b;k<p;++k)if(w=_[k]){for(k>=y&&(y=k+1);!(b=v[y])&&++y<p;);w._next=b||null}}return s=new Be(s,r),s._enter=l,s._exit=a,s}function Ba(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Da(){return new Be(this._exit||this._groups.map(rs),this._parents)}function Fa(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Va(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],h=u.length,f=l[a]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;a<i;++a)l[a]=n[a];return new Be(l,this._parents)}function Wa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function ja(t){t||(t=Ga);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(e)}return new Be(i,this._parents).order()}function Ga(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function za(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ha(){return Array.from(this)}function qa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Xa(){let t=0;for(const e of this)++t;return t}function Ya(){return!this.node()}function Ua(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function Ka(t){return function(){this.removeAttribute(t)}}function Za(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qa(t,e){return function(){this.setAttribute(t,e)}}function Ja(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function eu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function tu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nu(t,e){var n=Qn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Za:Ka:typeof e=="function"?n.local?tu:eu:n.local?Ja:Qa)(n,e))}function is(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ru(t){return function(){this.style.removeProperty(t)}}function iu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ou(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function su(t,e,n){return arguments.length>1?this.each((e==null?ru:typeof e=="function"?ou:iu)(t,e,n??"")):Rt(this.node(),t)}function Rt(t,e){return t.style.getPropertyValue(e)||is(t).getComputedStyle(t,null).getPropertyValue(e)}function lu(t){return function(){delete this[t]}}function au(t,e){return function(){this[t]=e}}function uu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function cu(t,e){return arguments.length>1?this.each((e==null?lu:typeof e=="function"?uu:au)(t,e)):this.node()[t]}function os(t){return t.trim().split(/^|\s+/)}function Zr(t){return t.classList||new ss(t)}function ss(t){this._node=t,this._names=os(t.getAttribute("class")||"")}ss.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ls(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function as(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hu(t){return function(){ls(this,t)}}function fu(t){return function(){as(this,t)}}function du(t,e){return function(){(e.apply(this,arguments)?ls:as)(this,t)}}function pu(t,e){var n=os(t+"");if(arguments.length<2){for(var r=Zr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?du:e?hu:fu)(n,e))}function gu(){this.textContent=""}function mu(t){return function(){this.textContent=t}}function wu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _u(t){return arguments.length?this.each(t==null?gu:(typeof t=="function"?wu:mu)(t)):this.node().textContent}function bu(){this.innerHTML=""}function yu(t){return function(){this.innerHTML=t}}function vu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ku(t){return arguments.length?this.each(t==null?bu:(typeof t=="function"?vu:yu)(t)):this.node().innerHTML}function Eu(){this.nextSibling&&this.parentNode.appendChild(this)}function xu(){return this.each(Eu)}function Nu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mu(){return this.each(Nu)}function $u(t){var e=typeof t=="function"?t:Jo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Cu(){return null}function Tu(t,e){var n=typeof t=="function"?t:Jo(t),r=e==null?Cu:typeof e=="function"?e:Kr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Su(){var t=this.parentNode;t&&t.removeChild(this)}function Ou(){return this.each(Su)}function Iu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Au(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pu(t){return this.select(t?Au:Iu)}function Lu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ru(t){return function(e){t.call(this,e,this.__data__)}}function Bu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Du(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Fu(t,e,n){return function(){var r=this.__on,i,o=Ru(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Vu(t,e,n){var r=Bu(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Fu:Du,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function us(t,e,n){var r=is(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Wu(t,e){return function(){return us(this,t,e)}}function ju(t,e){return function(){return us(this,t,e.apply(this,arguments))}}function Gu(t,e){return this.each((typeof e=="function"?ju:Wu)(t,e))}function*zu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var cs=[null];function Be(t,e){this._groups=t,this._parents=e}function kn(){return new Be([[document.documentElement]],cs)}function Hu(){return this}Be.prototype=kn.prototype={constructor:Be,select:wa,selectAll:va,selectChild:Na,selectChildren:Ta,filter:Sa,data:Ra,enter:Oa,exit:Da,join:Fa,merge:Va,selection:Hu,order:Wa,sort:ja,call:za,nodes:Ha,node:qa,size:Xa,empty:Ya,each:Ua,attr:nu,style:su,property:cu,classed:pu,text:_u,html:ku,raise:xu,lower:Mu,append:$u,insert:Tu,remove:Ou,clone:Pu,datum:Lu,on:Vu,dispatch:Gu,[Symbol.iterator]:zu};function un(t){return typeof t=="string"?new Be([[document.querySelector(t)]],[document.documentElement]):new Be([[t]],cs)}function qu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Li(t,e){if(t=qu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Xu={passive:!1},cn={capture:!0,passive:!1};function hr(t){t.stopImmediatePropagation()}function Ot(t){t.preventDefault(),t.stopImmediatePropagation()}function Yu(t){var e=t.document.documentElement,n=un(t).on("dragstart.drag",Ot,cn);"onselectstart"in e?n.on("selectstart.drag",Ot,cn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Uu(t,e){var n=t.document.documentElement,r=un(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ot,cn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cn=t=>()=>t;function Cr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Cr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ku(t){return!t.ctrlKey&&!t.button}function Zu(){return this.parentNode}function Qu(t,e){return e??{x:t.x,y:t.y}}function Ju(){return navigator.maxTouchPoints||"ontouchstart"in this}function ec(){var t=Ku,e=Zu,n=Qu,r=Ju,i={},o=Ur("start","drag","end"),s=0,l,a,u,c,h=0;function f(w){w.on("mousedown.drag",d).filter(r).on("touchstart.drag",v).on("touchmove.drag",$,Xu).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(w,b){if(!(c||!t.call(this,w,b))){var C=y(this,e.call(this,w,b),w,b,"mouse");C&&(un(w.view).on("mousemove.drag",p,cn).on("mouseup.drag",_,cn),Yu(w.view),hr(w),u=!1,l=w.clientX,a=w.clientY,C("start",w))}}function p(w){if(Ot(w),!u){var b=w.clientX-l,C=w.clientY-a;u=b*b+C*C>h}i.mouse("drag",w)}function _(w){un(w.view).on("mousemove.drag mouseup.drag",null),Uu(w.view,u),Ot(w),i.mouse("end",w)}function v(w,b){if(t.call(this,w,b)){var C=w.changedTouches,E=e.call(this,w,b),I=C.length,D,G;for(D=0;D<I;++D)(G=y(this,E,w,b,C[D].identifier,C[D]))&&(hr(w),G("start",w,C[D]))}}function $(w){var b=w.changedTouches,C=b.length,E,I;for(E=0;E<C;++E)(I=i[b[E].identifier])&&(Ot(w),I("drag",w,b[E]))}function k(w){var b=w.changedTouches,C=b.length,E,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<C;++E)(I=i[b[E].identifier])&&(hr(w),I("end",w,b[E]))}function y(w,b,C,E,I,D){var G=o.copy(),K=Li(D||C,b),W,T,M;if((M=n.call(w,new Cr("beforestart",{sourceEvent:C,target:f,identifier:I,active:s,x:K[0],y:K[1],dx:0,dy:0,dispatch:G}),E))!=null)return W=M.x-K[0]||0,T=M.y-K[1]||0,function R(Q,me,we){var ke=K,ce;switch(Q){case"start":i[I]=R,ce=s++;break;case"end":delete i[I],--s;case"drag":K=Li(we||me,b),ce=s;break}G.call(Q,w,new Cr(Q,{sourceEvent:me,subject:M,target:f,identifier:I,active:ce,x:K[0]+W,y:K[1]+T,dx:K[0]-ke[0],dy:K[1]-ke[1],dispatch:G}),E)}}return f.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Cn(!!w),f):t},f.container=function(w){return arguments.length?(e=typeof w=="function"?w:Cn(w),f):e},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Cn(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Cn(!!w),f):r},f.on=function(){var w=o.on.apply(o,arguments);return w===o?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function Qr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function En(){}var hn=.7,qn=1/hn,It="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tc=/^#([0-9a-f]{3,8})$/,nc=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),rc=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),ic=new RegExp(`^rgba\\(${It},${It},${It},${fn}\\)$`),oc=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${fn}\\)$`),sc=new RegExp(`^hsl\\(${fn},${Ke},${Ke}\\)$`),lc=new RegExp(`^hsla\\(${fn},${Ke},${Ke},${fn}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qr(En,dn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bi,formatHex:Bi,formatHex8:ac,formatHsl:uc,formatRgb:Di,toString:Di});function Bi(){return this.rgb().formatHex()}function ac(){return this.rgb().formatHex8()}function uc(){return fs(this).formatHsl()}function Di(){return this.rgb().formatRgb()}function dn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fi(e):n===3?new Se(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nc.exec(t))?new Se(e[1],e[2],e[3],1):(e=rc.exec(t))?new Se(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ic.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=oc.exec(t))?Tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sc.exec(t))?ji(e[1],e[2]/100,e[3]/100,1):(e=lc.exec(t))?ji(e[1],e[2]/100,e[3]/100,e[4]):Ri.hasOwnProperty(t)?Fi(Ri[t]):t==="transparent"?new Se(NaN,NaN,NaN,0):null}function Fi(t){return new Se(t>>16&255,t>>8&255,t&255,1)}function Tn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Se(t,e,n,r)}function cc(t){return t instanceof En||(t=dn(t)),t?(t=t.rgb(),new Se(t.r,t.g,t.b,t.opacity)):new Se}function Tr(t,e,n,r){return arguments.length===1?cc(t):new Se(t,e,n,r??1)}function Se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Qr(Se,Tr,hs(En,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Se(_t(this.r),_t(this.g),_t(this.b),Xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatHex8:hc,formatRgb:Wi,toString:Wi}));function Vi(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function hc(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wi(){const t=Xn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function Xn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function ji(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ze(t,e,n,r)}function fs(t){if(t instanceof ze)return new ze(t.h,t.s,t.l,t.opacity);if(t instanceof En||(t=dn(t)),!t)return new ze;if(t instanceof ze)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new ze(s,l,a,t.opacity)}function fc(t,e,n,r){return arguments.length===1?fs(t):new ze(t,e,n,r??1)}function ze(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Qr(ze,fc,hs(En,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new ze(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hn:Math.pow(hn,t),new ze(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Se(fr(t>=240?t-240:t+120,i,r),fr(t,i,r),fr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ze(Gi(this.h),Sn(this.s),Sn(this.l),Xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xn(this.opacity);return`${t===1?"hsl(":"hsla("}${Gi(this.h)}, ${Sn(this.s)*100}%, ${Sn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Gi(t){return t=(t||0)%360,t<0?t+360:t}function Sn(t){return Math.max(0,Math.min(1,t||0))}function fr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ds=t=>()=>t;function dc(t,e){return function(n){return t+n*e}}function pc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gc(t){return(t=+t)==1?ps:function(e,n){return n-e?pc(e,n,t):ds(isNaN(e)?n:e)}}function ps(t,e){var n=e-t;return n?dc(t,n):ds(isNaN(t)?e:t)}const zi=function t(e){var n=gc(e);function r(i,o){var s=n((i=Tr(i)).r,(o=Tr(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=ps(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function it(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Sr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dr=new RegExp(Sr.source,"g");function mc(t){return function(){return t}}function wc(t){return function(e){return t(e)+""}}function _c(t,e){var n=Sr.lastIndex=dr.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(t=t+"",e=e+"";(r=Sr.exec(t))&&(i=dr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:it(r,i)})),n=dr.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?wc(a[0].x):mc(e):(e=a.length,function(u){for(var c=0,h;c<e;++c)l[(h=a[c]).i]=h.x(u);return l.join("")})}var Hi=180/Math.PI,Or={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gs(t,e,n,r,i,o){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Hi,skewX:Math.atan(a)*Hi,scaleX:s,scaleY:l}}var On;function bc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Or:gs(e.a,e.b,e.c,e.d,e.e,e.f)}function yc(t){return t==null||(On||(On=document.createElementNS("http://www.w3.org/2000/svg","g")),On.setAttribute("transform",t),!(t=On.transform.baseVal.consolidate()))?Or:(t=t.matrix,gs(t.a,t.b,t.c,t.d,t.e,t.f))}function ms(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function s(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:it(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:it(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function a(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:it(u,h)},{i:_-2,x:it(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),s(u.rotate,c.rotate,h,f),l(u.skewX,c.skewX,h,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,_=f.length,v;++p<_;)h[(v=f[p]).i]=v.x(d);return h.join("")}}}var vc=ms(bc,"px, ","px)","deg)"),kc=ms(yc,", ",")",")"),Bt=0,nn=0,Jt=0,ws=1e3,Yn,rn,Un=0,bt=0,Jn=0,pn=typeof performance=="object"&&performance.now?performance:Date,_s=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jr(){return bt||(_s(Ec),bt=pn.now()+Jn)}function Ec(){bt=0}function Kn(){this._call=this._time=this._next=null}Kn.prototype=bs.prototype={constructor:Kn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Jr():+n)+(e==null?0:+e),!this._next&&rn!==this&&(rn?rn._next=this:Yn=this,rn=this),this._call=t,this._time=n,Ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ir())}};function bs(t,e,n){var r=new Kn;return r.restart(t,e,n),r}function xc(){Jr(),++Bt;for(var t=Yn,e;t;)(e=bt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Bt}function qi(){bt=(Un=pn.now())+Jn,Bt=nn=0;try{xc()}finally{Bt=0,Mc(),bt=0}}function Nc(){var t=pn.now(),e=t-Un;e>ws&&(Jn-=e,Un=t)}function Mc(){for(var t,e=Yn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yn=n);rn=t,Ir(r)}function Ir(t){if(!Bt){nn&&(nn=clearTimeout(nn));var e=t-bt;e>24?(t<1/0&&(nn=setTimeout(qi,t-pn.now()-Jn)),Jt&&(Jt=clearInterval(Jt))):(Jt||(Un=pn.now(),Jt=setInterval(Nc,ws)),Bt=1,_s(qi))}}function Xi(t,e,n){var r=new Kn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var $c=Ur("start","end","cancel","interrupt"),Cc=[],ys=0,Yi=1,Ar=2,Bn=3,Ui=4,Pr=5,Dn=6;function er(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Tc(t,n,{name:e,index:r,group:i,on:$c,tween:Cc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ys})}function ei(t,e){var n=qe(t,e);if(n.state>ys)throw new Error("too late; already scheduled");return n}function Ze(t,e){var n=qe(t,e);if(n.state>Bn)throw new Error("too late; already running");return n}function qe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Tc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=bs(o,0,n.time);function o(u){n.state=Yi,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,h,f,d;if(n.state!==Yi)return a();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Bn)return Xi(s);d.state===Ui?(d.state=Dn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Dn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Xi(function(){n.state===Bn&&(n.state=Ui,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ar,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ar){for(n.state=Bn,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Pr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Pr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Dn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Sc(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Ar&&r.state<Pr,r.state=Dn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Oc(t){return this.each(function(){Sc(this,t)})}function Ic(t,e){var n,r;return function(){var i=Ze(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ac(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ze(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===e){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function Pc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qe(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Ic:Ac)(n,t,e))}function ti(t,e,n){var r=t._id;return t.each(function(){var i=Ze(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qe(i,r).value[e]}}function vs(t,e){var n;return(typeof e=="number"?it:e instanceof dn?zi:(n=dn(e))?(e=n,zi):_c)(t,e)}function Lc(t){return function(){this.removeAttribute(t)}}function Rc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Bc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Dc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Fc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Vc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Wc(t,e){var n=Qn(t),r=n==="transform"?kc:vs;return this.attrTween(t,typeof e=="function"?(n.local?Vc:Fc)(n,r,ti(this,"attr."+t,e)):e==null?(n.local?Rc:Lc)(n):(n.local?Dc:Bc)(n,r,e))}function jc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Gc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function zc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Gc(t,o)),n}return i._value=e,i}function Hc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&jc(t,o)),n}return i._value=e,i}function qc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Qn(t);return this.tween(n,(r.local?zc:Hc)(r,e))}function Xc(t,e){return function(){ei(this,t).delay=+e.apply(this,arguments)}}function Yc(t,e){return e=+e,function(){ei(this,t).delay=e}}function Uc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xc:Yc)(e,t)):qe(this.node(),e).delay}function Kc(t,e){return function(){Ze(this,t).duration=+e.apply(this,arguments)}}function Zc(t,e){return e=+e,function(){Ze(this,t).duration=e}}function Qc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kc:Zc)(e,t)):qe(this.node(),e).duration}function Jc(t,e){if(typeof e!="function")throw new Error;return function(){Ze(this,t).ease=e}}function eh(t){var e=this._id;return arguments.length?this.each(Jc(e,t)):qe(this.node(),e).ease}function th(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ze(this,t).ease=n}}function nh(t){if(typeof t!="function")throw new Error;return this.each(th(this._id,t))}function rh(t){typeof t!="function"&&(t=ts(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new nt(r,this._parents,this._name,this._id)}function ih(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=e[l],u=n[l],c=a.length,h=s[l]=new Array(c),f,d=0;d<c;++d)(f=a[d]||u[d])&&(h[d]=f);for(;l<r;++l)s[l]=e[l];return new nt(s,this._parents,this._name,this._id)}function oh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sh(t,e,n){var r,i,o=oh(e)?ei:Ze;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function lh(t,e){var n=this._id;return arguments.length<2?qe(this.node(),n).on.on(t):this.each(sh(n,t,e))}function ah(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function uh(){return this.on("end.remove",ah(this._id))}function ch(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Kr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,h,f=0;f<a;++f)(c=l[f])&&(h=t.call(c,c.__data__,f,l))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,er(u[f],e,n,f,u,qe(c,n)));return new nt(o,this._parents,e,n)}function hh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=es(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,h=0;h<u;++h)if(c=a[h]){for(var f=t.call(c,c.__data__,h,a),d,p=qe(c,n),_=0,v=f.length;_<v;++_)(d=f[_])&&er(d,e,n,_,f,p);o.push(f),s.push(c)}return new nt(o,s,e,n)}var fh=kn.prototype.constructor;function dh(){return new fh(this._groups,this._parents)}function ph(t,e){var n,r,i;return function(){var o=Rt(this,t),s=(this.style.removeProperty(t),Rt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function ks(t){return function(){this.style.removeProperty(t)}}function gh(t,e,n){var r,i=n+"",o;return function(){var s=Rt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function mh(t,e,n){var r,i,o;return function(){var s=Rt(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),Rt(this,t))),s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l))}}function wh(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var a=Ze(this,t),u=a.on,c=a.value[o]==null?l||(l=ks(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function _h(t,e,n){var r=(t+="")=="transform"?vc:vs;return e==null?this.styleTween(t,ph(t,r)).on("end.style."+t,ks(t)):typeof e=="function"?this.styleTween(t,mh(t,r,ti(this,"style."+t,e))).each(wh(this._id,t)):this.styleTween(t,gh(t,r,e),n).on("end.style."+t,null)}function bh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function yh(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&bh(t,s,n)),r}return o._value=e,o}function vh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,yh(t,e,n??""))}function kh(t){return function(){this.textContent=t}}function Eh(t){return function(){var e=t(this);this.textContent=e??""}}function xh(t){return this.tween("text",typeof t=="function"?Eh(ti(this,"text",t)):kh(t==null?"":t+""))}function Nh(t){return function(e){this.textContent=t.call(this,e)}}function Mh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Nh(i)),e}return r._value=t,r}function $h(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Mh(t))}function Ch(){for(var t=this._name,e=this._id,n=Es(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=qe(a,e);er(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new nt(r,this._parents,t,n)}function Th(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=Ze(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),i===0&&o()})}var Sh=0;function nt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Es(){return++Sh}var et=kn.prototype;nt.prototype={constructor:nt,select:ch,selectAll:hh,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:rh,merge:ih,selection:dh,transition:Ch,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:lh,attr:Wc,attrTween:qc,style:_h,styleTween:vh,text:xh,textTween:$h,remove:uh,tween:Pc,delay:Uc,duration:Qc,ease:eh,easeVarying:nh,end:Th,[Symbol.iterator]:et[Symbol.iterator]};function Oh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ih={time:null,delay:0,duration:250,ease:Oh};function Ah(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ph(t){var e,n;t instanceof nt?(e=t._id,t=t._name):(e=Es(),(n=Ih).time=Jr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&er(a,t,e,u,s,n||Ah(a,e));return new nt(r,this._parents,t,e)}kn.prototype.interrupt=Oc;kn.prototype.transition=Ph;const Lr=Math.PI,Rr=2*Lr,dt=1e-6,Lh=Rr-dt;function xs(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rh(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xs;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ns{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xs:Rh(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,a=r-e,u=i-n,c=s-e,h=l-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>dt)if(!(Math.abs(h*a-u*c)>dt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-s,p=i-l,_=a*a+u*u,v=d*d+p*p,$=Math.sqrt(_),k=Math.sqrt(f),y=o*Math.tan((Lr-Math.acos((_+f-v)/(2*$*k)))/2),w=y/k,b=y/$;Math.abs(w-1)>dt&&this._append`L${e+w*c},${n+w*h}`,this._append`A${o},${o},0,0,${+(h*d>c*p)},${this._x1=e+b*a},${this._y1=n+b*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),a=r*Math.sin(i),u=e+l,c=n+a,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>dt||Math.abs(this._y1-c)>dt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Rr+Rr),f>Lh?this._append`A${r},${r},0,1,${h},${e-l},${n-a}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>dt&&this._append`A${r},${r},0,${+(f>=Lr)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ms(){return new Ns}Ms.prototype=Ns.prototype;function on(t,e,n){this.k=t,this.x=e,this.y=n}on.prototype={constructor:on,scale:function(t){return t===1?this:new on(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new on(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};on.prototype;class Br{constructor(e){P(this,"context",Ms()),P(this,"x0",NaN),P(this,"x1",NaN),P(this,"y0",NaN),P(this,"y1",NaN),P(this,"state",0);for(let n=0;n<e.length;n++){const r=e[n];if(this.point(r.x,r.y),n===e.length-1)switch(this.state){case 3:this.curve(this.x1,this.y1),this.context.lineTo(this.x1,this.y1);break;case 2:this.context.lineTo(this.x1,this.y1);break}}}point(e,n){switch(e=+e,n=+n,this.state){case 0:this.state=1,this.context.moveTo(e,n);break;case 1:this.state=2;break;case 2:this.state=3,this.context.lineTo((5*this.x0+this.x1)/6,(5*this.y0+this.y1)/6),this.curve(e,n);break;default:this.curve(e,n);break}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=n}curve(e,n){this.context.bezierCurveTo((2*this.x0+this.x1)/3,(2*this.y0+this.y1)/3,(this.x0+2*this.x1)/3,(this.y0+2*this.y1)/3,(this.x0+4*this.x1+e)/6,(this.y0+4*this.y1+n)/6)}build(){return this.context.toString()}}class se{constructor(e,n,r,i){this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.xMin=e,this.xMax=r,this.yMin=n,this.yMax=i}static infinity(){return new se(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)}isEmpty(){return this.xMin===Number.MAX_VALUE||this.yMin===Number.MAX_VALUE||this.xMax===Number.MIN_VALUE||this.yMax===Number.MIN_VALUE}static fromCenterAndDimension(e,n,r){return new se(e.x-n/2,e.y-r/2,e.x+n/2,e.y+r/2)}static fromPoints(...e){return e.reduce((n,r)=>(n.xMin=Math.min(n.xMin,r.x),n.yMin=Math.min(n.yMin,r.y),n.xMax=Math.max(n.xMax,r.x),n.yMax=Math.max(n.yMax,r.y),n),se.infinity())}static fromUnion(...e){return e.reduce((n,r)=>n.union(r),se.infinity())}get width(){return this.xMax-this.xMin}get height(){return this.yMax-this.yMin}get center(){return{x:this.xMin+this.width/2,y:this.yMin+this.height/2}}padded(e){const{l:n,r,b:i,t:o}=typeof e=="object"?e:{l:e,r:e,t:e,b:e};return new se(this.xMin-n,this.yMin-o,this.xMax+r,this.yMax+i)}union(e){return new se(Math.min(this.xMin,e.xMin),Math.min(this.yMin,e.yMin),Math.max(this.xMax,e.xMax),Math.max(this.yMax,e.yMax))}transformed(e){const n=e.apply(this.xMin,this.yMin),r=e.apply(this.xMax,this.yMax);return new se(n.x,n.y,r.x,r.y)}contains(e,n){return this.xMin<=e&&this.yMin<=n&&e<=this.xMax&&n<=this.yMax}encloses(e){return this.contains(e.xMin,e.yMin)&&this.contains(e.xMax,e.yMax)}intersects(e){return this.xMin<=e.xMin&&e.xMin<=this.xMax||this.xMin<=e.xMax&&e.xMax<=this.xMax||this.yMin<=e.yMin&&e.yMin<=this.yMax||this.yMin<=e.yMax&&e.yMax<=this.yMax}}function*Bh(t,e){let n=!0;for(const r of t)n||(yield e),n=!1,yield r}function Fn(t,e,n){return Math.min(Math.max(n,t),e)}class ct{constructor(e){P(this,"options"),this.options=e}with(e){return this.options={...this.options,...e},this}}function Y(){}const Dh=t=>t;function rt(t,e){for(const n in e)t[n]=e[n];return t}function $s(t){return t()}function Ki(){return Object.create(null)}function Qe(t){t.forEach($s)}function Cs(t){return typeof t=="function"}function ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Fh(t){return Object.keys(t).length===0}function Dr(t,...e){if(t==null){for(const r of e)r(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ts(t,e,n){t.$$.on_destroy.push(Dr(e,n))}function Ss(t,e,n,r){if(t){const i=Os(t,e,n,r);return t[0](i)}}function Os(t,e,n,r){return t[1]&&r?rt(n.ctx.slice(),t[1](r(e))):n.ctx}function Is(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function As(t,e,n,r,i,o){if(i){const s=Os(e,n,r,o);t.p(s,i)}}function Ps(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function pr(t,e,n){return t.set(n),e}const Ls=typeof window<"u";let Vh=Ls?()=>window.performance.now():()=>Date.now(),Rs=Ls?t=>requestAnimationFrame(t):Y;const At=new Set;function Bs(t){At.forEach(e=>{e.c(t)||(At.delete(e),e.f())}),At.size!==0&&Rs(Bs)}function Wh(t){let e;return At.size===0&&Rs(Bs),{promise:new Promise(n=>{At.add(e={c:t,f:n})}),abort(){At.delete(e)}}}function H(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Ds(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ge(t){return document.createElement(t)}function U(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Je(t){return document.createTextNode(t)}function tt(){return Je(" ")}function We(){return Je("")}function le(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jh(t){return Array.from(t.childNodes)}function xn(t,e){e=""+e,t.data!==e&&(t.data=e)}function Gh(t,e,n,r){t.style.setProperty(e,n,"")}function zh(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Dt(t,e){return new t(e)}let gn;function an(t){gn=t}function tr(){if(!gn)throw new Error("Function called outside component initialization");return gn}function Fs(t){tr().$$.on_mount.push(t)}function Wt(){const t=tr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=zh(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function Hh(t,e){return tr().$$.context.set(t,e),e}function Vs(t){return tr().$$.context.get(t)}function Te(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Tt=[],st=[];let Pt=[];const Fr=[],Ws=Promise.resolve();let Vr=!1;function js(){Vr||(Vr=!0,Ws.then(Gs))}function In(){return js(),Ws}function Wr(t){Pt.push(t)}function qh(t){Fr.push(t)}const gr=new Set;let Mt=0;function Gs(){if(Mt!==0)return;const t=gn;do{try{for(;Mt<Tt.length;){const e=Tt[Mt];Mt++,an(e),Xh(e.$$)}}catch(e){throw Tt.length=0,Mt=0,e}for(an(null),Tt.length=0,Mt=0;st.length;)st.pop()();for(let e=0;e<Pt.length;e+=1){const n=Pt[e];gr.has(n)||(gr.add(n),n())}Pt.length=0}while(Tt.length);for(;Fr.length;)Fr.pop()();Vr=!1,gr.clear(),an(t)}function Xh(t){if(t.fragment!==null){t.update(),Qe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Wr)}}function Yh(t){const e=[],n=[];Pt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Pt=e}const Vn=new Set;let mt;function Le(){mt={r:0,c:[],p:mt}}function Re(){mt.r||Qe(mt.c),mt=mt.p}function L(t,e){t&&t.i&&(Vn.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(Vn.has(t))return;Vn.add(t),mt.c.push(()=>{Vn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ve(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Wn(t,e){j(t,1,1,()=>{e.delete(t.key)})}function jn(t,e,n,r,i,o,s,l,a,u,c,h){let f=t.length,d=o.length,p=f;const _={};for(;p--;)_[t[p].key]=p;const v=[],$=new Map,k=new Map,y=[];for(p=d;p--;){const E=h(i,o,p),I=n(E);let D=s.get(I);D?y.push(()=>D.p(E,e)):(D=u(I,E),D.c()),$.set(I,v[p]=D),I in _&&k.set(I,Math.abs(p-_[I]))}const w=new Set,b=new Set;function C(E){L(E,1),E.m(l,c),s.set(E.key,E),c=E.first,d--}for(;f&&d;){const E=v[d-1],I=t[f-1],D=E.key,G=I.key;E===I?(c=E.first,f--,d--):$.has(G)?!s.has(D)||w.has(D)?C(E):b.has(G)?f--:k.get(D)>k.get(G)?(b.add(D),C(E)):(w.add(G),f--):(a(I,s),f--)}for(;f--;){const E=t[f];$.has(E.key)||a(E,s)}for(;d;)C(v[d-1]);return Qe(y),v}function Ft(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],l=e[o];if(l){for(const a in s)a in l||(r[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);t[o]=l}else for(const a in s)i[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Uh(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function he(t){t&&t.c()}function ae(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Wr(()=>{const o=t.$$.on_mount.map($s).filter(Cs);t.$$.on_destroy?t.$$.on_destroy.push(...o):Qe(o),t.$$.on_mount=[]}),i.forEach(Wr)}function ue(t,e){const n=t.$$;n.fragment!==null&&(Yh(n.after_update),Qe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kh(t,e){t.$$.dirty[0]===-1&&(Tt.push(t),js(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xe(t,e,n,r,i,o,s=null,l=[-1]){const a=gn;an(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:i,bound:Ki(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ki(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Kh(t,h)),f}):[],u.update(),c=!0,Qe(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=jh(e.target);u.fragment&&u.fragment.l(h),h.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&L(t.$$.fragment),ae(t,e.target,e.anchor),Gs()}an(a)}class Ne{constructor(){P(this,"$$"),P(this,"$$set")}$destroy(){ue(this,1),this.$destroy=Y}$on(e,n){if(!Cs(n))return Y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Fh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zh="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zh);var Zi={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Qi(t,e,n){const r=t.slice();return r[3]=e[n],r}function Qh(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[3].boundingBox().transformed(t[3].transform).xMin),g(e,"y",r=t[3].boundingBox().transformed(t[3].transform).yMin),g(e,"width",i=t[3].boundingBox().transformed(t[3].transform).width),g(e,"height",o=t[3].boundingBox().transformed(t[3].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.1")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[3].boundingBox().transformed(s[3].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[3].boundingBox().transformed(s[3].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[3].boundingBox().transformed(s[3].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[3].boundingBox().transformed(s[3].transform).height)&&g(e,"height",o)},d(s){s&&B(e)}}}function Ji(t){let e,n,r,i,o=Zi.VITE_WIREFRAME_CONTAINER&&Qh(t);const s=[{self:t[3]}];var l=t[3].drawable();function a(u,c){let h={};for(let f=0;f<s.length;f+=1)h=rt(h,s[f]);return c!==void 0&&c&1&&(h=rt(h,Ft(s,[{self:u[3]}]))),{props:h}}return l&&(n=Dt(l,a(t))),{c(){o&&o.c(),e=We(),n&&he(n.$$.fragment),r=We()},m(u,c){o&&o.m(u,c),V(u,e,c),n&&ae(n,u,c),V(u,r,c),i=!0},p(u,c){if(Zi.VITE_WIREFRAME_CONTAINER&&o.p(u,c),c&1&&l!==(l=u[3].drawable())){if(n){Le();const h=n;j(h.$$.fragment,1,0,()=>{ue(h,1)}),Re()}l?(n=Dt(l,a(u,c)),he(n.$$.fragment),L(n.$$.fragment,1),ae(n,r.parentNode,r)):n=null}else if(l){const h=c&1?Ft(s,[{self:u[3]}]):{};n.$set(h)}},i(u){i||(n&&L(n.$$.fragment,u),i=!0)},o(u){n&&j(n.$$.fragment,u),i=!1},d(u){u&&(B(e),B(r)),o&&o.d(u),n&&ue(n,u)}}}function Jh(t){let e,n,r;const i=t[2].default,o=Ss(i,t,t[1],null);let s=Ve(t[0].children),l=[];for(let u=0;u<s.length;u+=1)l[u]=Ji(Qi(t,s,u));const a=u=>j(l[u],1,1,()=>{l[u]=null});return{c(){e=U("g"),o&&o.c();for(let u=0;u<l.length;u+=1)l[u].c();g(e,"transform",n=t[0].transform.toString())},m(u,c){V(u,e,c),o&&o.m(e,null);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);r=!0},p(u,[c]){if(o&&o.p&&(!r||c&2)&&As(o,i,u,u[1],r?Is(i,u[1],c,null):Ps(u[1]),null),c&1){s=Ve(u[0].children);let h;for(h=0;h<s.length;h+=1){const f=Qi(u,s,h);l[h]?(l[h].p(f,c),L(l[h],1)):(l[h]=Ji(f),l[h].c(),L(l[h],1),l[h].m(e,null))}for(Le(),h=s.length;h<l.length;h+=1)a(h);Re()}(!r||c&1&&n!==(n=u[0].transform.toString()))&&g(e,"transform",n)},i(u){if(!r){L(o,u);for(let c=0;c<s.length;c+=1)L(l[c]);r=!0}},o(u){j(o,u),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)j(l[c]);r=!1},d(u){u&&B(e),o&&o.d(u),Ds(l,u)}}}function ef(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(1,i=s.$$scope)},[o,i,r]}let ni=class extends Ne{constructor(e){super(),xe(this,e,ef,Jh,ye,{self:0})}};class tf{constructor(){P(this,"onClick")}}class jt extends tf{constructor(){super(),P(this,"transform"),this.transform=Mr.identity()}moveTo(e,n){this.transform.x=e,this.transform.y=n}}class Nn extends jt{constructor(...e){super(),P(this,"children"),this.children=e}boundingBox(){return se.fromUnion(...this.children.map(e=>e.boundingBox().transformed(e.transform)))}drawable(){return ni}}class zs extends ct{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),P(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e));let r=0;if(this.options.spread&&e.targetWidth!==void 0){const o=n.length-1,s=n.reduce((a,u)=>a+u.boundingBox().width,this.options.spacing*o),l=e.targetWidth-s;r=Math.max(l/(this.children.length-1),0)}const i={x:0,y:0};for(const o of n)o.moveTo(i.x,i.y),i.x+=o.boundingBox().width+this.options.spacing+r;return new ri(this.options,...n)}}class Hs extends ct{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),P(this,"children"),this.children=e}padded(e){return new Gt(this,e)}build(e={}){const n=Math.max(this.options.minWidth,this.children.reduce((o,s)=>Math.max(o,s.build(e).boundingBox().width),-1/0)),r=this.children.map(o=>o.build({...e,targetWidth:n})),i={x:0,y:0};for(const o of r)o.moveTo(i.x,i.y),i.y+=o.boundingBox().height+this.options.spacing;return new ri(this.options,...r)}}class ri extends Nn{constructor(e,...n){super(...n),this.options=e,this.options=e}boundingBox(){const e=super.boundingBox();return e.xMax=Fn(this.options.minWidth,this.options.maxWidth,e.xMax),e}}class nf{constructor(...e){P(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e)),{width:r,height:i}=se.fromUnion(...n.map(o=>o.boundingBox()));for(const o of n){const{width:s,height:l}=o.boundingBox();o.moveTo(r/2-s/2,i/2-l/2)}return new Nn(...n)}}const qs={l:8,r:8,t:10,b:10};function Xs(t,e,n,r){switch(n){case"topRight":return{x:t.xMax+r,y:t.yMin};case"bottomMiddle":return{x:t.center.x-e.width/2,y:t.yMax+r}}}let rf=class extends ct{constructor(e){super({anchor:"topRight"}),P(this,"content"),this.content=e}build(e={}){return new Ys(new Us(new Gt(this.content,qs)).with({radius:6,borderColor:"none",backgroundColor:je.background.darkGray}).build({defaultOptions:{text:{foregroundColor:"white"}}}),this.options)}};class Ys extends jt{constructor(e,n){super(),this.content=e,this.options=n}boundingBox(){return this.content.boundingBox().padded(qs)}drawable(){throw Error("not implemented")}}class Us extends ct{constructor(e){super({backgroundColor:je.white,borderColor:je.foreground.grayTertiary,borderWidth:1,borderDash:void 0,radius:void 0}),this.inner=e}content(){return this.inner}build(e={}){const n=this.inner.build(e),r=n.boundingBox();return new Ks(n,new li(r.width,r.height).with(this.options).build(e))}}class Ks extends Nn{constructor(e,n){super(n,e)}boundingBox(){return super.boundingBox()}}function of(t){let e,n;return{c(){e=U("path"),g(e,"stroke",je.foreground.grayTertiary),g(e,"stroke-width","1"),g(e,"fill","none"),g(e,"pointer-events","none"),g(e,"marker-end","url(#arrowhead)"),g(e,"d",n=new Br(t[0]).build())},m(r,i){V(r,e,i)},p(r,[i]){i&1&&n!==(n=new Br(r[0]).build())&&g(e,"d",n)},i:Y,o:Y,d(r){r&&B(e)}}}function sf(t,e,n){let r,{self:i}=e;return t.$$set=o=>{"self"in o&&n(1,i=o.self)},t.$$.update=()=>{t.$$.dirty&2&&n(0,r=i.points.map(o=>i.transform.apply(o.x,o.y)))},[r,i]}let lf=class extends Ne{constructor(e){super(),xe(this,e,sf,of,ye,{self:1})}};class af{constructor(e){this.points=e,this.points=e}build(){return new ii(this.points)}}class ii extends jt{constructor(e){super(),P(this,"points"),this.points=e}path(){const e=this.points.map(n=>this.transform.apply(n.x,n.y));return new Br(e).build()}boundingBox(){return se.fromPoints(...this.points)}drawable(){return lf}}class Zs extends Nn{}var eo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function uf(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[0].boundingBox().transformed(t[0].transform).xMin),g(e,"y",r=t[0].boundingBox().transformed(t[0].transform).yMin),g(e,"width",i=t[0].boundingBox().transformed(t[0].transform).width),g(e,"height",o=t[0].boundingBox().transformed(t[0].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.3")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[0].boundingBox().transformed(s[0].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].boundingBox().transformed(s[0].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].boundingBox().transformed(s[0].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[0].boundingBox().transformed(s[0].transform).height)&&g(e,"height",o)},d(s){s&&B(e)}}}function cf(t){let e,n,r=t[0].text+"",i,o,s,l=eo.VITE_WIREFRAME_TEXT&&uf(t);return{c(){l&&l.c(),e=tt(),n=U("text"),i=Je(r),g(n,"x",o=t[0].transform.x),g(n,"y",s=t[0].transform.y),g(n,"dominant-baseline","hanging"),g(n,"font-family",t[2]),g(n,"font-size",t[1]),g(n,"fill",t[3]),g(n,"font-weight",t[4])},m(a,u){l&&l.m(a,u),V(a,e,u),V(a,n,u),H(n,i)},p(a,[u]){eo.VITE_WIREFRAME_TEXT&&l.p(a,u),u&1&&r!==(r=a[0].text+"")&&xn(i,r),u&1&&o!==(o=a[0].transform.x)&&g(n,"x",o),u&1&&s!==(s=a[0].transform.y)&&g(n,"y",s)},i:Y,o:Y,d(a){a&&(B(e),B(n)),l&&l.d(a)}}}function hf(t,e,n){let{self:r}=e;const{fontSize:i,font:o,foregroundColor:s,fontWeight:l}=r.options;return t.$$set=a=>{"self"in a&&n(0,r=a.self)},[r,i,o,s,l]}let ff=class extends Ne{constructor(e){super(),xe(this,e,hf,cf,ye,{self:0})}};class df{constructor(){P(this,"canvas"),P(this,"ctx"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}measureTextWidth(e,n){return this.ctx.font=`${n.fontSize}px ${n.font}`,this.ctx.textBaseline="top",this.ctx.measureText(e).width}}class Qs extends ct{constructor(e){super({font:vn.family,fontSize:16,fontWeight:200}),P(this,"text"),this.text=e}padded(e){return new Gt(this,e)}build(e){var n;return new Js(this.text,{...(n=e==null?void 0:e.defaultOptions)==null?void 0:n.text,...this.options})}}class Js extends jt{constructor(e,n){super(),P(this,"text"),P(this,"options"),P(this,"width"),P(this,"height"),this.text=e,this.options=n,this.width=new df().measureTextWidth(this.text,this.options),this.height=n.fontSize}boundingBox(){return new se(0,0,this.width,this.height)}drawable(){return ff}}const oi=Symbol();function pf(t){let e,n,r;return{c(){e=U("rect"),g(e,"x",n=t[0].transform.x),g(e,"y",r=t[0].transform.y),g(e,"width",t[6]),g(e,"height",t[7]),g(e,"rx",t[1]),g(e,"fill",t[4]),g(e,"stroke",t[5]),g(e,"stroke-width",t[3]),g(e,"stroke-dasharray",t[2])},m(i,o){V(i,e,o)},p(i,[o]){o&1&&n!==(n=i[0].transform.x)&&g(e,"x",n),o&1&&r!==(r=i[0].transform.y)&&g(e,"y",r),o&2&&g(e,"rx",i[1]),o&16&&g(e,"fill",i[4]),o&32&&g(e,"stroke",i[5]),o&8&&g(e,"stroke-width",i[3]),o&4&&g(e,"stroke-dasharray",i[2])},i:Y,o:Y,d(i){i&&B(e)}}}function gf(t,e,n){let r,i,o,s,l,{self:a}=e;const u=a.boundingBox().width,c=a.boundingBox().height;return t.$$set=h=>{"self"in h&&n(0,a=h.self)},t.$$.update=()=>{t.$$.dirty&1&&n(5,{borderColor:r,backgroundColor:i,borderWidth:o,borderDash:s,radius:l}=a.options,r,(n(4,i),n(0,a)),(n(3,o),n(0,a)),(n(2,s),n(0,a)),(n(1,l),n(0,a)))},[a,l,s,o,i,r,u,c]}let el=class extends Ne{constructor(e){super(),xe(this,e,gf,pf,ye,{self:0})}};function to(t){let e,n,r,i,o=t[2].text&&no(t);return{c(){e=U("g"),n=U("circle"),o&&o.c(),g(n,"r","10"),g(n,"fill",r=t[2].color),g(n,"stroke","white"),g(n,"stroke-width","2"),g(e,"class","badge"),g(e,"transform",i=`translate(${t[3].width+t[5].x},${-t[5].y})`)},m(s,l){V(s,e,l),H(e,n),o&&o.m(e,null)},p(s,l){l&4&&r!==(r=s[2].color)&&g(n,"fill",r),s[2].text?o?o.p(s,l):(o=no(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&8&&i!==(i=`translate(${s[3].width+s[5].x},${-s[5].y})`)&&g(e,"transform",i)},d(s){s&&B(e),o&&o.d()}}}function no(t){let e,n=t[2].text+"",r;return{c(){e=U("text"),r=Je(n),g(e,"y",1),g(e,"font-family",vn.family),g(e,"font-size","10"),g(e,"text-anchor","middle"),g(e,"dominant-baseline","middle"),g(e,"fill","white")},m(i,o){V(i,e,o),H(e,r)},p(i,o){o&4&&n!==(n=i[2].text+"")&&xn(r,n)},d(i){i&&B(e)}}}function mf(t){let e,n,r,i,o,s,l,a;n=new el({props:{self:t[1]}});const u=[{self:t[0].content}];var c=t[0].content.drawable();function h(d,p){let _={};for(let v=0;v<u.length;v+=1)_=rt(_,u[v]);return p!==void 0&&p&1&&(_=rt(_,Ft(u,[{self:d[0].content}]))),{props:_}}c&&(r=Dt(c,h(t)));let f=t[2]&&to(t);return{c(){e=U("g"),he(n.$$.fragment),r&&he(r.$$.fragment),i=Je(` -->
  `),f&&f.c(),g(e,"transform",o=`translate(${t[3].xMin},${t[3].yMin})`),g(e,"cursor","pointer")},m(d,p){V(d,e,p),ae(n,e,null),r&&ae(r,e,null),H(e,i),f&&f.m(e,null),s=!0,l||(a=[le(e,"click",t[13]),le(e,"dblclick",t[14]),le(e,"mouseenter",t[6]),le(e,"mouseleave",t[7])],l=!0)},p(d,[p]){const _={};if(p&2&&(_.self=d[1]),n.$set(_),p&1&&c!==(c=d[0].content.drawable())){if(r){Le();const v=r;j(v.$$.fragment,1,0,()=>{ue(v,1)}),Re()}c?(r=Dt(c,h(d,p)),he(r.$$.fragment),L(r.$$.fragment,1),ae(r,e,i)):r=null}else if(c){const v=p&1?Ft(u,[{self:d[0].content}]):{};r.$set(v)}d[2]?f?f.p(d,p):(f=to(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||p&8&&o!==(o=`translate(${d[3].xMin},${d[3].yMin})`))&&g(e,"transform",o)},i(d){s||(L(n.$$.fragment,d),r&&L(r.$$.fragment,d),s=!0)},o(d){j(n.$$.fragment,d),r&&j(r.$$.fragment,d),s=!1},d(d){d&&B(e),ue(n),r&&ue(r),f&&f.d(),l=!1,Qe(a)}}}function wf(t,e,n){let r,i,o,s,l,a;const u=Wt();let{self:c}=e,{decoration:h}=e;const{selections:f}=Vs(oi);Ts(t,f,y=>n(12,a=y));const d={x:1,y:1};let p=!1;function _(y){n(9,p=!0),u("nodeEnter",{...y,nodeId:r})}function v(y){n(9,p=!1),u("nodeLeave",{...y,nodeId:r})}function $(y){Te.call(this,t,y)}function k(y){Te.call(this,t,y)}return t.$$set=y=>{"self"in y&&n(0,c=y.self),"decoration"in y&&n(8,h=y.decoration)},t.$$.update=()=>{t.$$.dirty&1&&n(11,r=c.nodeId),t.$$.dirty&6144&&n(10,i=a.has(r)),t.$$.dirty&1&&n(3,o=c.boundingBox()),t.$$.dirty&1&&n(2,s=c.options.badge),t.$$.dirty&1793&&n(1,l=new li(c.content.boundingBox().width,c.content.boundingBox().height).with({borderColor:je.foreground.grayTertiary,borderWidth:1,radius:6,borderDash:c.options.borderDash,backgroundColor:c.options.backgroundColor}).with({...h}).with(p?{borderColor:je.foreground.blue}:{}).with(i?{borderColor:je.foreground.blue,borderWidth:3}:{}).build())},[c,l,s,o,f,d,_,v,h,p,i,r,a,$,k]}let si=class extends Ne{constructor(e){super(),xe(this,e,wf,mf,ye,{self:0,decoration:8})}};function _f(t){return new zs(new Qs(t)).with({minWidth:30})}class bf extends ct{constructor(e,...n){super({selectable:!1,borderDash:void 0,badge:void 0,tooltip:void 0,backgroundColor:je.white,borderColor:je.foreground.grayTertiary,humanReadable:void 0,padding:{l:8,r:8,t:10,b:10}}),P(this,"contents"),this.nodeId=e,this.contents=n.length>0?n:[_f(this.options.humanReadable||this.nodeId)]}humanReadable(){return this.options.humanReadable}build(e={}){const n=[...Bh(this.contents.map(r=>new Gt(r,this.options.padding)),new rl().with({color:this.options.borderColor,dash:this.options.borderDash}))];return new tl(this.nodeId,new Hs(...n).build(e),this.options)}}class tl extends jt{constructor(e,n,r){super(),this.nodeId=e,this.content=n,this.options=r}boundingBox(){return this.content.boundingBox().transformed(this.transform)}drawable(){return si}}class li extends ct{constructor(e,n){super({backgroundColor:je.black,borderColor:"none",borderWidth:0,borderDash:void 0,radius:void 0}),P(this,"width"),P(this,"height"),this.width=e,this.height=n}padded(e){return new Gt(this,e)}build(e={}){return new ai(this.width,this.height,this.options)}}class ai extends jt{constructor(e,n,r){super(),this.width=e,this.height=n,this.options=r}boundingBox(){return new se(0,0,this.width,this.height)}drawable(){return el}}function yf(t){return t.l!==void 0}class Gt{constructor(e,n){P(this,"p"),this.inner=e,this.inner=e,this.p=yf(n)?n:{l:n,r:n,t:n,b:n}}content(){return this.inner}padding(){return this.p}build(e={}){const{l:n,t:r,r:i}=this.p,o=e.targetWidth?this.inner.build({...e,targetWidth:e.targetWidth-n-i}):this.inner.build({...e});return o.moveTo(n,r),new nl(o,this.p)}}class nl extends Nn{constructor(e,n){super(e),P(this,"padding"),this.padding=n}boundingBox(){return super.boundingBox().padded(this.padding)}drawable(){return ni}}const vf=1,kf=100;class rl extends ct{constructor(e){super({color:je.foreground.grayTertiary,dash:void 0}),P(this,"width"),this.width=e}build(e={}){const n=this.width||e.targetWidth||kf;return new ai(n,vf,{backgroundColor:this.options.color,borderColor:"none",borderWidth:0,radius:void 0,borderDash:this.options.dash})}}const mr=Object.freeze(Object.defineProperty({__proto__:null,Edge:af,EdgeDisplayObject:ii,EdgesDisplayObject:Zs,Frame:Us,FrameDisplayObject:Ks,HStack:zs,Node:bf,NodeDisplayObject:tl,Padded:Gt,PaddedDisplayObject:nl,Rect:li,RectDisplayObject:ai,Separator:rl,StackContainer:ri,Text:Qs,TextDisplayObject:Js,Theme:ca,Tooltip:rf,TooltipDisplayObject:Ys,VStack:Hs,ZStack:nf,positionTooltip:Xs},Symbol.toStringTag,{value:"Module"}));function Ef(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xf="\0",ft="\0",ro="";let Nf=class{constructor(e){P(this,"_isDirected",!0),P(this,"_isMultigraph",!1),P(this,"_isCompound",!1),P(this,"_label"),P(this,"_defaultNodeLabelFn",()=>{}),P(this,"_defaultEdgeLabelFn",()=>{}),P(this,"_nodes",{}),P(this,"_in",{}),P(this,"_preds",{}),P(this,"_out",{}),P(this,"_sucs",{}),P(this,"_edgeObjs",{}),P(this,"_edgeLabels",{}),P(this,"_nodeCount",0),P(this,"_edgeCount",0),P(this,"_parent"),P(this,"_children"),e&&(this._isDirected=e.hasOwnProperty("directed")?e.directed:!0,this._isMultigraph=e.hasOwnProperty("multigraph")?e.multigraph:!1,this._isCompound=e.hasOwnProperty("compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[ft]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(n=>Object.keys(e._in[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(e._out[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(o){r.length>1?i.setNode(o,n):i.setNode(o)}),this}setNode(e,n){return this._nodes.hasOwnProperty(e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ft,this._children[e]={},this._children[ft][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return this._nodes.hasOwnProperty(e)}removeNode(e){var n=this;if(this._nodes.hasOwnProperty(e)){var r=i=>n.removeEdge(n._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){n.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=ft;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==ft)return n}}children(e=ft){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else{if(e===ft)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return Object.keys(n)}successors(e){var n=this._sucs[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([s,l]){e(s)&&n.setNode(s,l)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,r.edge(s))});var i={};function o(s){var l=r.parent(s);return l===void 0||n.hasNode(l)?(i[s]=l,l):l in i?i[l]:o(l)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,o(s))),n}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return e.reduce(function(o,s){return i.length>1?r.setEdge(o,s,n):r.setEdge(o,s),s}),this}setEdge(){var e,n,r,i,o=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,n=s.w,r=s.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=s,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var l=sn(this._isDirected,e,n,r);if(this._edgeLabels.hasOwnProperty(l))return o&&(this._edgeLabels[l]=i),this;if(r!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[l]=o?i:this._defaultEdgeLabelFn(e,n,r);var a=Mf(this._isDirected,e,n,r);return e=a.v,n=a.w,Object.freeze(a),this._edgeObjs[l]=a,io(this._preds[n],e),io(this._sucs[e],n),this._in[n][l]=a,this._out[e][l]=a,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?wr(this._isDirected,arguments[0]):sn(this._isDirected,e,n,r);return this._edgeLabels[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?wr(this._isDirected,arguments[0]):sn(this._isDirected,e,n,r);return this._edgeLabels.hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?wr(this._isDirected,arguments[0]):sn(this._isDirected,e,n,r),o=this._edgeObjs[i];return o&&(e=o.v,n=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],oo(this._preds[n],e),oo(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.v===n):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}};function io(t,e){t[e]?t[e]++:t[e]=1}function oo(t,e){--t[e]||delete t[e]}function sn(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+ro+o+ro+(r===void 0?xf:r)}function Mf(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var l={v:i,w:o};return r&&(l.name=r),l}function wr(t,e){return sn(t,e.v,e.w,e.name)}var ui=Nf,$f="2.2.2",Cf={Graph:ui,version:$f},Tf=ui,Sf={write:Of,read:Pf};function Of(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:If(t),edges:Af(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function If(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function Af(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function Pf(t){var e=new Tf(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Lf=Rf;function Rf(t){var e={},n=[],r;function i(o){e.hasOwnProperty(o)||(e[o]=!0,r.push(o),t.successors(o).forEach(i),t.predecessors(o).forEach(i))}return t.nodes().forEach(function(o){r=[],i(o),r.length&&n.push(r)}),n}let Bf=class{constructor(){P(this,"_arr",[]),P(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return this._keyIndices.hasOwnProperty(e)}priority(e){var n=this._keyIndices[e];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,n){var r=this._keyIndices;if(e=String(e),!r.hasOwnProperty(e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:n}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(e){var n=this._arr,r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var n=this._arr,r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)this._swap(e,i),e=i}_swap(e,n){var r=this._arr,i=this._keyIndices,o=r[e],s=r[n];r[e]=s,r[n]=o,i[s.key]=e,i[o.key]=n}};var il=Bf,Df=il,ol=Vf,Ff=()=>1;function Vf(t,e,n,r){return Wf(t,String(e),n||Ff,r||function(i){return t.outEdges(i)})}function Wf(t,e,n,r){var i={},o=new Df,s,l,a=function(u){var c=u.v!==s?u.v:u.w,h=i[c],f=n(u),d=l.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);d<h.distance&&(h.distance=d,h.predecessor=s,o.decrease(c,d))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},o.add(u,c)});o.size()>0&&(s=o.removeMin(),l=i[s],l.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(a);return i}var jf=ol,Gf=zf;function zf(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=jf(t,i,e,n),r},{})}var sl=Hf;function Hf(t){var e=0,n=[],r={},i=[];function o(s){var l=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(c){r.hasOwnProperty(c)?r[c].onStack&&(l.lowlink=Math.min(l.lowlink,r[c].index)):(o(c),l.lowlink=Math.min(l.lowlink,r[c].lowlink))}),l.lowlink===l.index){var a=[],u;do u=n.pop(),r[u].onStack=!1,a.push(u);while(s!==u);i.push(a)}}return t.nodes().forEach(function(s){r.hasOwnProperty(s)||o(s)}),i}var qf=sl,Xf=Yf;function Yf(t){return qf(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var Uf=Zf,Kf=()=>1;function Zf(t,e,n){return Qf(t,e||Kf,n||function(r){return t.outEdges(r)})}function Qf(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(s){o!==s&&(r[o][s]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var l=s.v===o?s.w:s.v,a=e(s);r[o][l]={distance:a,predecessor:o}})}),i.forEach(function(o){var s=r[o];i.forEach(function(l){var a=r[l];i.forEach(function(u){var c=a[o],h=s[u],f=a[u],d=c.distance+h.distance;d<f.distance&&(f.distance=d,f.predecessor=h.predecessor)})})}),r}function ll(t){var e={},n={},r=[];function i(o){if(n.hasOwnProperty(o))throw new jr;e.hasOwnProperty(o)||(n[o]=!0,e[o]=!0,t.predecessors(o).forEach(i),delete n[o],r.push(o))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new jr;return r}class jr extends Error{constructor(){super(...arguments)}}var al=ll;ll.CycleException=jr;var so=al,Jf=ed;function ed(t){try{so(t)}catch(e){if(e instanceof so.CycleException)return!1;throw e}return!0}var ul=td;function td(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?l=>t.successors(l):l=>t.neighbors(l),i=n==="post"?nd:rd,o=[],s={};return e.forEach(l=>{if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);i(l,r,s,o)}),o}function nd(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):n.hasOwnProperty(o[0])||(n[o[0]]=!0,i.push([o[0],!0]),cl(e(o[0]),s=>i.push([s,!1])))}}function rd(t,e,n,r){for(var i=[t];i.length>0;){var o=i.pop();n.hasOwnProperty(o)||(n[o]=!0,r.push(o),cl(e(o),s=>i.push(s)))}}function cl(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var id=ul,od=sd;function sd(t,e){return id(t,e,"post")}var ld=ul,ad=ud;function ud(t,e){return ld(t,e,"pre")}var cd=ui,hd=il,fd=dd;function dd(t,e){var n=new cd,r={},i=new hd,o;function s(a){var u=a.v===o?a.w:a.v,c=i.priority(u);if(c!==void 0){var h=e(a);h<c&&(r[u]=o,i.decrease(u,h))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(a){i.add(a,Number.POSITIVE_INFINITY),n.setNode(a)}),i.decrease(t.nodes()[0],0);for(var l=!1;i.size()>0;){if(o=i.removeMin(),r.hasOwnProperty(o))n.setEdge(o,r[o]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(o).forEach(s)}return n}var pd={components:Lf,dijkstra:ol,dijkstraAll:Gf,findCycles:Xf,floydWarshall:Uf,isAcyclic:Jf,postorder:od,preorder:ad,prim:fd,tarjan:sl,topsort:al},lo=Cf,Xe={Graph:lo.Graph,json:Sf,alg:pd,version:lo.version};let gd=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return ao(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&ao(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],n=this._sentinel,r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,md)),r=r._prev;return"["+e.join(", ")+"]"}};function ao(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function md(t,e){if(t!=="_next"&&t!=="_prev")return e}var wd=gd;let _d=Xe.Graph,bd=wd;var yd=kd;let vd=()=>1;function kd(t,e){if(t.nodeCount()<=1)return[];let n=xd(t,e||vd);return Ed(n.graph,n.buckets,n.zeroIdx).flatMap(i=>t.outEdges(i.v,i.w))}function Ed(t,e,n){let r=[],i=e[e.length-1],o=e[0],s;for(;t.nodeCount();){for(;s=o.dequeue();)_r(t,e,n,s);for(;s=i.dequeue();)_r(t,e,n,s);if(t.nodeCount()){for(let l=e.length-2;l>0;--l)if(s=e[l].dequeue(),s){r=r.concat(_r(t,e,n,s,!0));break}}}return r}function _r(t,e,n,r,i){let o=i?[]:void 0;return t.inEdges(r.v).forEach(s=>{let l=t.edge(s),a=t.node(s.v);i&&o.push({v:s.v,w:s.w}),a.out-=l,Gr(e,n,a)}),t.outEdges(r.v).forEach(s=>{let l=t.edge(s),a=s.w,u=t.node(a);u.in-=l,Gr(e,n,u)}),t.removeNode(r.v),o}function xd(t,e){let n=new _d,r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{let a=n.edge(l.v,l.w)||0,u=e(l),c=a+u;n.setEdge(l.v,l.w,c),i=Math.max(i,n.node(l.v).out+=u),r=Math.max(r,n.node(l.w).in+=u)});let o=Nd(i+r+3).map(()=>new bd),s=r+1;return n.nodes().forEach(l=>{Gr(o,s,n.node(l))}),{graph:n,buckets:o,zeroIdx:s}}function Gr(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Nd(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}let hl=Xe.Graph;var fe={addBorderNode:Pd,addDummyNode:fl,asNonCompoundGraph:$d,buildLayerMatrix:Od,intersectRect:Sd,mapValues:Vd,maxRank:dl,normalizeRanks:Id,notime:Bd,partition:Ld,pick:Fd,predecessorWeights:Td,range:gl,removeEmptyRanks:Ad,simplify:Md,successorWeights:Cd,time:Rd,uniqueId:pl,zipObject:ci};function fl(t,e,n,r){let i;do i=pl(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Md(t){let e=new hl().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{let r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function $d(t){let e=new hl({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function Cd(t){let e=t.nodes().map(n=>{let r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return ci(t.nodes(),e)}function Td(t){let e=t.nodes().map(n=>{let r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return ci(t.nodes(),e)}function Sd(t,e){let n=t.x,r=t.y,i=e.x-n,o=e.y-r,s=t.width/2,l=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(o)*s>Math.abs(i)*l?(o<0&&(l=-l),a=l*i/o,u=l):(i<0&&(s=-s),a=s,u=s*o/i),{x:n+a,y:r+u}}function Od(t){let e=gl(dl(t)+1).map(()=>[]);return t.nodes().forEach(n=>{let r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function Id(t){let e=Math.min(...t.nodes().map(n=>{let r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{let r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function Ad(t){let e=Math.min(...t.nodes().map(o=>t.node(o).rank)),n=[];t.nodes().forEach(o=>{let s=t.node(o).rank-e;n[s]||(n[s]=[]),n[s].push(o)});let r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((o,s)=>{o===void 0&&s%i!==0?--r:o!==void 0&&r&&o.forEach(l=>t.node(l).rank+=r)})}function Pd(t,e,n,r){let i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),fl(t,"border",i,e)}function dl(t){return Math.max(...t.nodes().map(e=>{let n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function Ld(t,e){let n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function Rd(t,e){let n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function Bd(t,e){return e()}let Dd=0;function pl(t){var e=++Dd;return toString(t)+e}function gl(t,e,n=1){e==null&&(e=t,t=0);let r=o=>o<e;n<0&&(r=o=>e<o);const i=[];for(let o=t;r(o);o+=n)i.push(o);return i}function Fd(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function Vd(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,o])=>(r[i]=n(o,i),r),{})}function ci(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Wd=yd,jd=fe.uniqueId;var Gd={run:zd,undo:qd};function zd(t){(t.graph().acyclicer==="greedy"?Wd(t,n(t)):Hd(t)).forEach(r=>{let i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,jd("rev"))});function n(r){return i=>r.edge(i).weight}}function Hd(t){let e=[],n={},r={};function i(o){r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,t.outEdges(o).forEach(s=>{n.hasOwnProperty(s.w)?e.push(s):i(s.w)}),delete n[o])}return t.nodes().forEach(i),e}function qd(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.reversed){t.removeEdge(e);let r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}let Xd=fe;var Yd={run:Ud,undo:Zd};function Ud(t){t.graph().dummyChains=[],t.edges().forEach(e=>Kd(t,e))}function Kd(t,e){let n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,s=e.name,l=t.edge(e),a=l.labelRank;if(o===r+1)return;t.removeEdge(e);let u,c,h;for(h=0,++r;r<o;++h,++r)l.points=[],c={width:0,height:0,edgeLabel:l,edgeObj:e,rank:r},u=Xd.addDummyNode(t,"edge",c,"_d"),r===a&&(c.width=l.width,c.height=l.height,c.dummy="edge-label",c.labelpos=l.labelpos),t.setEdge(n,u,{weight:l.weight},s),h===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:l.weight},s)}function Zd(t){t.graph().dummyChains.forEach(e=>{let n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var nr={longestPath:Qd,slack:Jd};function Qd(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var o=Math.min(...t.outEdges(r).map(s=>s==null?Number.POSITIVE_INFINITY:n(s.w)-t.edge(s).minlen));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}t.sources().forEach(n)}function Jd(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var ep=Xe.Graph,Zn=nr.slack,ml=tp;function tp(t){var e=new ep({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,o;np(e,t)<r;)i=rp(e,t),o=e.hasNode(i.v)?Zn(t,i):-Zn(t,i),ip(e,t,o);return e}function np(t,e){function n(r){e.nodeEdges(r).forEach(i=>{var o=i.v,s=r===o?i.w:o;!t.hasNode(s)&&!Zn(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})}return t.nodes().forEach(n),t.nodeCount()}function rp(t,e){return e.edges().reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(o=Zn(e,i)),o<r[0]?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function ip(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var op=ml,uo=nr.slack,sp=nr.longestPath,lp=Xe.alg.preorder,ap=Xe.alg.postorder,up=fe.simplify,cp=yt;yt.initLowLimValues=fi;yt.initCutValues=hi;yt.calcCutValue=wl;yt.leaveEdge=bl;yt.enterEdge=yl;yt.exchangeEdges=vl;function yt(t){t=up(t),sp(t);var e=op(t);fi(e),hi(e,t);for(var n,r;n=bl(e);)r=yl(e,t,n),vl(e,t,n,r)}function hi(t,e){var n=ap(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>hp(t,e,r))}function hp(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=wl(t,e,n)}function wl(t,e,n){var r=t.node(n),i=r.parent,o=!0,s=e.edge(n,i),l=0;return s||(o=!1,s=e.edge(i,n)),l=s.weight,e.nodeEdges(n).forEach(a=>{var u=a.v===n,c=u?a.w:a.v;if(c!==i){var h=u===o,f=e.edge(a).weight;if(l+=h?f:-f,dp(t,n,c)){var d=t.edge(n,c).cutvalue;l+=h?-d:d}}}),l}function fi(t,e){arguments.length<2&&(e=t.nodes()[0]),_l(t,{},1,e)}function _l(t,e,n,r,i){var o=n,s=t.node(r);return e[r]=!0,t.neighbors(r).forEach(l=>{e.hasOwnProperty(l)||(n=_l(t,e,n,l,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function bl(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function yl(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),l=o,a=!1;o.lim>s.lim&&(l=s,a=!0);var u=e.edges().filter(c=>a===co(t,t.node(c.v),l)&&a!==co(t,t.node(c.w),l));return u.reduce((c,h)=>uo(e,h)<uo(e,c)?h:c)}function vl(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),fi(t),hi(t,e),fp(t,e)}function fp(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=lp(t,n);r=r.slice(1),r.forEach(i=>{var o=t.node(i).parent,s=e.edge(i,o),l=!1;s||(s=e.edge(o,i),l=!0),e.node(i).rank=e.node(o).rank+(l?s.minlen:-s.minlen)})}function dp(t,e,n){return t.hasEdge(e,n)}function co(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var pp=nr,kl=pp.longestPath,gp=ml,mp=cp,wp=_p;function _p(t){switch(t.graph().ranker){case"network-simplex":ho(t);break;case"tight-tree":yp(t);break;case"longest-path":bp(t);break;default:ho(t)}}var bp=kl;function yp(t){kl(t),gp(t)}function ho(t){mp(t)}var vp=kp;function kp(t){let e=xp(t);t.graph().dummyChains.forEach(n=>{let r=t.node(n),i=r.edgeObj,o=Ep(t,e,i.v,i.w),s=o.path,l=o.lca,a=0,u=s[a],c=!0;for(;n!==i.w;){if(r=t.node(n),c){for(;(u=s[a])!==l&&t.node(u).maxRank<r.rank;)a++;u===l&&(c=!1)}if(!c){for(;a<s.length-1&&t.node(u=s[a+1]).minRank<=r.rank;)a++;u=s[a]}t.setParent(n,u),n=t.successors(n)[0]}})}function Ep(t,e,n,r){let i=[],o=[],s=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim),a,u;a=n;do a=t.parent(a),i.push(a);while(a&&(e[a].low>s||l>e[a].lim));for(u=a,a=r;(a=t.parent(a))!==u;)o.push(a);return{path:i.concat(o.reverse()),lca:u}}function xp(t){let e={},n=0;function r(i){let o=n;t.children(i).forEach(r),e[i]={low:o,lim:n++}}return t.children().forEach(r),e}let zr=fe;var Np={run:Mp,cleanup:Tp};function Mp(t){let e=zr.addDummyNode(t,"root",{},"_root"),n=$p(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(s=>t.edge(s).minlen*=i);let o=Cp(t)+1;t.children().forEach(s=>El(t,e,i,o,r,n,s)),t.graph().nodeRankFactor=i}function El(t,e,n,r,i,o,s){let l=t.children(s);if(!l.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}let a=zr.addBorderNode(t,"_bt"),u=zr.addBorderNode(t,"_bb"),c=t.node(s);t.setParent(a,s),c.borderTop=a,t.setParent(u,s),c.borderBottom=u,l.forEach(h=>{El(t,e,n,r,i,o,h);let f=t.node(h),d=f.borderTop?f.borderTop:h,p=f.borderBottom?f.borderBottom:h,_=f.borderTop?r:2*r,v=d!==p?1:i-o[s]+1;t.setEdge(a,d,{weight:_,minlen:v,nestingEdge:!0}),t.setEdge(p,u,{weight:_,minlen:v,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,a,{weight:0,minlen:i+o[s]})}function $p(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&o.forEach(s=>n(s,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function Cp(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function Tp(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}let Sp=fe;var Op=Ip;function Ip(t){function e(n){let r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(let o=i.minRank,s=i.maxRank+1;o<s;++o)fo(t,"borderLeft","_bl",n,i,o),fo(t,"borderRight","_br",n,i,o)}}t.children().forEach(e)}function fo(t,e,n,r,i,o){let s={width:0,height:0,rank:o,borderType:e},l=i[e][o-1],a=Sp.addDummyNode(t,"border",s,n);i[e][o]=a,t.setParent(a,r),l&&t.setEdge(l,a,{weight:1})}var Ap={adjust:Pp,undo:Lp};function Pp(t){let e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&xl(t)}function Lp(t){let e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Rp(t),(e==="lr"||e==="rl")&&(Bp(t),xl(t))}function xl(t){t.nodes().forEach(e=>po(t.node(e))),t.edges().forEach(e=>po(t.edge(e)))}function po(t){let e=t.width;t.width=t.height,t.height=e}function Rp(t){t.nodes().forEach(e=>br(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(br),n.hasOwnProperty("y")&&br(n)})}function br(t){t.y=-t.y}function Bp(t){t.nodes().forEach(e=>yr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(yr),n.hasOwnProperty("x")&&yr(n)})}function yr(t){let e=t.x;t.x=t.y,t.y=e}let Dp=fe;var Fp=Vp;function Vp(t){let e={},n=t.nodes().filter(l=>!t.children(l).length),r=Math.max(...n.map(l=>t.node(l).rank)),i=Dp.range(r+1).map(()=>[]);function o(l){if(e[l])return;e[l]=!0;let a=t.node(l);i[a.rank].push(l),t.successors(l).forEach(o)}return n.sort((l,a)=>t.node(l).rank-t.node(a).rank).forEach(o),i}let Wp=fe.zipObject;var jp=Gp;function Gp(t,e){let n=0;for(let r=1;r<e.length;++r)n+=zp(t,e[r-1],e[r]);return n}function zp(t,e,n){let r=Wp(n,n.map((u,c)=>c)),i=e.flatMap(u=>t.outEdges(u).map(c=>({pos:r[c.w],weight:t.edge(c).weight})).sort((c,h)=>c.pos-h.pos)),o=1;for(;o<n.length;)o<<=1;let s=2*o-1;o-=1;let l=new Array(s).fill(0),a=0;return i.forEach(u=>{let c=u.pos+o;l[c]+=u.weight;let h=0;for(;c>0;)c%2&&(h+=l[c+1]),c=c-1>>1,l[c]+=u.weight;a+=u.weight*h}),a}var Hp=qp;function qp(t,e=[]){return e.map(n=>{let r=t.inEdges(n);if(r.length){let i=r.reduce((o,s)=>{let l=t.edge(s),a=t.node(s.v);return{sum:o.sum+l.weight*a.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}let Xp=fe;var Yp=Up;function Up(t,e){let n={};t.forEach((i,o)=>{let s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};i.barycenter!==void 0&&(s.barycenter=i.barycenter,s.weight=i.weight)}),e.edges().forEach(i=>{let o=n[i.v],s=n[i.w];o!==void 0&&s!==void 0&&(s.indegree++,o.out.push(n[i.w]))});let r=Object.values(n).filter(i=>!i.indegree);return Kp(r)}function Kp(t){let e=[];function n(i){return o=>{o.merged||(o.barycenter===void 0||i.barycenter===void 0||o.barycenter>=i.barycenter)&&Zp(i,o)}}function r(i){return o=>{o.in.push(i),--o.indegree===0&&t.push(o)}}for(;t.length;){let i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(i=>!i.merged).map(i=>Xp.pick(i,["vs","i","barycenter","weight"]))}function Zp(t,e){let n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}let Qp=fe;var Jp=eg;function eg(t,e){let n=Qp.partition(t,c=>c.hasOwnProperty("barycenter")),r=n.lhs,i=n.rhs.sort((c,h)=>h.i-c.i),o=[],s=0,l=0,a=0;r.sort(tg(!!e)),a=go(o,i,a),r.forEach(c=>{a+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,l+=c.weight,a=go(o,i,a)});let u={vs:o.flat(!0)};return l&&(u.barycenter=s/l,u.weight=l),u}function go(t,e,n){let r;for(;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function tg(t){return(e,n)=>e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}let ng=Hp,rg=Yp,ig=Jp;var og=Nl;function Nl(t,e,n,r){let i=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,l=o?o.borderRight:void 0,a={};s&&(i=i.filter(f=>f!==s&&f!==l));let u=ng(t,i);u.forEach(f=>{if(t.children(f.v).length){let d=Nl(t,f.v,n,r);a[f.v]=d,d.hasOwnProperty("barycenter")&&lg(f,d)}});let c=rg(u,n);sg(c,a);let h=ig(c,r);if(s&&(h.vs=[s,h.vs,l].flat(!0),t.predecessors(s).length)){let f=t.node(t.predecessors(s)[0]),d=t.node(t.predecessors(l)[0]);h.hasOwnProperty("barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+d.order)/(h.weight+2),h.weight+=2}return h}function sg(t,e){t.forEach(n=>{n.vs=n.vs.flatMap(r=>e[r]?e[r].vs:r)})}function lg(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}let ag=Xe.Graph,ug=fe;var cg=hg;function hg(t,e,n){let r=fg(t),i=new ag({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{let s=t.node(o),l=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,l||r),t[n](o).forEach(a=>{let u=a.v===o?a.w:a.v,c=i.edge(u,o),h=c!==void 0?c.weight:0;i.setEdge(u,o,{weight:t.edge(a).weight+h})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function fg(t){for(var e;t.hasNode(e=ug.uniqueId("_root")););return e}var dg=pg;function pg(t,e,n){let r={},i;n.forEach(o=>{let s=t.parent(o),l,a;for(;s;){if(l=t.parent(s),l?(a=r[l],r[l]=s):(a=i,i=s),a&&a!==s){e.setEdge(a,s);return}s=l}})}let gg=Fp,mg=jp,wg=og,_g=cg,bg=dg,yg=Xe.Graph,An=fe;var vg=Ml;function Ml(t,e){if(e&&typeof e.customOrder=="function"){e.customOrder(t,Ml);return}let n=An.maxRank(t),r=mo(t,An.range(1,n+1),"inEdges"),i=mo(t,An.range(n-1,-1,-1),"outEdges"),o=gg(t);if(wo(t,o),e&&e.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,l;for(let a=0,u=0;u<4;++a,++u){kg(a%2?r:i,a%4>=2),o=An.buildLayerMatrix(t);let c=mg(t,o);c<s&&(u=0,l=Object.assign({},o),s=c)}wo(t,l)}function mo(t,e,n){return e.map(function(r){return _g(t,r,n)})}function kg(t,e){let n=new yg;t.forEach(function(r){let i=r.graph().root,o=wg(r,i,n,e);o.vs.forEach((s,l)=>r.node(s).order=l),bg(r,n,o.vs)})}function wo(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}let Eg=Xe.Graph,mn=fe;var xg={positionX:$g,findType1Conflicts:$l,findType2Conflicts:Cl,addConflict:di,hasConflict:Tl,verticalAlignment:Sl,horizontalCompaction:Ol,alignCoordinates:Al,findSmallestWidthAlignment:Il,balance:Pl};function $l(t,e){let n={};function r(i,o){let s=0,l=0,a=i.length,u=o[o.length-1];return o.forEach((c,h)=>{let f=Ng(t,c),d=f?t.node(f).order:a;(f||c===u)&&(o.slice(l,h+1).forEach(p=>{t.predecessors(p).forEach(_=>{let v=t.node(_),$=v.order;($<s||d<$)&&!(v.dummy&&t.node(p).dummy)&&di(n,_,p)})}),l=h+1,s=d)}),o}return e.length&&e.reduce(r),n}function Cl(t,e){let n={};function r(o,s,l,a,u){let c;mn.range(s,l).forEach(h=>{c=o[h],t.node(c).dummy&&t.predecessors(c).forEach(f=>{let d=t.node(f);d.dummy&&(d.order<a||d.order>u)&&di(n,f,c)})})}function i(o,s){let l=-1,a,u=0;return s.forEach((c,h)=>{if(t.node(c).dummy==="border"){let f=t.predecessors(c);f.length&&(a=t.node(f[0]).order,r(s,u,h,l,a),u=h,l=a)}r(s,u,s.length,a,o.length)}),s}return e.length&&e.reduce(i),n}function Ng(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function di(t,e,n){if(e>n){let i=e;e=n,n=i}let r=t[e];r||(t[e]=r={}),r[n]=!0}function Tl(t,e,n){if(e>n){let r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function Sl(t,e,n,r){let i={},o={},s={};return e.forEach(l=>{l.forEach((a,u)=>{i[a]=a,o[a]=a,s[a]=u})}),e.forEach(l=>{let a=-1;l.forEach(u=>{let c=r(u);if(c.length){c=c.sort((f,d)=>s[f]-s[d]);let h=(c.length-1)/2;for(let f=Math.floor(h),d=Math.ceil(h);f<=d;++f){let p=c[f];o[u]===u&&a<s[p]&&!Tl(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],a=s[p])}}})}),{root:i,align:o}}function Ol(t,e,n,r,i){let o={},s=Mg(t,e,n,i),l=i?"borderLeft":"borderRight";function a(h,f){let d=s.nodes(),p=d.pop(),_={};for(;p;)_[p]?h(p):(_[p]=!0,d.push(p),d=d.concat(f(p))),p=d.pop()}function u(h){o[h]=s.inEdges(h).reduce((f,d)=>Math.max(f,o[d.v]+s.edge(d)),0)}function c(h){let f=s.outEdges(h).reduce((p,_)=>Math.min(p,o[_.w]-s.edge(_)),Number.POSITIVE_INFINITY),d=t.node(h);f!==Number.POSITIVE_INFINITY&&d.borderType!==l&&(o[h]=Math.max(o[h],f))}return a(u,s.predecessors.bind(s)),a(c,s.successors.bind(s)),Object.keys(r).forEach(h=>o[h]=o[n[h]]),o}function Mg(t,e,n,r){let i=new Eg,o=t.graph(),s=Cg(o.nodesep,o.edgesep,r);return e.forEach(l=>{let a;l.forEach(u=>{let c=n[u];if(i.setNode(c),a){var h=n[a],f=i.edge(h,c);i.setEdge(h,c,Math.max(s(t,u,a),f||0))}a=u})}),i}function Il(t,e){return Object.values(e).reduce((n,r)=>{let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([l,a])=>{let u=Tg(t,l)/2;i=Math.max(a+u,i),o=Math.min(a-u,o)});const s=i-o;return s<n[0]&&(n=[s,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function Al(t,e){let n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(s=>{let l=o+s,a=t[l];if(a===e)return;let u=Object.values(a),c=r-Math.min(...u);s!=="l"&&(c=i-Math.max(...u)),c&&(t[l]=mn.mapValues(a,h=>h+c))})})}function Pl(t,e){return mn.mapValues(t.ul,(n,r)=>{if(e)return t[e.toLowerCase()][r];{let i=Object.values(t).map(o=>o[r]).sort((o,s)=>o-s);return(i[1]+i[2])/2}})}function $g(t){let e=mn.buildLayerMatrix(t),n=Object.assign($l(t,e),Cl(t,e)),r={},i;["u","d"].forEach(s=>{i=s==="u"?e:Object.values(e).reverse(),["l","r"].forEach(l=>{l==="r"&&(i=i.map(h=>Object.values(h).reverse()));let a=(s==="u"?t.predecessors:t.successors).bind(t),u=Sl(t,i,n,a),c=Ol(t,i,u.root,u.align,l==="r");l==="r"&&(c=mn.mapValues(c,h=>-h)),r[s+l]=c})});let o=Il(t,r);return Al(r,o),Pl(r,t.graph().align)}function Cg(t,e,n){return(r,i,o)=>{let s=r.node(i),l=r.node(o),a=0,u;if(a+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(s.dummy?e:t)/2,a+=(l.dummy?e:t)/2,a+=l.width/2,l.hasOwnProperty("labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function Tg(t,e){return t.node(e).width}let Ll=fe,Sg=xg.positionX;var Og=Ig;function Ig(t){t=Ll.asNonCompoundGraph(t),Ag(t),Object.entries(Sg(t)).forEach(([e,n])=>t.node(e).x=n)}function Ag(t){let e=Ll.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(i=>{const o=i.reduce((s,l)=>{const a=t.node(l).height;return s>a?s:a},0);i.forEach(s=>t.node(s).y=r+o/2),r+=o+n})}let _o=Gd,bo=Yd,Pg=wp,Lg=fe.normalizeRanks,Rg=vp,Bg=fe.removeEmptyRanks,yo=Np,Dg=Op,vo=Ap,Fg=vg,Vg=Og,Ge=fe,Wg=Xe.Graph;var jg=Gg;function Gg(t,e){let n=e&&e.debugTiming?Ge.time:Ge.notime;n("layout",()=>{let r=n("  buildLayoutGraph",()=>Jg(t));n("  runLayout",()=>zg(r,n)),n("  updateInputGraph",()=>Hg(t,r))})}function zg(t,e){e("    makeSpaceForEdgeLabels",()=>em(t)),e("    removeSelfEdges",()=>um(t)),e("    acyclic",()=>_o.run(t)),e("    nestingGraph.run",()=>yo.run(t)),e("    rank",()=>Pg(Ge.asNonCompoundGraph(t))),e("    injectEdgeLabelProxies",()=>tm(t)),e("    removeEmptyRanks",()=>Bg(t)),e("    nestingGraph.cleanup",()=>yo.cleanup(t)),e("    normalizeRanks",()=>Lg(t)),e("    assignRankMinMax",()=>nm(t)),e("    removeEdgeLabelProxies",()=>rm(t)),e("    normalize.run",()=>bo.run(t)),e("    parentDummyChains",()=>Rg(t)),e("    addBorderSegments",()=>Dg(t)),e("    order",()=>Fg(t)),e("    insertSelfEdges",()=>cm(t)),e("    adjustCoordinateSystem",()=>vo.adjust(t)),e("    position",()=>Vg(t)),e("    positionSelfEdges",()=>hm(t)),e("    removeBorderNodes",()=>am(t)),e("    normalize.undo",()=>bo.undo(t)),e("    fixupEdgeLabelCoords",()=>sm(t)),e("    undoCoordinateSystem",()=>vo.undo(t)),e("    translateGraph",()=>im(t)),e("    assignNodeIntersects",()=>om(t)),e("    reversePoints",()=>lm(t)),e("    acyclic.undo",()=>_o.undo(t))}function Hg(t,e){t.nodes().forEach(n=>{let r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{let r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}let qg=["nodesep","edgesep","ranksep","marginx","marginy"],Xg={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Yg=["acyclicer","ranker","rankdir","align"],Ug=["width","height"],ko={width:0,height:0},Kg=["minlen","weight","width","height","labeloffset"],Zg={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Qg=["labelpos"];function Jg(t){let e=new Wg({multigraph:!0,compound:!0}),n=kr(t.graph());return e.setGraph(Object.assign({},Xg,vr(n,qg),Ge.pick(n,Yg))),t.nodes().forEach(r=>{let i=kr(t.node(r));const o=vr(i,Ug);Object.keys(ko).forEach(s=>{o[s]===void 0&&(o[s]=ko[s])}),e.setNode(r,o),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{let i=kr(t.edge(r));e.setEdge(r,Object.assign({},Zg,vr(i,Kg),Ge.pick(i,Qg)))}),e}function em(t){let e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{let r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function tm(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.width&&n.height){let r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};Ge.addDummyNode(t,"edge-proxy",o,"_ep")}})}function nm(t){let e=0;t.nodes().forEach(n=>{let r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function rm(t){t.nodes().forEach(e=>{let n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function im(t){let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,l=o.marginy||0;function a(u){let c=u.x,h=u.y,f=u.width,d=u.height;e=Math.min(e,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,h-d/2),i=Math.max(i,h+d/2)}t.nodes().forEach(u=>a(t.node(u))),t.edges().forEach(u=>{let c=t.edge(u);c.hasOwnProperty("x")&&a(c)}),e-=s,r-=l,t.nodes().forEach(u=>{let c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{let c=t.edge(u);c.points.forEach(h=>{h.x-=e,h.y-=r}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=r)}),o.width=n-e+s,o.height=i-r+l}function om(t){t.edges().forEach(e=>{let n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(Ge.intersectRect(r,o)),n.points.push(Ge.intersectRect(i,s))})}function sm(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function lm(t){t.edges().forEach(e=>{let n=t.edge(e);n.reversed&&n.points.reverse()})}function am(t){t.nodes().forEach(e=>{if(t.children(e).length){let n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),s=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function um(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function cm(t){var e=Ge.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,o)=>{var s=t.node(i);s.order=o+r,(s.selfEdges||[]).forEach(l=>{Ge.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function hm(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,l=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-l},{x:i+5*s/6,y:o-l},{x:i+s,y:o},{x:i+5*s/6,y:o+l},{x:i+2*s/3,y:o+l}],n.label.x=n.x,n.label.y=n.y}})}function vr(t,e){return Ge.mapValues(Ge.pick(t,e),Number)}function kr(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}let fm=fe,dm=Xe.Graph;var pm={debugOrdering:gm};function gm(t){let e=fm.buildLayerMatrix(t),n=new dm({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(r=>{n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(r=>n.setEdge(r.v,r.w,{},r.name)),e.forEach((r,i)=>{let o="layer"+i;n.setNode(o,{rank:"same"}),r.reduce((s,l)=>(n.setEdge(s,l,{style:"invis"}),l))}),n}var mm="1.1.2",Gn={graphlib:Xe,layout:jg,debug:pm,util:{time:fe.time,notime:fe.notime},version:mm};const Eo=Ef(Gn);class wm{compute(e,n){const r=new Eo.graphlib.Graph;r.setGraph({}),r.setDefaultEdgeLabel(()=>({})),r.setDefaultNodeLabel(()=>({}));const i=new Map,o=new Map,s=new Map,l=new Map,a=k=>{const y=e.childrenT(k);if(y.length===0){const w=e.node(k).build(),{width:b,height:C}=w.boundingBox();r.setNode(k,{width:b,height:C}),i.set(k,w)}else{if(!n.has(k)&&k!==e.root()){const w=e.node(k);s.set(k,{boundingBox:{},name:w.humanReadable()||k})}for(const w of y)if(n.has(w))for(const b of e.hierarchyPreorder(w)){const C=e.node(w).build();l.set(b,w);const{width:E,height:I}=C.boundingBox();r.setNode(w,{width:E,height:I}),o.set(w,C)}else a(w)}};a(e.root());for(const{v:k,w:y}of e.edges()){const w=l.get(k)||k,b=l.get(y)||y;w!==b&&r.setEdge(w,b)}const u=performance.now();Eo.layout(r);const c=performance.now(),{width:h,height:f}=r.graph(),d=new se(0,0,h,f);for(const[k,y]of i.entries()){const{x:w,y:b,width:C,height:E}=r.node(k);y.moveTo(w-C/2,b-E/2)}for(const[k,y]of o.entries()){const{x:w,y:b,width:C,height:E}=r.node(k);y.moveTo(w-C/2,b-E/2)}const p=20;for(const k of e.hierarchyPostorder()){const y=s.get(k);if(y!==void 0){const w=e.childrenT(k).reduce((b,C)=>{var E,I,D;const G=(E=i.get(C))==null?void 0:E.boundingBox();G!==void 0&&b.push(G);const K=(I=o.get(C))==null?void 0:I.boundingBox();K!==void 0&&b.push(K);const W=(D=s.get(C))==null?void 0:D.boundingBox;if(W!==void 0&&C!==k){const T=2*-p+10,M=se.fromCenterAndDimension(W.center,W.width+T,W.height+T);b.push(M)}return b},[]);y.boundingBox=se.fromUnion(...w).padded(p)}}const _=r.edges().map(k=>{const{points:y}=r.edge(k);return[{from:k.v,to:k.w},new ii(y)]}).map(([k,y])=>y),v={layoutTimeMs:c-u},$=new Zs(..._);return{nodes:i,collapsed:o,expanded:s,edges:$,boundingBox:d.union($.boundingBox()),stats:v}}}class pi extends Gn.graphlib.Graph{constructor(e){super({compound:!0}),e!==void 0?Object.assign(this,e):(this.setGraph({}),this.setDefaultEdgeLabel(()=>({})))}setNodeWithParent(e,n,r){this.setNode(e,n),this.setParent(e,r)}parents(e){const n=[];let r=this.parent(e);for(;r!==void 0;)n.push(r),r=this.parent(r);return n}hierarchyPreorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{n.push(o);for(const s of this.childrenT(o))i(s)};for(const o of this.childrenT(r))i(o);return n}hierarchyPostorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{for(const s of this.childrenT(o))i(s);n.push(o)};for(const o of this.childrenT(r))i(o);return n}childrenT(e){return this.children(e)}parent(e){return super.parent(e)}nodes(){return super.nodes()}modules(){return this.nodes().filter(e=>this.childrenT(e).length>0)}edges(){return super.edges()}root(){return"\0"}toJson(){return Gn.graphlib.json.write(this)}static readJson(e){return new pi(Gn.graphlib.json.read(e))}}function _m(t,e,n,r){const i=new Set,o=new Set;if(r.expand)for(const l of e)for(const a of t.parents(l))n.has(a)?o.add(a):i.add(a);const s=new Set;if(r.collapseOthers)for(const l of t.modules())!o.has(l)&&!n.has(l)&&!i.has(l)&&s.add(l);return{collapse:s,expand:o}}function bm(t,e){const n=r=>e.has(r)||t.childrenT(r).length===0?1:t.childrenT(r).reduce((i,o)=>i+n(o),0);return t.childrenT(t.root()).reduce((r,i)=>r+n(i),0)}function ym(t){let e;return{c(){e=U("path"),g(e,"d","M20.441,59.9614212 C21.0957895,59.9614212 22.7266842,56.6764211 22.7266842,52.7482369 L22.7266842,38.6593685 L18.182579,38.6593685 L18.182579,52.7482369 C18.182579,56.6764211 19.8134737,59.9614212 20.441,59.9614212 Z M4.26163159,40.7638948 L36.6204211,40.7638948 C38.9460001,40.7638948 40.4145264,39.317579 40.4145264,37.1453685 C40.4145264,29.5821053 31.9740001,21.9558421 20.441,21.9558421 C8.93526317,21.9558421 0.494736843,29.5821053 0.494736843,37.1453685 C0.494736843,39.317579 1.96884211,40.7638948 4.26163159,40.7638948 Z M5.2911579,36.8756316 C4.71700001,36.8756316 4.4541579,36.5583159 4.56310527,35.8480001 C5.1023158,31.2280527 11.0429474,25.7078948 20.441,25.7078948 C29.8718948,25.7078948 35.7796843,31.2280527 36.346158,35.8480001 C36.4551053,36.5583159 36.1650001,36.8756316 35.5908948,36.8756316 L5.2911579,36.8756316 Z M3.74989474,2.76857895 C3.74989474,3.55452632 4.0611579,4.40605264 4.72705264,5.26868422 C6.03868422,7.0183158 9.13778949,9.44489475 12.3810527,11.5798421 L11.4523158,25.1263685 L15.5584737,25.1263685 L16.4983158,9.67205265 C16.5311053,9.30078949 16.4711053,9.17515791 16.2254211,9.04952633 C12.3641579,7.09368422 9.37084212,4.73952632 9.18573686,4.22889474 C8.96778949,3.90094737 9.18626317,3.66589474 9.48189475,3.66589474 L31.4273685,3.66589474 C31.7013158,3.66589474 31.9142106,3.90094737 31.7291053,4.22889474 C31.5112106,4.73952632 28.5451053,7.09368422 24.6621579,9.04952633 C24.4437369,9.17515791 24.3836843,9.30078949 24.4164737,9.67205265 L25.3563685,25.1263685 L29.4569474,25.1263685 L28.501,11.5798421 C31.7497895,9.44489475 34.8488948,7.0183158 36.1605264,5.26868422 C36.8481053,4.40605264 37.1593685,3.55452632 37.1593685,2.76857895 C37.1593685,1.20726316 35.9421053,0.0500000001 34.1512632,0.0500000001 L6.75800001,0.0500000001 C4.93989475,0.0500000001 3.74989474,1.20726316 3.74989474,2.76857895 Z"),g(e,"transform","translate(11.737 2)"),g(e,"fill",t[0]),g(e,"stroke",t[1])},m(n,r){V(n,e,r)},p(n,[r]){r&1&&g(e,"fill",n[0]),r&2&&g(e,"stroke",n[1])},i:Y,o:Y,d(n){n&&B(e)}}}function vm(t,e,n){let{fill:r="white"}=e,{stroke:i="white"}=e;return t.$$set=o=>{"fill"in o&&n(0,r=o.fill),"stroke"in o&&n(1,i=o.stroke)},[r,i]}class km extends Ne{constructor(e){super(),xe(this,e,vm,ym,ye,{fill:0,stroke:1})}}function Em(t){let e,n,r,i,o,s,l,a,u,c,h,f,d;const p=[{self:t[0].content}];var _=t[0].content.drawable();function v($,k){let y={};for(let w=0;w<p.length;w+=1)y=rt(y,p[w]);return k!==void 0&&k&1&&(y=rt(y,Ft(p,[{self:$[0].content}]))),{props:y}}return _&&(n=Dt(_,v(t))),u=new km({}),{c(){e=U("g"),n&&he(n.$$.fragment),r=U("g"),i=U("rect"),s=U("text"),l=Je("Pin"),a=U("g"),he(u.$$.fragment),g(i,"x","-37"),g(i,"y","-10"),g(i,"width","50"),g(i,"height","20"),g(i,"rx","10"),g(i,"fill",o=t[1]==="pinned"?"orange":"rgb(51,51,51)"),g(i,"stroke","white"),g(i,"stroke-width","2"),g(s,"x","-18"),g(s,"y",1),g(s,"font-family",vn.family),g(s,"font-size","10"),g(s,"text-anchor","middle"),g(s,"dominant-baseline","middle"),g(s,"fill","white"),g(a,"transform","scale(0.2) translate(-32 -30)"),g(r,"transform",c=`translate(${t[2].width+t[6].x},${-t[6].y})`),g(r,"cursor","pointer"),g(e,"role","tooltip")},m($,k){V($,e,k),n&&ae(n,e,null),H(e,r),H(r,i),H(r,s),H(s,l),H(r,a),ae(u,a,null),h=!0,f||(d=[le(r,"click",t[3]),le(r,"keydown",t[3]),le(e,"mouseenter",t[4]),le(e,"mouseleave",t[5])],f=!0)},p($,[k]){if(k&1&&_!==(_=$[0].content.drawable())){if(n){Le();const y=n;j(y.$$.fragment,1,0,()=>{ue(y,1)}),Re()}_?(n=Dt(_,v($,k)),he(n.$$.fragment),L(n.$$.fragment,1),ae(n,e,r)):n=null}else if(_){const y=k&1?Ft(p,[{self:$[0].content}]):{};n.$set(y)}(!h||k&2&&o!==(o=$[1]==="pinned"?"orange":"rgb(51,51,51)"))&&g(i,"fill",o),(!h||k&4&&c!==(c=`translate(${$[2].width+$[6].x},${-$[6].y})`))&&g(r,"transform",c)},i($){h||(n&&L(n.$$.fragment,$),L(u.$$.fragment,$),h=!0)},o($){n&&j(n.$$.fragment,$),j(u.$$.fragment,$),h=!1},d($){$&&B(e),n&&ue(n),ue(u),f=!1,Qe(d)}}}function xm(t,e,n){let r,{nodeId:i}=e,{tooltip:o}=e,{state:s}=e;const l=Wt();function a(f){f.stopPropagation(),l("togglePin",{nodeId:i})}function u(f){l("nodeEnter",{...f,nodeId:i})}function c(f){l("nodeLeave",{...f,nodeId:i})}const h={x:1,y:1};return t.$$set=f=>{"nodeId"in f&&n(7,i=f.nodeId),"tooltip"in f&&n(0,o=f.tooltip),"state"in f&&n(1,s=f.state)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.boundingBox())},[o,s,r,a,u,c,h,i]}class Nm extends Ne{constructor(e){super(),xe(this,e,xm,Em,ye,{nodeId:7,tooltip:0,state:1})}}const Rl=300;function Mm(t,e,n){function r(){t.update(i=>(i.set(e,{tooltip:n,state:"active"}),i))}return window.setTimeout(r,Rl)}function Bl(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&r.state!=="pinned"&&(r.state!=="active"&&window.clearTimeout(r.state),n.set(e,{...r,state:"active"})),n})}function Dl(t,e){function n(){t.update(r=>(r.delete(e),r))}t.update(r=>{const i=r.get(e);return i!==void 0&&i.state!=="pinned"&&r.set(e,{...i,state:window.setTimeout(n,Rl)}),r})}function $m(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&(r.state==="pinned"?n.set(e,{...r,state:"active"}):n.set(e,{...r,state:"pinned"})),n})}function xo(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1].position,r[11]=e[n][1].tooltip,r[12]=e[n][1].state,r}function No(t,e){let n,r,i,o;return r=new Nm({props:{nodeId:e[9],tooltip:e[11],state:e[12]}}),r.$on("mouseenter",e[2]),r.$on("mouseleave",e[3]),r.$on("togglePin",e[4]),r.$on("nodeEnter",e[7]),r.$on("nodeLeave",e[8]),{key:t,first:null,c(){n=U("g"),he(r.$$.fragment),g(n,"transform",i=`translate(${e[10].x},${e[10].y})`),this.first=n},m(s,l){V(s,n,l),ae(r,n,null),o=!0},p(s,l){e=s;const a={};l&1&&(a.nodeId=e[9]),l&1&&(a.tooltip=e[11]),l&1&&(a.state=e[12]),r.$set(a),(!o||l&1&&i!==(i=`translate(${e[10].x},${e[10].y})`))&&g(n,"transform",i)},i(s){o||(L(r.$$.fragment,s),o=!0)},o(s){j(r.$$.fragment,s),o=!1},d(s){s&&B(n),ue(r)}}}function Cm(t){let e=[],n=new Map,r,i,o=Ve(t[0]);const s=l=>l[9];for(let l=0;l<o.length;l+=1){let a=xo(t,o,l),u=s(a);n.set(u,e[l]=No(u,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=We()},m(l,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,a);V(l,r,a),i=!0},p(l,[a]){a&29&&(o=Ve(l[0]),Le(),e=jn(e,a,s,1,l,o,n,r.parentNode,Wn,No,r,xo),Re())},i(l){if(!i){for(let a=0;a<o.length;a+=1)L(e[a]);i=!0}},o(l){for(let a=0;a<e.length;a+=1)j(e[a]);i=!1},d(l){l&&B(r);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}const Tm=20;function Sm(t,e,n){let r,i;const{tooltips:o}=Vs(oi);Ts(t,o,f=>n(6,i=f));let{nodeLayouts:s}=e;function l(f){Bl(o,f.detail.nodeId)}function a(f){Dl(o,f.detail.nodeId)}function u(f){$m(o,f.detail.nodeId)}function c(f){Te.call(this,t,f)}function h(f){Te.call(this,t,f)}return t.$$set=f=>{"nodeLayouts"in f&&n(5,s=f.nodeLayouts)},t.$$.update=()=>{t.$$.dirty&96&&n(0,r=[...i.entries()].filter(([f])=>s.has(f)).map(([f,{tooltip:d,state:p}])=>{var _;const v=(_=s.get(f))==null?void 0:_.boundingBox(),$=Xs(v,d.boundingBox(),d.options.anchor,Tm);return[f,{position:$,tooltip:d,state:p}]}))},[r,o,l,a,u,s,i,c,h]}class Om extends Ne{constructor(e){super(),xe(this,e,Sm,Cm,ye,{nodeLayouts:5})}}function Im(t){let e,n,r,i,o,s,l,a,u;return{c(){e=U("g"),n=U("rect"),o=U("text"),s=Je(t[0]),g(n,"width",r=t[1].width),g(n,"height",i=t[1].height),g(n,"fill","rgb(250,250,250)"),g(n,"stroke","rgb(134, 134, 139)"),g(n,"stroke-width","1"),g(n,"rx","6"),g(n,"class","svelte-76qmi8"),g(o,"y","-2"),g(o,"font-family",vn.family),g(o,"class","svelte-76qmi8"),g(e,"class","expand svelte-76qmi8"),g(e,"transform",l=`translate(${t[1].xMin},${t[1].yMin})`)},m(c,h){V(c,e,h),H(e,n),H(e,o),H(o,s),a||(u=[le(e,"click",t[5]),le(e,"dblclick",t[6]),le(e,"mouseenter",t[2]),le(e,"mouseleave",t[3])],a=!0)},p(c,[h]){h&2&&r!==(r=c[1].width)&&g(n,"width",r),h&2&&i!==(i=c[1].height)&&g(n,"height",i),h&1&&xn(s,c[0]),h&2&&l!==(l=`translate(${c[1].xMin},${c[1].yMin})`)&&g(e,"transform",l)},i:Y,o:Y,d(c){c&&B(e),a=!1,Qe(u)}}}function Am(t,e,n){const r=Wt();let{nodeId:i}=e,{name:o}=e,{boundingBox:s}=e;function l(){r("nodeEnter",{nodeId:i})}function a(){r("nodeLeave",{nodeId:i})}function u(h){Te.call(this,t,h)}function c(h){Te.call(this,t,h)}return t.$$set=h=>{"nodeId"in h&&n(4,i=h.nodeId),"name"in h&&n(0,o=h.name),"boundingBox"in h&&n(1,s=h.boundingBox)},[o,s,l,a,i,u,c]}class Pm extends Ne{constructor(e){super(),xe(this,e,Am,Im,ye,{nodeId:4,name:0,boundingBox:1})}}class gi{constructor(e,n,r={x:0,y:0},i=1){this.width=e,this.height=n,this.cameraPos=r,this.cameraScale=i}viewToWorld(){return Mr.identity().translate(this.cameraPos.x,this.cameraPos.y)}worldToView(){return this.viewToWorld().inverse()}screenToView(){return Mr.identity().scale(1/this.cameraScale).translate(-this.width/2,-this.height/2)}viewToScreen(){return this.screenToView().inverse()}worldToScreen(){const e=this.worldToView();return this.viewToScreen().scale(e.k).translate(e.x,e.y)}screenToWorld(){return this.worldToScreen().inverse()}screenWidth(){return this.width}screenHeight(){return this.height}moveBy(e,n){this.cameraPos.x+=e,this.cameraPos.y+=n}moveTo(e,n){this.cameraPos.x=e,this.cameraPos.y=n}resize(e,n){this.width=e,this.height=n}center(){return this.cameraPos}scale(){return this.cameraScale}scaleBy(e){this.cameraScale*=e}scaleTo(e){this.cameraScale=e}fit(e){const{x:n,y:r}=e.center;this.moveTo(n,r);const i=Math.min(this.width/e.width,this.height/e.height);this.scaleTo(i||1)}world(){const e=this.screenToWorld().apply(0,0),n=this.screenToWorld().apply(this.width,this.height);return new se(e.x,e.y,n.x,n.y)}viewBox(){const e=this.world();return`${e.xMin} ${e.yMin} ${e.width} ${e.height}`}}class Lm{constructor(e){P(this,"scaleMin",Number.MIN_VALUE),P(this,"scaleMax",Number.MAX_VALUE),P(this,"boundingBox",se.infinity()),this.viewport=e}setViewport(e){this.viewport=e}setScaleExtent(e){return e.min!==void 0&&(this.scaleMin=e.min),e.max!==void 0&&(this.scaleMax=e.max),this}scaleExtent(){return{min:this.scaleMin,max:this.scaleMax}}setTranslationExtent(e){return e.xMin!==void 0&&(this.boundingBox.xMin=e.xMin),e.yMin!==void 0&&(this.boundingBox.yMin=e.yMin),e.xMax!==void 0&&(this.boundingBox.xMax=e.xMax),e.yMax!==void 0&&(this.boundingBox.yMax=e.yMax),this}translationExtent(){return this.boundingBox}limitScale(e){return Fn(this.scaleMin,this.scaleMax,e)}limitTranslation(e,n){return e=Fn(this.boundingBox.xMin,this.boundingBox.xMax,e),n=Fn(this.boundingBox.yMin,this.boundingBox.yMax,n),{x:e,y:n}}scaleBy(e){const n=this.limitScale(this.viewport.scale()*e);this.viewport.scaleTo(n)}scaleTo(e){const n=this.limitScale(e);this.viewport.scaleTo(n)}moveBy(e,n){const{x:r,y:i}=this.viewport.center(),o=this.limitTranslation(r+e,i+n);this.viewport.moveTo(o.x,o.y)}moveTo(e,n){const r=this.limitTranslation(e,n);this.viewport.moveTo(r.x,r.y)}}const $t=[];function Hr(t,e=Y){let n;const r=new Set;function i(l){if(ye(t,l)&&(t=l,n)){const a=!$t.length;for(const u of r)u[1](),$t.push(u,t);if(a){for(let u=0;u<$t.length;u+=2)$t[u][0]($t[u+1]);$t.length=0}}}function o(l){i(l(t))}function s(l,a=Y){const u=[l,a];return r.add(u),r.size===1&&(n=e(i,o)||Y),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}function Mo(t){return Object.prototype.toString.call(t)==="[object Date]"}function Rm(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function qr(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,o)=>qr(t[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Mo(t)&&Mo(e)){t=t.getTime(),e=e.getTime();const o=e-t;return s=>new Date(t+s*o)}const r=Object.keys(e),i={};return r.forEach(o=>{i[o]=qr(t[o],e[o])}),o=>{const s={};return r.forEach(l=>{s[l]=i[l](o)}),s}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Bm(t,e={}){const n=Hr(t);let r,i=t;function o(s,l){if(t==null)return n.set(t=s),Promise.resolve();i=s;let a=r,u=!1,{delay:c=0,duration:h=400,easing:f=Dh,interpolate:d=qr}=rt(rt({},e),l);if(h===0)return a&&(a.abort(),a=null),n.set(t=i),Promise.resolve();const p=Vh()+c;let _;return r=Wh(v=>{if(v<p)return!0;u||(_=d(t,s),typeof h=="function"&&(h=h(t,s)),u=!0),a&&(a.abort(),a=null);const $=v-p;return $>h?(n.set(t=s),!1):(n.set(t=_(f($/h))),!0)}),r.promise}return{set:o,update:(s,l)=>o(s(i,t),l),subscribe:n.subscribe}}function Dm(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[0].xMin),g(e,"y",r=t[0].yMin),g(e,"width",i=t[0].width),g(e,"height",o=t[0].height),g(e,"fill","grey"),g(e,"opacity","0.2")},m(s,l){V(s,e,l)},p(s,[l]){l&1&&n!==(n=s[0].xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].width)&&g(e,"width",i),l&1&&o!==(o=s[0].height)&&g(e,"height",o)},i:Y,o:Y,d(s){s&&B(e)}}}function Fm(t,e,n){let r,{start:i}=e,{end:o}=e;return t.$$set=s=>{"start"in s&&n(1,i=s.start),"end"in s&&n(2,o=s.end)},t.$$.update=()=>{t.$$.dirty&6&&n(0,r=se.fromPoints(i,o))},[r,i,o]}class Vm extends Ne{constructor(e){super(),xe(this,e,Fm,Dm,ye,{start:1,end:2})}}function Wm(t){let e,n,r;return{c(){e=U("defs"),n=U("marker"),r=U("path"),g(r,"d","M 0 0 L 10 5 L 0 10 L 4 5 z"),g(r,"fill","var(--gray-tertiary)"),Gh(r,"stroke-width","1"),g(n,"id","arrowhead"),g(n,"viewBox","0 0 10 10"),g(n,"refX","9"),g(n,"refY","5"),g(n,"markerUnits","strokeWidth"),g(n,"markerWidth","10"),g(n,"markerHeight","12"),g(n,"orient","auto")},m(i,o){V(i,e,o),H(e,n),H(n,r)},p:Y,d(i){i&&B(e)}}}function jm(t){let e;const n=t[1].default,r=Ss(n,t,t[2],null),i=r||Wm();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&4)&&As(r,n,o,o[2],e?Is(n,o[2],s,null):Ps(o[2]),null)},i(o){e||(L(i,o),e=!0)},o(o){j(i,o),e=!1},d(o){i&&i.d(o)}}}function Gm(t){let e,n;return e=new ni({props:{self:t[0],$$slots:{default:[jm]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.self=r[0]),i&4&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function zm(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i]}class Hm extends Ne{constructor(e){super(),xe(this,e,zm,Gm,ye,{self:0})}}function $o(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function Co(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function To(t,e,n){const r=t.slice();return r[34]=e[n][0],r[40]=e[n][1].name,r[41]=e[n][1].boundingBox,r}function So(t,e){let n,r,i;function o(...s){return e[19](e[34],...s)}return r=new Pm({props:{nodeId:e[34],name:e[40],boundingBox:e[41]}}),r.$on("dblclick",o),r.$on("nodeEnter",e[20]),r.$on("nodeLeave",e[21]),{key:t,first:null,c(){n=We(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.nodeId=e[34]),l[0]&4&&(a.name=e[40]),l[0]&4&&(a.boundingBox=e[41]),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ue(r,s)}}}function Oo(t,e){let n,r,i;function o(...s){return e[22](e[34],...s)}return r=new si({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("click",o),r.$on("nodeEnter",e[23]),r.$on("nodeLeave",e[24]),{key:t,first:null,c(){n=We(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ue(r,s)}}}function Io(t,e){let n,r,i;function o(...s){return e[25](e[34],...s)}return r=new si({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("dblclick",o),r.$on("nodeEnter",e[26]),r.$on("nodeLeave",e[27]),{key:t,first:null,c(){n=We(),he(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),ae(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ue(r,s)}}}function Ao(t){let e,n;return e=new Vm({props:{start:t[3].start,end:t[3].end}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,i){const o={};i[0]&8&&(o.start=r[3].start),i[0]&8&&(o.end=r[3].end),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function qm(t){let e,n,r=[],i=new Map,o,s,l=[],a=new Map,u,c=[],h=new Map,f,d,p,_,v,$,k,y,w,b,C=Ve([...t[2].expanded.entries()]);const E=T=>T[34];for(let T=0;T<C.length;T+=1){let M=To(t,C,T),R=E(M);i.set(R,r[T]=So(R,M))}s=new Hm({props:{self:t[2].edges}});let I=Ve([...t[2].nodes.entries()]);const D=T=>T[34];for(let T=0;T<I.length;T+=1){let M=Co(t,I,T),R=D(M);a.set(R,l[T]=Oo(R,M))}let G=Ve([...t[2].collapsed.entries()]);const K=T=>T[34];for(let T=0;T<G.length;T+=1){let M=$o(t,G,T),R=K(M);h.set(R,c[T]=Io(R,M))}let W=t[3].kind==="brushing"&&Ao(t);return p=new Om({props:{nodeLayouts:t[2].nodes}}),p.$on("nodeEnter",t[28]),p.$on("nodeLeave",t[29]),{c(){e=U("svg"),n=U("g");for(let T=0;T<r.length;T+=1)r[T].c();o=We(),he(s.$$.fragment);for(let T=0;T<l.length;T+=1)l[T].c();u=We();for(let T=0;T<c.length;T+=1)c[T].c();f=We(),W&&W.c(),d=We(),he(p.$$.fragment),g(n,"transform",_=t[6].toString()),g(e,"role","figure"),g(e,"width",v=t[0].screenWidth()),g(e,"height",$=t[0].screenHeight()),g(e,"style",k=`cursor: ${t[5]}`)},m(T,M){V(T,e,M),H(e,n);for(let R=0;R<r.length;R+=1)r[R]&&r[R].m(n,null);H(n,o),ae(s,n,null);for(let R=0;R<l.length;R+=1)l[R]&&l[R].m(n,null);H(n,u);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(n,null);H(n,f),W&&W.m(n,null),H(n,d),ae(p,n,null),t[30](e),y=!0,w||(b=[le(window,"mousemove",t[9]),le(window,"mouseup",t[8]),le(window,"keydown",t[14]),le(window,"keyup",t[15]),le(e,"mousedown",t[7]),le(e,"wheel",t[10])],w=!0)},p(T,M){M[0]&2052&&(C=Ve([...T[2].expanded.entries()]),Le(),r=jn(r,M,E,1,T,C,i,n,Wn,So,o,To),Re());const R={};M[0]&4&&(R.self=T[2].edges),s.$set(R),M[0]&8198&&(I=Ve([...T[2].nodes.entries()]),Le(),l=jn(l,M,D,1,T,I,a,n,Wn,Oo,u,Co),Re()),M[0]&4102&&(G=Ve([...T[2].collapsed.entries()]),Le(),c=jn(c,M,K,1,T,G,h,n,Wn,Io,f,$o),Re()),T[3].kind==="brushing"?W?(W.p(T,M),M[0]&8&&L(W,1)):(W=Ao(T),W.c(),L(W,1),W.m(n,d)):W&&(Le(),j(W,1,1,()=>{W=null}),Re());const Q={};M[0]&4&&(Q.nodeLayouts=T[2].nodes),p.$set(Q),(!y||M[0]&64&&_!==(_=T[6].toString()))&&g(n,"transform",_),(!y||M[0]&1&&v!==(v=T[0].screenWidth()))&&g(e,"width",v),(!y||M[0]&1&&$!==($=T[0].screenHeight()))&&g(e,"height",$),(!y||M[0]&32&&k!==(k=`cursor: ${T[5]}`))&&g(e,"style",k)},i(T){if(!y){for(let M=0;M<C.length;M+=1)L(r[M]);L(s.$$.fragment,T);for(let M=0;M<I.length;M+=1)L(l[M]);for(let M=0;M<G.length;M+=1)L(c[M]);L(W),L(p.$$.fragment,T),y=!0}},o(T){for(let M=0;M<r.length;M+=1)j(r[M]);j(s.$$.fragment,T);for(let M=0;M<l.length;M+=1)j(l[M]);for(let M=0;M<c.length;M+=1)j(c[M]);j(W),j(p.$$.fragment,T),y=!1},d(T){T&&B(e);for(let M=0;M<r.length;M+=1)r[M].d();ue(s);for(let M=0;M<l.length;M+=1)l[M].d();for(let M=0;M<c.length;M+=1)c[M].d();W&&W.d(),ue(p),t[30](null),w=!1,Qe(b)}}}function Xm(t){switch(t.kind){case"initial":return"grab";case"panning":return"grabbing";case"brushing":case"awaitBrushing":return"default"}}function Ym(t,e,n){let r,i,o,{decorations:s}=e,{drawable:l}=e,{viewport:a}=e,{multiSelection:u}=e;const c=new Lm(a);let h;function f(S){var F;let X=h.createSVGPoint();return"targetTouches"in S?(X.x=S.targetTouches[0].clientX,X.y=S.targetTouches[0].clientY):(X.x=S.clientX,X.y=S.clientY),X=X.matrixTransform((F=h.getScreenCTM())==null?void 0:F.inverse()),X}let d={kind:"initial"};function p(S){if(S.preventDefault(),!("targetTouches"in S)&&S.button!==0)return;const{x:F,y:X}=f(S),te=a.screenToWorld().apply(F,X);S.shiftKey&&u?n(3,d={kind:"brushing",start:te,end:te}):(n(3,d={kind:"panning",start:te,tmp:new gi(a.screenWidth(),a.screenHeight(),a.center(),a.scale())}),c.setViewport(d.tmp))}function _(){switch(d.kind){case"initial":return;case"panning":{a.scaleTo(d.tmp.scale());const{x:S,y:F}=d.tmp.center();a.moveTo(S,F),c.setViewport(a),n(3,d={kind:"initial"});break}case"brushing":{const S=se.fromPoints(d.start,d.end),F=[...l.nodes.entries()].filter(([X,te])=>S.encloses(te.boundingBox())).map(([X,te])=>X);y("brush",{nodes:F});break}}n(3,d={kind:"initial"})}function v(S){const{x:F,y:X}=f(S),te=a.screenToWorld().apply(F,X);switch(d.kind){case"initial":return;case"panning":{const _e=d.start.x-te.x,de=d.start.y-te.y;c.moveBy(_e,de),n(0,a);break}case"brushing":{n(3,d.end=te,d);break}}}function $(S){S.preventDefault();const F=-S.deltaY*(S.deltaMode===1?.05:S.deltaMode?1:.002),X=a.scale();if(c.scaleBy(Math.pow(2,F)),X===a.scale())return;const te=a.center(),{x:_e,y:de}=f(S),be=a.screenToWorld().apply(_e,de);c.moveBy(-(te.x-be.x)*F,-(te.y-be.y)*F),n(0,a)}async function k(S,F){const X=se.fromCenterAndDimension(S.center,Math.max(a.screenWidth(),S.width),Math.max(a.screenHeight(),S.height)),{x:te,y:_e}=X.center,de=Math.min(a.screenWidth()/S.width,a.screenHeight()/S.height)||1;if(F!==void 0&&F){const be=Bm({...a.center(),k:a.scale()},{duration:1e3,easing:Rm});be.subscribe(Me=>{c.moveTo(Me.x,Me.y),c.scaleTo(Me.k),n(0,a)}),await be.set({x:te,y:_e,k:de})}else c.moveTo(te,_e),c.scaleTo(de),n(0,a)}const y=Wt();function w(S,F){S.stopPropagation(),y("collapse",{nodeId:F})}function b(S,F){S.stopPropagation(),y("expand",{nodeId:F})}function C(S,F){S.stopPropagation(),y("nodeClick",{nodeId:F,original:S})}function E(S){d.kind==="initial"&&S.shiftKey&&u&&n(3,d={kind:"awaitBrushing"})}function I(){d.kind==="awaitBrushing"&&n(3,d={kind:"initial"})}const D=(S,F)=>{w(F,S)};function G(S){Te.call(this,t,S)}function K(S){Te.call(this,t,S)}const W=(S,F)=>{C(F,S)};function T(S){Te.call(this,t,S)}function M(S){Te.call(this,t,S)}const R=(S,F)=>{b(F,S)};function Q(S){Te.call(this,t,S)}function me(S){Te.call(this,t,S)}function we(S){Te.call(this,t,S)}function ke(S){Te.call(this,t,S)}function ce(S){st[S?"unshift":"push"](()=>{h=S,n(4,h)})}return t.$$set=S=>{"decorations"in S&&n(1,s=S.decorations),"drawable"in S&&n(2,l=S.drawable),"viewport"in S&&n(0,a=S.viewport),"multiSelection"in S&&n(16,u=S.multiSelection)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(18,r=a.world()),t.$$.dirty[0]&262149&&c.setScaleExtent({min:Math.min(a.screenWidth()/l.boundingBox.width,a.screenHeight()/l.boundingBox.height)*.5,max:1}).setTranslationExtent(l.boundingBox.padded({l:r.width*.4,r:r.width*.4,t:r.height*.4,b:r.height*.4})),t.$$.dirty[0]&1&&n(6,i=a.worldToScreen().toString()),t.$$.dirty[0]&8&&n(5,o=Xm(d))},[a,s,l,d,h,o,i,p,_,v,$,w,b,C,E,I,u,k,r,D,G,K,W,T,M,R,Q,me,we,ke,ce]}class Um extends Ne{constructor(e){super(),xe(this,e,Ym,qm,ye,{decorations:1,drawable:2,viewport:0,multiSelection:16,setFocus:17},null,[-1,-1])}get setFocus(){return this.$$.ctx[17]}}function Km(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$;return{c(){e=ge("div"),n=ge("canvas"),r=tt(),i=U("svg"),o=U("rect"),h=U("rect"),g(n,"class","svelte-133ndzu"),g(o,"fill","rgb(0, 122, 255)"),g(o,"x",s=t[6].x),g(o,"y",l=t[6].y),g(o,"width",a=t[6].w),g(o,"height",u=t[6].h),g(o,"opacity","0.1"),g(o,"style",c=t[5]?"cursor: grabbing":"cursor: grab"),g(h,"fill","none"),g(h,"stroke","rgb(0, 122, 255)"),g(h,"x",f=t[6].x),g(h,"y",d=t[6].y),g(h,"width",p=t[6].w),g(h,"height",_=t[6].h),g(i,"role","navigation"),g(i,"width",t[0]),g(i,"height",t[1]),g(i,"class","svelte-133ndzu"),g(e,"class","container svelte-133ndzu")},m(k,y){V(k,e,y),H(e,n),t[11](n),H(e,r),H(e,i),H(i,o),t[12](o),H(i,h),t[13](i),v||($=le(i,"mousedown",t[7]),v=!0)},p(k,[y]){y&64&&s!==(s=k[6].x)&&g(o,"x",s),y&64&&l!==(l=k[6].y)&&g(o,"y",l),y&64&&a!==(a=k[6].w)&&g(o,"width",a),y&64&&u!==(u=k[6].h)&&g(o,"height",u),y&32&&c!==(c=k[5]?"cursor: grabbing":"cursor: grab")&&g(o,"style",c),y&64&&f!==(f=k[6].x)&&g(h,"x",f),y&64&&d!==(d=k[6].y)&&g(h,"y",d),y&64&&p!==(p=k[6].w)&&g(h,"width",p),y&64&&_!==(_=k[6].h)&&g(h,"height",_),y&1&&g(i,"width",k[0]),y&2&&g(i,"height",k[1])},i:Y,o:Y,d(k){k&&B(e),t[11](null),t[12](null),t[13](null),v=!1,$()}}}function Zm(t,e,n){let r,i;const o=Wt();function s(b){const C=r.worldToScreen().apply(b.xMin,b.yMin),E=r.worldToScreen().apply(b.xMax,b.yMax);return{x:C.x,y:C.y,w:E.x-C.x,h:E.y-C.y}}let{drawable:l}=e,{width:a}=e,{height:u}=e,{worldExtent:c}=e,h,f;function d(b){var C;let E=f.createSVGPoint();E.x=b.clientX,E.y=b.clientY,E=E.matrixTransform((C=f.getScreenCTM())==null?void 0:C.inverse());const I=r.screenToWorld().apply(E.x,E.y);o("viewportCenterDidChange",{center:I})}let p;function _(b){const C=r.screenToWorld().apply(0,0),E=r.screenToWorld().apply(b.dx,b.dy),I=c.center;I.x+=E.x-C.x,I.y+=E.y-C.y,o("viewportCenterDidChange",{center:I})}let v=!1;const $=ec().on("drag",_).on("start",()=>n(5,v=!0)).on("end",()=>n(5,v=!1));Fs(()=>{un(p).call($)});function k(b){st[b?"unshift":"push"](()=>{h=b,n(2,h),n(0,a),n(1,u),n(8,l)})}function y(b){st[b?"unshift":"push"](()=>{p=b,n(4,p)})}function w(b){st[b?"unshift":"push"](()=>{f=b,n(3,f)})}return t.$$set=b=>{"drawable"in b&&n(8,l=b.drawable),"width"in b&&n(0,a=b.width),"height"in b&&n(1,u=b.height),"worldExtent"in b&&n(9,c=b.worldExtent)},t.$$.update=()=>{if(t.$$.dirty&3&&n(10,r=new gi(a,u)),t.$$.dirty&1280&&r.fit(l.boundingBox.padded(2)),t.$$.dirty&512&&n(6,i=s(c)),t.$$.dirty&263&&h){let b=h.getContext("2d");n(2,h.width=a,h),n(2,h.height=u,h),b.fillStyle="white",b.fillRect(0,0,a,u),b.lineWidth=.5;for(const{boundingBox:C}of l.expanded.values()){const E=s(C);b.fillStyle="rgb(250, 250, 250)",b.fillRect(E.x,E.y,E.w,E.h),b.strokeStyle="rgb(134, 134, 139)",b.strokeRect(E.x,E.y,E.w,E.h)}for(const C of l.nodes.values()){const E=s(C.boundingBox());b.fillStyle="rgb(134, 134, 139)",b.fillRect(E.x,E.y,E.w,E.h)}for(const C of l.collapsed.values()){const E=s(C.boundingBox());b.fillStyle="rgb(134, 134, 139)",b.fillRect(E.x,E.y,E.w,E.h)}}},[a,u,h,f,p,v,i,d,l,c,r,k,y,w]}class Qm extends Ne{constructor(e){super(),xe(this,e,Zm,Km,ye,{drawable:8,width:0,height:1,worldExtent:9})}}function Po(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Jm(t){let e,n;return{c(){e=ge("span"),n=Je(t[0]),g(e,"class","svelte-122vmdc")},m(r,i){V(r,e,i),H(e,n)},p(r,i){i&1&&xn(n,r[0])},d(r){r&&B(e)}}}function e1(t){let e,n,r,i,o=Ve(t[3]),s=[];for(let c=0;c<o.length;c+=1)s[c]=Ro(Po(t,o,c));function l(c,h){if(h&6&&(n=null),h&6&&(r=null),n==null&&(n=!!c[1].collapsed.has(c[2])),n)return n1;if(r==null&&(r=!!c[1].expanded.has(c[2])),r)return t1}let a=l(t,-1),u=a&&a(t);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=tt(),u&&u.c(),i=We()},m(c,h){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(c,h);V(c,e,h),u&&u.m(c,h),V(c,i,h)},p(c,h){if(h&8){o=Ve(c[3]);let f;for(f=0;f<o.length;f+=1){const d=Po(c,o,f);s[f]?s[f].p(d,h):(s[f]=Ro(d),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}a!==(a=l(c,h))&&(u&&u.d(1),u=a&&a(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(B(e),B(i)),Ds(s,c),u&&u.d(c)}}}function Lo(t){let e;return{c(){e=ge("span"),e.textContent="⟩",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function Ro(t){let e,n=t[5]+"",r,i,o,s=t[7]<t[3].length-1&&Lo();return{c(){e=ge("span"),r=Je(n),i=tt(),s&&s.c(),o=We(),g(e,"class","svelte-122vmdc")},m(l,a){V(l,e,a),H(e,r),V(l,i,a),s&&s.m(l,a),V(l,o,a)},p(l,a){a&8&&n!==(n=l[5]+"")&&xn(r,n),l[7]<l[3].length-1?s||(s=Lo(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(l){l&&(B(e),B(i),B(o)),s&&s.d(l)}}}function t1(t){let e;return{c(){e=ge("span"),e.textContent="(Double click to collapse)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function n1(t){let e;return{c(){e=ge("span"),e.textContent="(Double click to expand)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function r1(t){let e;function n(o,s){return o[2]?e1:Jm}let r=n(t),i=r(t);return{c(){e=ge("div"),i.c()},m(o,s){V(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:Y,o:Y,d(o){o&&B(e),i.d()}}}function i1(t,e,n){let r,{defaultText:i="Hover over any node to show more information."}=e,{network:o}=e,{drawable:s}=e,{currentNode:l}=e;return t.$$set=a=>{"defaultText"in a&&n(0,i=a.defaultText),"network"in a&&n(4,o=a.network),"drawable"in a&&n(1,s=a.drawable),"currentNode"in a&&n(2,l=a.currentNode)},t.$$.update=()=>{t.$$.dirty&20&&n(3,r=l?[l,...o.parents(l)].reverse().map(a=>o.node(a).humanReadable()||a):[])},[i,s,l,r,o]}class o1 extends Ne{constructor(e){super(),xe(this,e,i1,r1,ye,{defaultText:0,network:4,drawable:1,currentNode:2})}}function Bo(t){let e,n,r;function i(s){t[34](s)}let o={decorations:t[8],drawable:t[15],multiSelection:t[7]};return t[13]!==void 0&&(o.viewport=t[13]),e=new Um({props:o}),t[33](e),st.push(()=>Uh(e,"viewport",i)),e.$on("expand",t[18]),e.$on("collapse",t[19]),e.$on("nodeEnter",t[20]),e.$on("nodeLeave",t[21]),e.$on("nodeClick",t[22]),e.$on("brush",t[25]),{c(){he(e.$$.fragment)},m(s,l){ae(e,s,l),r=!0},p(s,l){const a={};l[0]&256&&(a.decorations=s[8]),l[0]&32768&&(a.drawable=s[15]),l[0]&128&&(a.multiSelection=s[7]),!n&&l[0]&8192&&(n=!0,a.viewport=s[13],qh(()=>n=!1)),e.$set(a)},i(s){r||(L(e.$$.fragment,s),r=!0)},o(s){j(e.$$.fragment,s),r=!1},d(s){t[33](null),ue(e,s)}}}function Do(t){let e,n,r,i,o,s=t[3]&&Fo(t),l=t[17]&&Vo(t),a=t[4]&&Wo(t);return{c(){e=ge("div"),s&&s.c(),n=tt(),r=ge("div"),l&&l.c(),i=tt(),a&&a.c(),g(r,"class","myc-navigation-controls svelte-15hd81r"),g(e,"class","myc-navigation svelte-15hd81r")},m(u,c){V(u,e,c),s&&s.m(e,null),H(e,n),H(e,r),l&&l.m(r,null),H(r,i),a&&a.m(r,null),o=!0},p(u,c){u[3]?s?(s.p(u,c),c[0]&8&&L(s,1)):(s=Fo(u),s.c(),L(s,1),s.m(e,n)):s&&(Le(),j(s,1,1,()=>{s=null}),Re()),u[17]?l?l.p(u,c):(l=Vo(u),l.c(),l.m(r,i)):l&&(l.d(1),l=null),u[4]?a?a.p(u,c):(a=Wo(u),a.c(),a.m(r,null)):a&&(a.d(1),a=null)},i(u){o||(L(s),o=!0)},o(u){j(s),o=!1},d(u){u&&B(e),s&&s.d(),l&&l.d(),a&&a.d()}}}function Fo(t){let e,n;return e=new o1({props:{network:t[0],currentNode:t[16],drawable:t[15]}}),{c(){he(e.$$.fragment)},m(r,i){ae(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.network=r[0]),i[0]&65536&&(o.currentNode=r[16]),i[0]&32768&&(o.drawable=r[15]),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ue(e,r)}}}function Vo(t){let e,n,r,i;return{c(){e=ge("div"),n=ge("button"),n.textContent="Collapse All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=le(n,"click",t[35]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function Wo(t){let e,n,r,i;return{c(){e=ge("div"),n=ge("button"),n.textContent="Show All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=le(n,"click",t[36]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function jo(t){let e,n;return{c(){e=Je("Powered by "),n=ge("a"),n.textContent="Mycelium",g(n,"href","https://apple.github.io/ml-mycelium"),g(n,"target","_blank"),g(n,"class","svelte-15hd81r")},m(r,i){V(r,e,i),V(r,n,i)},d(r){r&&(B(e),B(n))}}}function Go(t){let e,n,r;return n=new Qm({props:{width:t[1]*Pn,height:t[2]*Pn,worldExtent:t[13].world(),drawable:t[15]}}),n.$on("viewportCenterDidChange",t[24]),{c(){e=ge("div"),he(n.$$.fragment),g(e,"class","myc-minimap svelte-15hd81r")},m(i,o){V(i,e,o),ae(n,e,null),r=!0},p(i,o){const s={};o[0]&2&&(s.width=i[1]*Pn),o[0]&4&&(s.height=i[2]*Pn),o[0]&8192&&(s.worldExtent=i[13].world()),o[0]&32768&&(s.drawable=i[15]),n.$set(s)},i(i){r||(L(n.$$.fragment,i),r=!0)},o(i){j(n.$$.fragment,i),r=!1},d(i){i&&B(e),ue(n)}}}function s1(t){let e,n=t[0],r,i,o,s,l,a,u,c=Bo(t),h=(t[3]||t[4])&&Do(t),f=t[5]&&jo(),d=t[6]&&Go(t);return{c(){e=ge("div"),c.c(),r=tt(),h&&h.c(),i=tt(),o=ge("div"),f&&f.c(),s=tt(),d&&d.c(),g(o,"class","myc-overlay svelte-15hd81r"),g(e,"class","myc-container svelte-15hd81r")},m(p,_){V(p,e,_),c.m(e,null),H(e,r),h&&h.m(e,null),H(e,i),H(e,o),f&&f.m(o,null),H(e,s),d&&d.m(e,null),l=!0,a||(u=le(window,"keydown",t[23]),a=!0)},p(p,_){_[0]&1&&ye(n,n=p[0])?(Le(),j(c,1,1,Y),Re(),c=Bo(p),c.c(),L(c,1),c.m(e,r)):c.p(p,_),p[3]||p[4]?h?(h.p(p,_),_[0]&24&&L(h,1)):(h=Do(p),h.c(),L(h,1),h.m(e,i)):h&&(Le(),j(h,1,1,()=>{h=null}),Re()),p[5]?f||(f=jo(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),p[6]?d?(d.p(p,_),_[0]&64&&L(d,1)):(d=Go(p),d.c(),L(d,1),d.m(e,null)):d&&(Le(),j(d,1,1,()=>{d=null}),Re())},i(p){l||(L(c),L(h),L(d),l=!0)},o(p){j(c),j(h),j(d),l=!1},d(p){p&&B(e),c.d(p),h&&h.d(),f&&f.d(),d&&d.d(),a=!1,u()}}}const Pn=.2;function l1(t,e,n){let r,i,o,s,l=Y,a=()=>(l(),l=Dr(I,x=>n(37,s=x)),I),u,c=Y,h=()=>(c(),c=Dr(D,x=>n(38,u=x)),D);t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>c());let{network:f}=e,{width:d}=e,{height:p}=e,{showBreadcrumbs:_}=e,{showResetView:v}=e,{watermark:$}=e,{minimap:k}=e,{autoResize:y}=e,{multiSelection:w}=e,{decorations:b=new Map}=e,{collapsed:C=new Set(f.modules())}=e,{layoutProvider:E}=e;const I=Hr(new Map);a();const D=Hr(new Map);h(),Hh(oi,{selections:I,tooltips:D});const G=new Map,K=Wt();function W(x,q){T.resize(x,q),n(13,T)}let T=new gi(d,p);Fs(async()=>{await we()});let M=[],R;function Q(x){const{yMin:q,yMax:re}=x,J=20,Oe=_?25/(T.screenHeight()||1)*(re-q):0;return x.padded({l:J,r:J,t:J+Oe,b:J})}async function me(x,q){var re;x=Array.isArray(x)?x:[x];let J=se.infinity();for(const Oe of x){const Ie=(re=i.nodes.get(Oe))==null?void 0:re.boundingBox();Ie&&(J=J.union(Ie))}J.isEmpty()||await R.setFocus(Q(J),q)}async function we(x){await R.setFocus(Q(i.boundingBox),x)}async function ke(x,q){!w&&x.length>1&&(console.warn("Received multiple selections but `multiSelection` config was set to `false`."),x=[x[0]]);const re={expand:!0,collapseOthers:{threshold:1e3},...q},{expand:J,collapse:Oe}=_m(f,x,C,re);let Ie=!1;re.expand&&(J.size>1&&re.expand==="single"||J.size>0&&(J.forEach(Ue=>C.delete(Ue)),Ie=!0)),Oe.size>0&&re.collapseOthers!==!1&&(re.collapseOthers===!0||bm(f,C)>re.collapseOthers.threshold)&&(Oe.forEach(Ue=>C.add(Ue)),Ie=!0),Ie?(n(26,C),await In(),pr(I,s=new Map(x.map(Ue=>[Ue,new Set])),s),await we(!0)):pr(I,s=new Map(x.map(Ue=>[Ue,new Set])),s)}async function ce(x){const q=s;return pr(I,s=x,s),await In(),q}async function S(){return await ce(new Map)}async function F(){n(26,C=new Set(f.modules())),await we(!0)}async function X(x){de(x),C.delete(x.detail.nodeId),n(26,C),await In(),await we(!0)}async function te(x){de(x),C.add(x.detail.nodeId),n(26,C),await In(),await we(!0)}function _e(x){var q;M[M.length-1]!==x.detail.nodeId&&(M.push(x.detail.nodeId),n(32,M));const re=x.detail.nodeId,J=(q=i.nodes.get(re))==null?void 0:q.options.tooltip;if(J){const Oe=u.get(re);Oe===void 0?G.set(re,Mm(D,re,J().build())):Oe.state!=="active"&&Oe.state!=="pinned"&&Bl(D,re)}}function de(x){M.pop(),n(32,M);const q=x.detail.nodeId;clearTimeout(G.get(q)),Dl(D,q)}async function be(x){const q=i.nodes.get(x.detail.nodeId);q!=null&&q.options.selectable&&(w&&x.detail.original.metaKey?Me(await ce(new Map([...s.entries(),[x.detail.nodeId,new Set]]))):Me(await ce(new Map([[x.detail.nodeId,new Set]]))))}function Me(x){const q=([re,J])=>({primaryNodeId:re,secondaryIds:[...J.values()]});K("selectionDidChange",{selections:[...s.entries()].map(q),previous:[...x.entries()].map(q)})}async function Ye(x){x.key==="Escape"&&Me(await S())}function ht(x){const{x:q,y:re}=x.detail.center;T.moveTo(q,re),n(13,T)}async function ne(x){Me(await ce(new Map(x.detail.nodes.map(q=>[q,new Set]))))}function pe(x){st[x?"unshift":"push"](()=>{R=x,n(14,R)})}function zt(x){T=x,n(13,T)}const Mn=()=>F(),Ht=async()=>{await we(!0)};return t.$$set=x=>{"network"in x&&n(0,f=x.network),"width"in x&&n(1,d=x.width),"height"in x&&n(2,p=x.height),"showBreadcrumbs"in x&&n(3,_=x.showBreadcrumbs),"showResetView"in x&&n(4,v=x.showResetView),"watermark"in x&&n(5,$=x.watermark),"minimap"in x&&n(6,k=x.minimap),"autoResize"in x&&n(27,y=x.autoResize),"multiSelection"in x&&n(7,w=x.multiSelection),"decorations"in x&&n(8,b=x.decorations),"collapsed"in x&&n(26,C=x.collapsed),"layoutProvider"in x&&n(28,E=x.layoutProvider)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(17,r=C.size<f.modules().length),t.$$.dirty[0]&335544321&&n(15,i=E.compute(f,C)),t.$$.dirty[0]&6&&W(d,p),t.$$.dirty[1]&2&&n(16,o=M.at(M.length-1))},[f,d,p,_,v,$,k,w,b,I,D,we,F,T,R,i,o,r,X,te,_e,de,be,Ye,ht,ne,C,y,E,me,ke,S,M,pe,zt,Mn,Ht]}class a1 extends Ne{constructor(e){super(),xe(this,e,l1,s1,ye,{network:0,width:1,height:2,showBreadcrumbs:3,showResetView:4,watermark:5,minimap:6,autoResize:27,multiSelection:7,decorations:8,collapsed:26,layoutProvider:28,selectionStore:9,tooltipStore:10,setFocus:29,resetFocus:11,setSelections:30,clearSelections:31,collapseAll:12},null,[-1,-1])}get selectionStore(){return this.$$.ctx[9]}get tooltipStore(){return this.$$.ctx[10]}get setFocus(){return this.$$.ctx[29]}get resetFocus(){return this.$$.ctx[11]}get setSelections(){return this.$$.ctx[30]}get clearSelections(){return this.$$.ctx[31]}get collapseAll(){return this.$$.ctx[12]}}class mi{constructor(e,n){P(this,"decorations"),this.app=e,this.options=n,this.decorations=new Map}static create(e,n,r){const i={width:n.getBoundingClientRect().width,height:n.getBoundingClientRect().height,autoResize:!0,showBreadcrumbs:!0,showResetView:!0,watermark:!0,minimap:!0,layoutProvider:new wm,multiSelection:!0,...r};i.watermark&&(console.info("╭┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╮"),console.info("| Powered by the Mycelium network     |"),console.info("| visualizer. For more information:   |"),console.info("| https://apple.github.io/ml-mycelium |"),console.info("╰┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╯"));const o=new a1({target:n,props:{network:e,...i}});return i.autoResize&&new ResizeObserver(()=>{o.$set({width:n.clientWidth,height:n.clientHeight})}).observe(n),new mi(o,i)}onSelectionDidChange(e){this.app.$on("selectionDidChange",n=>{e(n.detail)})}async setSelection(e,n){await this.app.setSelections([e],n)}async setSelections(e,n){await this.app.setSelections(e,n)}async collapseAll(){await this.app.collapseAll()}async clearSelections(){await this.app.clearSelections()}async setFocus(e,n){await this.app.setFocus(e,n)}async resetFocus(e){await this.app.resetFocus(e)}setDecoration(e,n){this.decorations.set(e,n),this.app.$set({decorations:this.decorations})}removeDecoration(e){this.decorations.delete(e),this.app.$set({decorations:this.decorations})}clearDecorations(){this.decorations.clear(),this.app.$set({decorations:this.decorations})}setNetwork(e){this.app.$set({network:e,collapsed:new Set(e.modules())})}getOptions(){return this.options}}function u1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$,k,y,w,b,C,E,I,D,G=t[0]?"|":"/",K,W,T,M,R,Q,me,we,ke,ce,S,F,X,te,_e,de,be,Me,Ye,ht;return{c(){e=N("div"),n=N("div"),n.textContent="+power-",r=A(),i=N("span"),o=N("span"),o.textContent="-------------",s=N("span"),s.textContent="------------",l=z("Light Bulb"),a=A(),u=N("div"),c=N("div"),h=N("div"),h.textContent="|",f=A(),d=N("div"),p=z("|"),_=A(),v=N("div"),$=z("|"),k=A(),y=N("div"),w=N("div"),w.textContent="|",b=A(),C=N("div"),E=N("div"),I=N("button"),I.textContent="switch",D=A(),K=z(G),W=A(),T=N("div"),M=z("|"),R=A(),Q=N("div"),me=N("div"),me.textContent="|",we=A(),ke=N("div"),ce=z("|"),S=A(),F=N("div"),X=z("|"),te=A(),_e=N("div"),de=N("span"),de.textContent="---------------------",be=N("span"),Me=z("--------------------"),O(o,"color","yellow"),O(i,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),O(e,"display","flex"),O(e,"width","500px"),O(h,"color","yellow"),O(d,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(v,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Fe(c,"class","w svelte-1c1c3yo"),O(w,"color","yellow"),O(I,"position","absolute"),O(I,"left","-70px"),O(E,"position","relative"),O(C,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(T,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Fe(y,"class","w svelte-1c1c3yo"),O(me,"color","yellow"),O(ke,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(F,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Fe(Q,"class","w svelte-1c1c3yo"),O(de,"color","yellow"),O(be,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),O(u,"width","300px")},m(ne,pe){oe(ne,e,pe),m(e,n),m(e,r),m(e,i),m(i,o),m(i,s),m(i,l),oe(ne,a,pe),oe(ne,u,pe),m(u,c),m(c,h),m(c,f),m(c,d),m(d,p),m(c,_),m(c,v),m(v,$),m(u,k),m(u,y),m(y,w),m(y,b),m(y,C),m(C,E),m(E,I),m(E,D),m(E,K),m(y,W),m(y,T),m(T,M),m(u,R),m(u,Q),m(Q,me),m(Q,we),m(Q,ke),m(ke,ce),m(Q,S),m(Q,F),m(F,X),m(u,te),m(u,_e),m(_e,de),m(_e,be),m(be,Me),Ye||(ht=_n(I,"click",t[1]),Ye=!0)},p(ne,[pe]){pe&1&&O(i,"color",ne[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&O(d,"color",ne[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&O(v,"color",ne[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&G!==(G=ne[0]?"|":"/")&&He(K,G),pe&1&&O(C,"color",ne[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&O(T,"color",ne[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&O(ke,"color",ne[0]?"yellow":"rgba(255,255,255,0.5)"),pe&1&&O(F,"color",ne[0]?"rgba(255,255,255,0.5)":"yellow"),pe&1&&O(be,"color",ne[0]?"rgba(255,255,255,0.5)":"yellow")},i:Ee,o:Ee,d(ne){ne&&(ie(e),ie(a),ie(u)),Ye=!1,ht()}}}function c1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class h1 extends ut{constructor(e){super(),at(this,e,c1,u1,lt,{})}}function f1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f;return{c(){e=N("div"),n=N("div"),r=N("button"),r.textContent="power switch",i=A(),o=N("span"),l=z(s),a=A(),u=N("span"),c=z("-----------------------------Light Bulb"),O(o,"background",t[0]?"steelblue":"red"),O(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(e,"display","flex"),O(e,"width","500px")},m(d,p){oe(d,e,p),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),h||(f=_n(r,"click",t[1]),h=!0)},p(d,[p]){p&1&&s!==(s=d[0]?"on":"off")&&He(l,s),p&1&&O(o,"background",d[0]?"steelblue":"red"),p&1&&O(u,"color",d[0]?"yellow":"rgba(255,255,255,0.5)")},i:Ee,o:Ee,d(d){d&&ie(e),h=!1,f()}}}function d1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class p1 extends ut{constructor(e){super(),at(this,e,d1,f1,lt,{})}}function g1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f,d,p;return{c(){e=N("div"),n=N("div"),r=N("button"),r.textContent="power switch",i=A(),o=N("span"),l=z(s),a=A(),u=N("span"),c=N("div"),c.textContent="-----------------------------Light Bulb",h=A(),f=N("div"),f.textContent="<-----------------------------|",O(o,"background",t[0]?"steelblue":"red"),O(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(e,"display","flex"),O(e,"width","500px")},m(_,v){oe(_,e,v),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),m(u,h),m(u,f),d||(p=_n(r,"click",t[1]),d=!0)},p(_,[v]){v&1&&s!==(s=_[0]?"on":"off")&&He(l,s),v&1&&O(o,"background",_[0]?"steelblue":"red"),v&1&&O(u,"color",_[0]?"yellow":"rgba(255,255,255,0.5)")},i:Ee,o:Ee,d(_){_&&ie(e),d=!1,p()}}}function m1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class w1 extends ut{constructor(e){super(),at(this,e,m1,g1,lt,{})}}function _1(t){let e;return{c(){e=N("div"),O(e,"width",t[0]+"px"),O(e,"height",t[1]+"px"),O(e,"outline","1px dashed lightgrey"),O(e,"border-radius","3px")},m(n,r){oe(n,e,r),t[5](e)},p(n,[r]){r&1&&O(e,"width",n[0]+"px"),r&2&&O(e,"height",n[1]+"px")},i:Ee,o:Ee,d(n){n&&ie(e),t[5](null)}}}function b1(t,e){function n(r){for(const i of r.out)t.setEdge(r.nodeId,i.nodeId),i.name!=="power"&&n(i)}n(e.source)}function y1(t,e,n){let{circuit:r}=e,{width:i=500}=e,{height:o=500}=e;function s(f,d,p=!1,_=!1){let v=p?"yellow":"lightgrey";return new mr.Node(f,new mr.VStack(new mr.Text(d))).with({backgroundColor:v}).with({..._&&{badge:{color:p?"steelblue":"crimson",text:p?"1":"0"}}})}function l(f,d,p,_=!1,v=!1){f.setNode(d,s(d,p,_,v))}function a(f,d){let p=0,_=0;function v($){let k=!1,y=!1;$.name==="wire"?($.nodeId=`wire[${p}]`,p++):$.name==="switch"?($.nodeId=`switch[${_}]`,$.on&&(k=!0),y=!0,_++):$.name==="signal"?($.nodeId="signal",y=!0):($.nodeId="power",k=!0),$.data===1&&(k=!0),l(f,$.nodeId,$.name,k,y);for(const w of $.out)w.name==="power"||w.nodeId!==void 0||v(w)}v(d.source)}let u,c;function h(f){Er[f?"unshift":"push"](()=>{u=f,n(2,u)})}return t.$$set=f=>{"circuit"in f&&n(3,r=f.circuit),"width"in f&&n(0,i=f.width),"height"in f&&n(1,o=f.height)},t.$$.update=()=>{if(t.$$.dirty&28&&u){const f=new pi;r.resetNodeIds(),a(f,r),b1(f,r),c?(console.log(r),c.setNetwork(f)):n(4,c=mi.create(f,u,{showBreadcrumbs:!1,minimap:!1,watermark:!1,showResetView:!1}))}},[i,o,u,r,c,h]}class v1 extends ut{constructor(e){super(),at(this,e,y1,_1,lt,{circuit:3,width:0,height:1})}}function zo(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function Ho(t){let e,n,r,i,o,s=t[0].signal.data===1?"on (1)":"off (0)",l,a,u,c;function h(p,_){return p[1]?E1:k1}let f=h(t),d=f(t);return u=new v1({props:{circuit:t[0]}}),{c(){d.c(),e=A(),n=N("div"),r=z("Output Signal "),i=N("div"),o=A(),l=z(s),a=A(),De(u.$$.fragment),O(i,"height","10px"),O(i,"width","10px"),O(i,"background",t[0].signal.data===1?"steelblue":"crimson"),O(n,"display","flex"),O(n,"gap","5px"),O(n,"align-items","center")},m(p,_){d.m(p,_),oe(p,e,_),oe(p,n,_),m(n,r),m(n,i),m(n,o),m(n,l),oe(p,a,_),Ae(u,p,_),c=!0},p(p,_){f===(f=h(p))&&d?d.p(p,_):(d.d(1),d=f(p),d&&(d.c(),d.m(e.parentNode,e))),(!c||_&1)&&O(i,"background",p[0].signal.data===1?"steelblue":"crimson"),(!c||_&1)&&s!==(s=p[0].signal.data===1?"on (1)":"off (0)")&&He(l,s);const v={};_&1&&(v.circuit=p[0]),u.$set(v)},i(p){c||(ve(u.$$.fragment,p),c=!0)},o(p){$e(u.$$.fragment,p),c=!1},d(p){p&&(ie(e),ie(n),ie(a)),d.d(p),Pe(u,p)}}}function k1(t){let e,n=Si(t[0].other.filter(Xo)),r=[];for(let i=0;i<n.length;i+=1)r[i]=qo(zo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ko()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);oe(i,e,o)},p(i,o){if(o&1){n=Si(i[0].other.filter(Xo));let s;for(s=0;s<n.length;s+=1){const l=zo(i,n,s);r[s]?r[s].p(l,o):(r[s]=qo(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&ie(e),Gl(r,i)}}}function E1(t){let e,n,r,i,o,s=t[2]?"on (1)":"off (0)",l,a,u;return{c(){e=N("div"),n=N("button"),n.textContent="switch all",r=A(),i=N("div"),o=A(),l=z(s),O(i,"height","10px"),O(i,"width","10px"),O(i,"background",t[2]?"steelblue":"crimson"),O(e,"display","flex"),O(e,"gap","5px"),O(e,"align-items","center"),O(e,"margin-right","10px")},m(c,h){oe(c,e,h),m(e,n),m(e,r),m(e,i),m(e,o),m(e,l),a||(u=_n(n,"click",t[4]),a=!0)},p(c,h){h&4&&O(i,"background",c[2]?"steelblue":"crimson"),h&4&&s!==(s=c[2]?"on (1)":"off (0)")&&He(l,s)},d(c){c&&ie(e),a=!1,u()}}}function qo(t){let e,n,r=t[6].name+"",i,o,s,l,a,u,c=t[6].on?"on (1)":"off (0)",h,f,d,p;function _(){return t[5](t[6],t[7],t[8])}return{c(){e=N("div"),n=N("button"),i=z(r),o=A(),s=z(t[8]),l=A(),a=N("div"),u=A(),h=z(c),f=A(),O(a,"height","10px"),O(a,"width","10px"),O(a,"background",t[6].on?"steelblue":"crimson"),O(e,"display","flex"),O(e,"gap","5px"),O(e,"align-items","center"),O(e,"margin-right","10px")},m(v,$){oe(v,e,$),m(e,n),m(n,i),m(n,o),m(n,s),m(e,l),m(e,a),m(e,u),m(e,h),m(e,f),d||(p=_n(n,"click",_),d=!0)},p(v,$){t=v,$&1&&r!==(r=t[6].name+"")&&He(i,r),$&1&&O(a,"background",t[6].on?"steelblue":"crimson"),$&1&&c!==(c=t[6].on?"on (1)":"off (0)")&&He(h,c)},d(v){v&&ie(e),d=!1,p()}}}function x1(t){let e,n,r=t[0]&&Ho(t);return{c(){r&&r.c(),e=Ko()},m(i,o){r&&r.m(i,o),oe(i,e,o),n=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&ve(r,1)):(r=Ho(i),r.c(),ve(r,1),r.m(e.parentNode,e)):r&&(Ul(),$e(r,1,1,()=>{r=null}),Kl())},i(i){n||(ve(r),n=!0)},o(i){$e(r),n=!1},d(i){i&&ie(e),r&&r.d(i)}}}const Xo=t=>t.name==="switch";function N1(t,e,n){let{circuit:r}=e,{sameSignals:i=!1}=e,o=!0;function s(){for(const u of r.other.filter(c=>c.name==="switch"))o?u.switchOn():u.switchOff()}const l=()=>{n(2,o=!o),s(),r.reset(),r.simulate(),n(0,r)},a=(u,c,h)=>{n(0,c[h].on=!u.on,r),r.reset(),r.simulate()};return t.$$set=u=>{"circuit"in u&&n(0,r=u.circuit),"sameSignals"in u&&n(1,i=u.sameSignals)},[r,i,o,s,l,a]}class en extends ut{constructor(e){super(),at(this,e,N1,x1,lt,{circuit:0,sameSignals:1})}}function M1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$,k,y,w,b,C,E,I,D,G,K,W,T,M,R,Q,me,we,ke,ce,S,F,X,te,_e,de,be,Me,Ye,ht,ne,pe,zt,Mn,Ht,x,q,re,J,Oe,Ie,Ue,rr,qt,wi,ir,_i,or,bi,sr,vt,yi,Xt,Yt,vi,kt,ki,lr,Ei,ar,xi,Ut,Kt,Ni,Et,Mi,Zt,Qt,$i,xt,$n;return v=new p1({}),W=new w1({}),X=new h1({}),ne=new en({props:{circuit:ta()}}),J=new en({props:{circuit:Jl()}}),Ie=new en({props:{circuit:ea()}}),vt=new Ii({props:{func:Vt}}),kt=new en({props:{circuit:Oi()}}),Et=new en({props:{circuit:Oi(),sameSignals:!0}}),xt=new Ii({props:{func:Yr}}),{c(){e=N("div"),n=N("details"),r=N("summary"),r.innerHTML="<b>Electrical Sim</b>",i=A(),o=N("div"),o.textContent=`I want to simulate the basic properties of electricity here. I want
			to show that I can create universal boolean logic gates simply by
			modulating electricity.`,s=A(),l=N("div"),l.innerHTML=`<b class="neon" style="--color: cyan;">Question:</b> Why is electricity
			good at representing info?`,a=A(),u=N("div"),u.textContent=`Electricity can be modeled similar to the flow of water (although
			the analogy breaks down in key places). But the point is we can
			propagate a signal over a wire (or pipe).`,c=A(),h=N("div"),h.textContent=`Simply put, I can have a wire where a signal travels down. Depending
			on the material we can change how this signal gets sent (speed,
			power, ...).`,f=A(),d=N("div"),p=N("div"),p.innerHTML=`<b class="neon" style="--color: orange;">Example</b>: using a
				pipe, I could send a signal down a wire to do something at the
				other end. For modeling purposes, this happens instantly.`,_=A(),De(v.$$.fragment),$=A(),k=N("div"),k.textContent=`Now it actually aint this simple. Given I have an electrical signal,
			the electrons don't just bend to my will.`,y=A(),w=N("div"),w.innerHTML=`<b class="neon" style="--color: red;">So How do I coax the electrons to signal?</b>: A quick simple model for getting an electron to do what you want
			is with + and -. Just think of these as two signals. Electrons are
			made up of the - signal and will actively want to move towards +
			signals.`,b=A(),C=N("div"),C.textContent=`In other words, at my example above, I needed the switch side to
			somehow ejects - electrons and have the lightbulb have + that the -
			electrons can move towards. One such way to make the lightbulb +
			like is to remove as many electrons from the lightbulb so that the
			electrons want to move there.`,E=A(),I=N("div"),I.textContent=`This is unfeasible since it also costs energy to do that. Instead,
			leverage the fact that we are ejecting electrons from the switch. In
			other words, as we remove - from the switch, it itself will become +
			like.`,D=A(),G=N("div"),K=z(`In other words, complete the circuit so to speak. Just add another
			wire that goes past the signal destination (light bulb) back to the
			source.
			`),De(W.$$.fragment),T=A(),M=N("div"),M.textContent=`Note that this only works if the power source stops electrons from
			flowing backwards. This lets the electrons flow over the longer path
			to reach the ++ part of it instead of just staying in the power
			source.`,R=A(),Q=N("div"),me=N("b"),me.textContent="Can we encode interesting operations in this simple system?",we=z(`: for example, can we encode a few boolean logic gate? If so, then
			we could reconstruct another other logic gate and compute anything
			(also worth revisiting deeply later).`),ke=A(),ce=N("div"),S=N("b"),S.textContent="Not Gate",F=A(),De(X.$$.fragment),te=A(),_e=N("div"),_e.textContent=`When the switch is off, the output signal is on. But when the switch
			is on the output signal is off. This is because electricity will
			find the shortest path to the + signal. So most of the electrons
			will find there way down the signal once we turn on the switch.`,de=A(),be=N("div"),be.textContent=`The funny thing is, you can see why electricity represents boolean
			operations so well. In my visualization, to show the property that
			electricity takes the shorter path requires boolean operations in
			the code itself. So it's almost like nature has those properties
			built in, and we just combine them to look nicer in our brain. This
			is a circular argument though because by definition we are
			describing electricity with boolean logic.`,Me=A(),Ye=N("div"),ht=z(`To change up notation, here I'll have a graph where wires are also
			nodes and edges just show what is connected to what . Note that if
			there is a branch, two new wires are created. So the not gate in
			this notation looks like
			`),De(ne.$$.fragment),pe=A(),zt=N("div"),zt.textContent=`Some of these wires can be merged, but again, I show branching (like
			the wire branching from the middle splits the top into two). Again,
			the edges aren't wires in this diagram, wires are separate nodes and
			conceptual connections are edges.`,Mn=A(),Ht=N("div"),x=N("details"),q=N("summary"),q.textContent=`In this same notation, you can represent the original
					circuits too`,re=z(`
				Incomplete circuit:
				`),De(J.$$.fragment),Oe=z(`

				One switch:
				`),De(Ie.$$.fragment),Ue=A(),rr=N("div"),qt=N("b"),qt.textContent=`Now let's create the boolean gates which take in two inputs (two
				switches) and output a single signal.`,wi=A(),ir=N("div"),ir.textContent=`It turns out that you can create any other logic gate by using a
			NAND gate (logical and not). This is weird. Think about the
			statement that anything computable can be represented as
			manipulation bits with NAND operations. Weird.`,_i=A(),or=N("div"),or.textContent=`So let's create a NAND gate. It looks like a combination of the AND
			gate and the NOT gate.`,bi=A(),sr=N("div"),De(vt.$$.fragment),yi=A(),Xt=N("div"),Yt=N("b"),Yt.textContent="NAND Gate",vi=z(`: toggle to see
			outputs given inputs
			`),De(kt.$$.fragment),ki=A(),lr=N("div"),lr.textContent=`Like I said, it looks like a combination of the AND and NOT gate.
			It's really just adding another switch right after the first NOT
			switch.`,Ei=A(),ar=N("div"),ar.textContent=`Note that it reverts to a NOT gate for the 0,0 and 1,1 example. So
			we can easily recreate a NOT gate from NAND by just feeding the same
			value in.`,xi=A(),Ut=N("div"),Kt=N("b"),Kt.textContent="NOT Gate",Ni=z(` with NAND by
			copying signal to control both switches
			`),De(Et.$$.fragment),Mi=A(),Zt=N("div"),Qt=N("b"),Qt.textContent="AND Gate",$i=z(` is just
			NOT(NAND(a, b)) -> AND(a,b). So I can combine the previous two
			circuits.
			`),De(xt.$$.fragment),Fe(r,"class","neon"),O(r,"cursor","pointer"),O(r,"--color","lime"),Fe(me,"class","neon"),O(me,"--color","deeppink"),Fe(S,"class","neon"),O(S,"--color","fuchsia"),Fe(q,"class","neon"),O(q,"cursor","pointer"),O(q,"--color","lime"),Fe(qt,"class","neon"),O(qt,"--color","violet"),Fe(Yt,"class","neon"),O(Yt,"--color","cyan"),Fe(Kt,"class","neon"),O(Kt,"--color","red"),Fe(Qt,"class","neon"),O(Qt,"--color","lime"),n.open=!0},m(ee,Fl){oe(ee,e,Fl),m(e,n),m(n,r),m(n,i),m(n,o),m(n,s),m(n,l),m(n,a),m(n,u),m(n,c),m(n,h),m(n,f),m(n,d),m(d,p),m(d,_),Ae(v,d,null),m(n,$),m(n,k),m(n,y),m(n,w),m(n,b),m(n,C),m(n,E),m(n,I),m(n,D),m(n,G),m(G,K),Ae(W,G,null),m(n,T),m(n,M),m(n,R),m(n,Q),m(Q,me),m(Q,we),m(n,ke),m(n,ce),m(ce,S),m(ce,F),Ae(X,ce,null),m(n,te),m(n,_e),m(n,de),m(n,be),m(n,Me),m(n,Ye),m(Ye,ht),Ae(ne,Ye,null),m(n,pe),m(n,zt),m(n,Mn),m(n,Ht),m(Ht,x),m(x,q),m(x,re),Ae(J,x,null),m(x,Oe),Ae(Ie,x,null),m(n,Ue),m(n,rr),m(rr,qt),m(n,wi),m(n,ir),m(n,_i),m(n,or),m(n,bi),m(n,sr),Ae(vt,sr,null),m(n,yi),m(n,Xt),m(Xt,Yt),m(Xt,vi),Ae(kt,Xt,null),m(n,ki),m(n,lr),m(n,Ei),m(n,ar),m(n,xi),m(n,Ut),m(Ut,Kt),m(Ut,Ni),Ae(Et,Ut,null),m(n,Mi),m(n,Zt),m(Zt,Qt),m(Zt,$i),Ae(xt,Zt,null),$n=!0},p:Ee,i(ee){$n||(ve(v.$$.fragment,ee),ve(W.$$.fragment,ee),ve(X.$$.fragment,ee),ve(ne.$$.fragment,ee),ve(J.$$.fragment,ee),ve(Ie.$$.fragment,ee),ve(vt.$$.fragment,ee),ve(kt.$$.fragment,ee),ve(Et.$$.fragment,ee),ve(xt.$$.fragment,ee),$n=!0)},o(ee){$e(v.$$.fragment,ee),$e(W.$$.fragment,ee),$e(X.$$.fragment,ee),$e(ne.$$.fragment,ee),$e(J.$$.fragment,ee),$e(Ie.$$.fragment,ee),$e(vt.$$.fragment,ee),$e(kt.$$.fragment,ee),$e(Et.$$.fragment,ee),$e(xt.$$.fragment,ee),$n=!1},d(ee){ee&&ie(e),Pe(v),Pe(W),Pe(X),Pe(ne),Pe(J),Pe(Ie),Pe(vt),Pe(kt),Pe(Et),Pe(xt)}}}function $1(t){function e(r,i){console.log(r),console.log("0 ->",Ce(Z(i(0)))),console.log("1 ->",Ce(Z(i(1))))}e("NOT",zn);function n(r,i){console.log(r),console.log("0,0 ->",Ce(i(Z(0),Z(0)))),console.log("1,0 ->",Ce(i(Z(1),Z(0)))),console.log("0,1 ->",Ce(i(Z(0),Z(1)))),console.log("1,1 ->",Ce(i(Z(1),Z(1))))}return n("NAND",Vt),n("AND",Yr),n("OR",Qo),n("XOR",ia),[]}class C1 extends ut{constructor(e){super(),at(this,e,$1,M1,lt,{})}}function T1(t){let e,n,r;return n=new C1({}),{c(){e=N("main"),De(n.$$.fragment),Fe(e,"class","svelte-kqkoi6")},m(i,o){oe(i,e,o),Ae(n,e,null),r=!0},p:Ee,i(i){r||(ve(n.$$.fragment,i),r=!0)},o(i){$e(n.$$.fragment,i),r=!1},d(i){i&&ie(e),Pe(n)}}}class S1 extends ut{constructor(e){super(),at(this,e,null,T1,lt,{})}}new S1({target:document.getElementById("app")});
