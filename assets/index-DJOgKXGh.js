var Fl=Object.defineProperty;var Vl=(t,e,n)=>e in t?Fl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cr=(t,e,n)=>Vl(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ke(){}function Yo(t){return t()}function Ci(){return Object.create(null)}function _n(t){t.forEach(Yo)}function Uo(t){return typeof t=="function"}function st(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Wl(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function ie(t,e,n){t.insertBefore(e,n||null)}function re(t){t.parentNode&&t.parentNode.removeChild(t)}function jl(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function A(){return z(" ")}function Ko(){return z("")}function bn(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Be(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Gl(t){return Array.from(t.childNodes)}function Ge(t,e){e=""+e,t.data!==e&&(t.data=e)}function O(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let Yr;function an(t){Yr=t}const Ct=[],xr=[];let St=[];const Ti=[],zl=Promise.resolve();let Mr=!1;function Hl(){Mr||(Mr=!0,zl.then(Zo))}function Nr(t){St.push(t)}const hr=new Set;let Mt=0;function Zo(){if(Mt!==0)return;const t=Yr;do{try{for(;Mt<Ct.length;){const e=Ct[Mt];Mt++,an(e),ql(e.$$)}}catch(e){throw Ct.length=0,Mt=0,e}for(an(null),Ct.length=0,Mt=0;xr.length;)xr.pop()();for(let e=0;e<St.length;e+=1){const n=St[e];hr.has(n)||(hr.add(n),n())}St.length=0}while(Ct.length);for(;Ti.length;)Ti.pop()();Mr=!1,hr.clear(),an(t)}function ql(t){if(t.fragment!==null){t.update(),_n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Nr)}}function Xl(t){const e=[],n=[];St.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),St=e}const Bn=new Set;let dt;function Yl(){dt={r:0,c:[],p:dt}}function Ul(){dt.r||_n(dt.c),dt=dt.p}function ye(t,e){t&&t.i&&(Bn.delete(t),t.i(e))}function Ne(t,e,n,r){if(t&&t.o){if(Bn.has(t))return;Bn.add(t),dt.c.push(()=>{Bn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Si(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Re(t){t&&t.c()}function Oe(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Nr(()=>{const o=t.$$.on_mount.map(Yo).filter(Uo);t.$$.on_destroy?t.$$.on_destroy.push(...o):_n(o),t.$$.on_mount=[]}),i.forEach(Nr)}function Ie(t,e){const n=t.$$;n.fragment!==null&&(Xl(n.after_update),_n(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kl(t,e){t.$$.dirty[0]===-1&&(Ct.push(t),Hl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function lt(t,e,n,r,i,o,s=null,l=[-1]){const a=Yr;an(t);const u=t.$$={fragment:null,ctx:[],props:o,update:ke,not_equal:i,bound:Ci(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ci(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Kl(t,h)),f}):[],u.update(),c=!0,_n(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Gl(e.target);u.fragment&&u.fragment.l(h),h.forEach(re)}else u.fragment&&u.fragment.c();e.intro&&ye(t.$$.fragment),Oe(t,e.target,e.anchor),Zo()}an(a)}let at=class{constructor(){cr(this,"$$");cr(this,"$$set")}$destroy(){Ie(this,1),this.$destroy=ke}$on(e,n){if(!Uo(n))return ke;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Wl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};const Zl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zl);function Ql(t){let e,n,r=t[0](0,0)+"",i,o,s,l,a=t[0](0,1)+"",u,c,h,f,d=t[0](1,0)+"",p,_,v,$,k=t[0](1,1)+"",y;return{c(){e=M("div"),n=z("0,0 → "),i=z(r),o=A(),s=M("div"),l=z("0,1 → "),u=z(a),c=A(),h=M("div"),f=z("1,0 → "),p=z(d),_=A(),v=M("div"),$=z("1,1 → "),y=z(k)},m(w,b){ie(w,e,b),m(e,n),m(e,i),ie(w,o,b),ie(w,s,b),m(s,l),m(s,u),ie(w,c,b),ie(w,h,b),m(h,f),m(h,p),ie(w,_,b),ie(w,v,b),m(v,$),m(v,y)},p(w,[b]){b&1&&r!==(r=w[0](0,0)+"")&&Ge(i,r),b&1&&a!==(a=w[0](0,1)+"")&&Ge(u,a),b&1&&d!==(d=w[0](1,0)+"")&&Ge(p,d),b&1&&k!==(k=w[0](1,1)+"")&&Ge(y,k)},i:ke,o:ke,d(w){w&&(re(e),re(o),re(s),re(c),re(h),re(_),re(v))}}}function Jl(t,e,n){let{func:r}=e;return t.$$set=i=>{"func"in i&&n(0,r=i.func)},[r]}class Oi extends at{constructor(e){super(),lt(this,e,Jl,Ql,st,{func:0})}}class wt{constructor(){this.in=[],this.out=[],this.data=0,this.name="switch",this.on=!0}switchOn(){this.on=!0}switchOff(){this.on=!1}}class it{constructor(){this.in=[],this.out=[],this.data=0,this.name="power"}}class yn{constructor(){this.in=[],this.out=[],this.data=0,this.name="signal"}}class Rt{constructor(){this.in=[],this.out=[],this.data=0,this.name="wire"}}class vn{constructor(e,n,r){this.source=e,this.signal=n,this.other=r}resetNodeIds(){this.signal.nodeId=void 0;for(const e of this.other)e.nodeId=void 0;this.source.nodeId=void 0}reset(){this.signal.data=0,this.signal.nodeId=void 0;for(const e of this.other)e.data=0,e.closest=1/0,e.nodeId=void 0;this.source.nodeId=void 0}precomputeDistances(){function e(n){if(n instanceof it)return 0;if(n instanceof wt&&!n.on||n.out.length===0)return 1/0;let r=[];for(const i of n.out)r.push(e(i));return(n instanceof wt?0:1)+Math.min(...r)}for(const n of this.other)n.closest=e(n);this.signal.closest=e(this.signal)}connect(e,n){e.out.push(n),n.in.push(e)}simulate(){function e(n){if(n.in.length===0||n instanceof wt&&!n.on||n.out.length===0)return;n.data=1;let r=n.out[0];for(const i of n.out)i instanceof it||i.closest<=r.closest&&(r=i);r instanceof it||e(r)}this.reset(),this.precomputeDistances(),e(this.source)}}function ea(){const t=new it,e=new yn,n=new Rt,r=new vn(t,e,[n]);return r.connect(t,n),r.connect(n,e),r.simulate(),r}function ta(){const t=new it,e=new yn,n=new Rt,r=new wt,i=new Rt,o=new vn(t,e,[n,r,i]);return o.connect(t,r),o.connect(r,n),o.connect(n,e),o.connect(e,i),o.connect(i,t),r.switchOn(),o.simulate(),o}function na(){const t=new it,e=new yn,n=Array(2).fill(0).map(()=>new Rt),r=new wt,i=new vn(t,e,[...n,r]);return i.connect(t,n[0]),i.connect(n[0],e),i.connect(e,n[1]),i.connect(n[1],t),i.connect(n[0],r),i.connect(r,n[1]),i.simulate(),i}function Ii(t=!0,e=!0){const n=new it,r=new yn,i=Array(4).fill(0).map(()=>new Rt),o=Array(2).fill(0).map(()=>new wt),s=new vn(n,r,[...i,...o]);return s.connect(n,i[0]),s.connect(i[0],r),s.connect(r,i[1]),s.connect(i[1],n),s.connect(i[0],o[0]),s.connect(o[0],o[1]),s.connect(o[1],i[1]),t||o[0].switchOff(),e||o[1].switchOff(),s.simulate(),s}class ra{constructor(){this.battery=new it,this.light=new yn,this.wires=Array(4).fill(0).map(()=>new Rt),this.switches=Array(2).fill(0).map(()=>new wt),this.circuit=new vn(this.battery,this.light,[...this.wires,...this.switches]),this.circuit.connect(this.battery,this.wires[0]),this.circuit.connect(this.wires[0],this.light),this.circuit.connect(this.light,this.wires[1]),this.circuit.connect(this.wires[1],this.battery),this.circuit.connect(this.wires[0],this.switches[0]),this.circuit.connect(this.switches[0],this.switches[1]),this.circuit.connect(this.switches[1],this.wires[1])}call(e,n){return this.circuit.reset(),this.switches[0].on=e,this.switches[1].on=n,this.circuit.simulate(),this.circuit.signal.data}}const ia=new ra;function rt(t,e){return ia.call(t,e)}function Ot(t){return rt(t,t)}function pt(t,e){return Ot(rt(t,e))}function tn(t,e){return Ot(pt(Ot(t),Ot(e)))}function Tn(t,e){return pt(tn(t,e),rt(t,e))}var oa=Object.defineProperty,sa=(t,e,n)=>e in t?oa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e,n)=>sa(t,typeof e!="symbol"?e+"":e,n);const Ve={black:"#000000",white:"#ffffff",foreground:{blue:"#0066CC",red:"#E30000",orange:"#BF4800",yellow:"#D08B00",green:"#008009",purple:"#6D56D6",gray:"#1D1D1F",graySecondary:"#6E6E73",graySecondaryAlt:"#515154",grayTertiary:"#86868B"},background:{gray:"rgb(250, 250, 250)",darkGray:"rgb(51,51,51)"}},kn={family:"SF Mono, ui-monospace, monospace",weight:{regular:200,semibold:500,bold:600}},la={y:8,x:4},aa=Object.freeze(Object.defineProperty({__proto__:null,colors:Ve,font:kn,spacing:la},Symbol.toStringTag,{value:"Module"}));let $r=class nn{constructor(e,n,r){P(this,"x"),P(this,"y"),P(this,"k"),this.x=e,this.y=n,this.k=r}static identity(){return new nn(0,0,1)}translate(e,n){return e===0&&n===0?this:new nn(this.x+this.k*e,this.y+this.k*n,this.k)}scale(e){return e===1?this:new nn(this.x,this.y,this.k*e)}apply(e,n){return{x:e*this.k+this.x,y:n*this.k+this.y}}inverse(){return nn.identity().scale(1/this.k).translate(-this.x,-this.y)}toString(){return`translate(${this.x},${this.y}) scale(${this.k})`}};var ua={value:()=>{}};function Ur(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Dn(n)}function Dn(t){this._=t}function ca(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Dn.prototype=Ur.prototype={constructor:Dn,on:function(t,e){var n=this._,r=ca(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ha(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Ai(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ai(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ha(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ai(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ua,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Cr="http://www.w3.org/1999/xhtml";const Pi={svg:"http://www.w3.org/2000/svg",xhtml:Cr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Pi.hasOwnProperty(e)?{space:Pi[e],local:t}:t}function fa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Cr&&e.documentElement.namespaceURI===Cr?e.createElement(t):e.createElementNS(n,t)}}function da(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qo(t){var e=Jn(t);return(e.local?da:fa)(e)}function pa(){}function Kr(t){return t==null?pa:function(){return this.querySelector(t)}}function ga(t){typeof t!="function"&&(t=Kr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=t.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new Le(r,this._parents)}function ma(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wa(){return[]}function Jo(t){return t==null?wa:function(){return this.querySelectorAll(t)}}function _a(t){return function(){return ma(t.apply(this,arguments))}}function ba(t){typeof t=="function"?t=_a(t):t=Jo(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Le(r,i)}function es(t){return function(){return this.matches(t)}}function ts(t){return function(e){return e.matches(t)}}var ya=Array.prototype.find;function va(t){return function(){return ya.call(this.children,t)}}function ka(){return this.firstElementChild}function Ea(t){return this.select(t==null?ka:va(typeof t=="function"?t:ts(t)))}var xa=Array.prototype.filter;function Ma(){return Array.from(this.children)}function Na(t){return function(){return xa.call(this.children,t)}}function $a(t){return this.selectAll(t==null?Ma:Na(typeof t=="function"?t:ts(t)))}function Ca(t){typeof t!="function"&&(t=es(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Le(r,this._parents)}function ns(t){return new Array(t.length)}function Ta(){return new Le(this._enter||this._groups.map(ns),this._parents)}function qn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}qn.prototype={constructor:qn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sa(t){return function(){return t}}function Oa(t,e,n,r,i,o){for(var s=0,l,a=e.length,u=o.length;s<u;++s)(l=e[s])?(l.__data__=o[s],r[s]=l):n[s]=new qn(t,o[s]);for(;s<a;++s)(l=e[s])&&(i[s]=l)}function Ia(t,e,n,r,i,o,s){var l,a,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(l=0;l<c;++l)(a=e[l])&&(f[l]=d=s.call(a,a.__data__,l,e)+"",u.has(d)?i[l]=a:u.set(d,a));for(l=0;l<h;++l)d=s.call(t,o[l],l,o)+"",(a=u.get(d))?(r[l]=a,a.__data__=o[l],u.delete(d)):n[l]=new qn(t,o[l]);for(l=0;l<c;++l)(a=e[l])&&u.get(f[l])===a&&(i[l]=a)}function Aa(t){return t.__data__}function Pa(t,e){if(!arguments.length)return Array.from(this,Aa);var n=e?Ia:Oa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Sa(t));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=La(t.call(c,c&&c.__data__,u,r)),p=d.length,_=l[u]=new Array(p),v=s[u]=new Array(p),$=a[u]=new Array(f);n(c,h,_,v,$,d,e);for(var k=0,y=0,w,b;k<p;++k)if(w=_[k]){for(k>=y&&(y=k+1);!(b=v[y])&&++y<p;);w._next=b||null}}return s=new Le(s,r),s._enter=l,s._exit=a,s}function La(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ra(){return new Le(this._exit||this._groups.map(ns),this._parents)}function Ba(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Da(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],h=u.length,f=l[a]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(f[p]=d);for(;a<i;++a)l[a]=n[a];return new Le(l,this._parents)}function Fa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Va(t){t||(t=Wa);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(e)}return new Le(i,this._parents).order()}function Wa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ja(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ga(){return Array.from(this)}function za(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Ha(){let t=0;for(const e of this)++t;return t}function qa(){return!this.node()}function Xa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function Ya(t){return function(){this.removeAttribute(t)}}function Ua(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ka(t,e){return function(){this.setAttribute(t,e)}}function Za(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ja(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function eu(t,e){var n=Jn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ua:Ya:typeof e=="function"?n.local?Ja:Qa:n.local?Za:Ka)(n,e))}function rs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tu(t){return function(){this.style.removeProperty(t)}}function nu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ru(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function iu(t,e,n){return arguments.length>1?this.each((e==null?tu:typeof e=="function"?ru:nu)(t,e,n??"")):Bt(this.node(),t)}function Bt(t,e){return t.style.getPropertyValue(e)||rs(t).getComputedStyle(t,null).getPropertyValue(e)}function ou(t){return function(){delete this[t]}}function su(t,e){return function(){this[t]=e}}function lu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function au(t,e){return arguments.length>1?this.each((e==null?ou:typeof e=="function"?lu:su)(t,e)):this.node()[t]}function is(t){return t.trim().split(/^|\s+/)}function Zr(t){return t.classList||new os(t)}function os(t){this._node=t,this._names=is(t.getAttribute("class")||"")}os.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ss(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ls(t,e){for(var n=Zr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function uu(t){return function(){ss(this,t)}}function cu(t){return function(){ls(this,t)}}function hu(t,e){return function(){(e.apply(this,arguments)?ss:ls)(this,t)}}function fu(t,e){var n=is(t+"");if(arguments.length<2){for(var r=Zr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?hu:e?uu:cu)(n,e))}function du(){this.textContent=""}function pu(t){return function(){this.textContent=t}}function gu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function mu(t){return arguments.length?this.each(t==null?du:(typeof t=="function"?gu:pu)(t)):this.node().textContent}function wu(){this.innerHTML=""}function _u(t){return function(){this.innerHTML=t}}function bu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function yu(t){return arguments.length?this.each(t==null?wu:(typeof t=="function"?bu:_u)(t)):this.node().innerHTML}function vu(){this.nextSibling&&this.parentNode.appendChild(this)}function ku(){return this.each(vu)}function Eu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xu(){return this.each(Eu)}function Mu(t){var e=typeof t=="function"?t:Qo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nu(){return null}function $u(t,e){var n=typeof t=="function"?t:Qo(t),r=e==null?Nu:typeof e=="function"?e:Kr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Cu(){var t=this.parentNode;t&&t.removeChild(this)}function Tu(){return this.each(Cu)}function Su(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ou(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Iu(t){return this.select(t?Ou:Su)}function Au(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Pu(t){return function(e){t.call(this,e,this.__data__)}}function Lu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ru(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Bu(t,e,n){return function(){var r=this.__on,i,o=Pu(e);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Du(t,e,n){var r=Lu(t+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=e?Bu:Ru,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function as(t,e,n){var r=rs(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Fu(t,e){return function(){return as(this,t,e)}}function Vu(t,e){return function(){return as(this,t,e.apply(this,arguments))}}function Wu(t,e){return this.each((typeof e=="function"?Vu:Fu)(t,e))}function*ju(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var us=[null];function Le(t,e){this._groups=t,this._parents=e}function En(){return new Le([[document.documentElement]],us)}function Gu(){return this}Le.prototype=En.prototype={constructor:Le,select:ga,selectAll:ba,selectChild:Ea,selectChildren:$a,filter:Ca,data:Pa,enter:Ta,exit:Ra,join:Ba,merge:Da,selection:Gu,order:Fa,sort:Va,call:ja,nodes:Ga,node:za,size:Ha,empty:qa,each:Xa,attr:eu,style:iu,property:au,classed:fu,text:mu,html:yu,raise:ku,lower:xu,append:Mu,insert:$u,remove:Tu,clone:Iu,datum:Au,on:Du,dispatch:Wu,[Symbol.iterator]:ju};function cn(t){return typeof t=="string"?new Le([[document.querySelector(t)]],[document.documentElement]):new Le([[t]],us)}function zu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Li(t,e){if(t=zu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Hu={passive:!1},hn={capture:!0,passive:!1};function fr(t){t.stopImmediatePropagation()}function It(t){t.preventDefault(),t.stopImmediatePropagation()}function qu(t){var e=t.document.documentElement,n=cn(t).on("dragstart.drag",It,hn);"onselectstart"in e?n.on("selectstart.drag",It,hn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Xu(t,e){var n=t.document.documentElement,r=cn(t).on("dragstart.drag",null);e&&(r.on("click.drag",It,hn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sn=t=>()=>t;function Tr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Tr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Yu(t){return!t.ctrlKey&&!t.button}function Uu(){return this.parentNode}function Ku(t,e){return e??{x:t.x,y:t.y}}function Zu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qu(){var t=Yu,e=Uu,n=Ku,r=Zu,i={},o=Ur("start","drag","end"),s=0,l,a,u,c,h=0;function f(w){w.on("mousedown.drag",d).filter(r).on("touchstart.drag",v).on("touchmove.drag",$,Hu).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(w,b){if(!(c||!t.call(this,w,b))){var C=y(this,e.call(this,w,b),w,b,"mouse");C&&(cn(w.view).on("mousemove.drag",p,hn).on("mouseup.drag",_,hn),qu(w.view),fr(w),u=!1,l=w.clientX,a=w.clientY,C("start",w))}}function p(w){if(It(w),!u){var b=w.clientX-l,C=w.clientY-a;u=b*b+C*C>h}i.mouse("drag",w)}function _(w){cn(w.view).on("mousemove.drag mouseup.drag",null),Xu(w.view,u),It(w),i.mouse("end",w)}function v(w,b){if(t.call(this,w,b)){var C=w.changedTouches,E=e.call(this,w,b),I=C.length,D,G;for(D=0;D<I;++D)(G=y(this,E,w,b,C[D].identifier,C[D]))&&(fr(w),G("start",w,C[D]))}}function $(w){var b=w.changedTouches,C=b.length,E,I;for(E=0;E<C;++E)(I=i[b[E].identifier])&&(It(w),I("drag",w,b[E]))}function k(w){var b=w.changedTouches,C=b.length,E,I;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<C;++E)(I=i[b[E].identifier])&&(fr(w),I("end",w,b[E]))}function y(w,b,C,E,I,D){var G=o.copy(),K=Li(D||C,b),W,T,N;if((N=n.call(w,new Tr("beforestart",{sourceEvent:C,target:f,identifier:I,active:s,x:K[0],y:K[1],dx:0,dy:0,dispatch:G}),E))!=null)return W=N.x-K[0]||0,T=N.y-K[1]||0,function R(Z,ge,me){var ve=K,ue;switch(Z){case"start":i[I]=R,ue=s++;break;case"end":delete i[I],--s;case"drag":K=Li(me||ge,b),ue=s;break}G.call(Z,w,new Tr(Z,{sourceEvent:ge,subject:N,target:f,identifier:I,active:ue,x:K[0]+W,y:K[1]+T,dx:K[0]-ve[0],dy:K[1]-ve[1],dispatch:G}),E)}}return f.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Sn(!!w),f):t},f.container=function(w){return arguments.length?(e=typeof w=="function"?w:Sn(w),f):e},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:Sn(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:Sn(!!w),f):r},f.on=function(){var w=o.on.apply(o,arguments);return w===o?f:w},f.clickDistance=function(w){return arguments.length?(h=(w=+w)*w,f):Math.sqrt(h)},f}function Qr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function xn(){}var fn=.7,Xn=1/fn,At="\\s*([+-]?\\d+)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ju=/^#([0-9a-f]{3,8})$/,ec=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),tc=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),nc=new RegExp(`^rgba\\(${At},${At},${At},${dn}\\)$`),rc=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${dn}\\)$`),ic=new RegExp(`^hsl\\(${dn},${Ye},${Ye}\\)$`),oc=new RegExp(`^hsla\\(${dn},${Ye},${Ye},${dn}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qr(xn,pn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bi,formatHex:Bi,formatHex8:sc,formatHsl:lc,formatRgb:Di,toString:Di});function Bi(){return this.rgb().formatHex()}function sc(){return this.rgb().formatHex8()}function lc(){return hs(this).formatHsl()}function Di(){return this.rgb().formatRgb()}function pn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ju.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fi(e):n===3?new Ce(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?On(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?On(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ec.exec(t))?new Ce(e[1],e[2],e[3],1):(e=tc.exec(t))?new Ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nc.exec(t))?On(e[1],e[2],e[3],e[4]):(e=rc.exec(t))?On(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ic.exec(t))?ji(e[1],e[2]/100,e[3]/100,1):(e=oc.exec(t))?ji(e[1],e[2]/100,e[3]/100,e[4]):Ri.hasOwnProperty(t)?Fi(Ri[t]):t==="transparent"?new Ce(NaN,NaN,NaN,0):null}function Fi(t){return new Ce(t>>16&255,t>>8&255,t&255,1)}function On(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ce(t,e,n,r)}function ac(t){return t instanceof xn||(t=pn(t)),t?(t=t.rgb(),new Ce(t.r,t.g,t.b,t.opacity)):new Ce}function Sr(t,e,n,r){return arguments.length===1?ac(t):new Ce(t,e,n,r??1)}function Ce(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Qr(Ce,Sr,cs(xn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?fn:Math.pow(fn,t),new Ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ce(_t(this.r),_t(this.g),_t(this.b),Yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vi,formatHex:Vi,formatHex8:uc,formatRgb:Wi,toString:Wi}));function Vi(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}`}function uc(){return`#${gt(this.r)}${gt(this.g)}${gt(this.b)}${gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wi(){const t=Yn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function Yn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function ji(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new je(t,e,n,r)}function hs(t){if(t instanceof je)return new je(t.h,t.s,t.l,t.opacity);if(t instanceof xn||(t=pn(t)),!t)return new je;if(t instanceof je)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new je(s,l,a,t.opacity)}function cc(t,e,n,r){return arguments.length===1?hs(t):new je(t,e,n,r??1)}function je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Qr(je,cc,cs(xn,{brighter(t){return t=t==null?Xn:Math.pow(Xn,t),new je(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?fn:Math.pow(fn,t),new je(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ce(dr(t>=240?t-240:t+120,i,r),dr(t,i,r),dr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new je(Gi(this.h),In(this.s),In(this.l),Yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yn(this.opacity);return`${t===1?"hsl(":"hsla("}${Gi(this.h)}, ${In(this.s)*100}%, ${In(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Gi(t){return t=(t||0)%360,t<0?t+360:t}function In(t){return Math.max(0,Math.min(1,t||0))}function dr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fs=t=>()=>t;function hc(t,e){return function(n){return t+n*e}}function fc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dc(t){return(t=+t)==1?ds:function(e,n){return n-e?fc(e,n,t):fs(isNaN(e)?n:e)}}function ds(t,e){var n=e-t;return n?hc(t,n):fs(isNaN(t)?e:t)}const zi=function t(e){var n=dc(e);function r(i,o){var s=n((i=Sr(i)).r,(o=Sr(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=ds(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function nt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Or=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pr=new RegExp(Or.source,"g");function pc(t){return function(){return t}}function gc(t){return function(e){return t(e)+""}}function mc(t,e){var n=Or.lastIndex=pr.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(t=t+"",e=e+"";(r=Or.exec(t))&&(i=pr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:nt(r,i)})),n=pr.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?gc(a[0].x):pc(e):(e=a.length,function(u){for(var c=0,h;c<e;++c)l[(h=a[c]).i]=h.x(u);return l.join("")})}var Hi=180/Math.PI,Ir={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ps(t,e,n,r,i,o){var s,l,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Hi,skewX:Math.atan(a)*Hi,scaleX:s,scaleY:l}}var An;function wc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ir:ps(e.a,e.b,e.c,e.d,e.e,e.f)}function _c(t){return t==null||(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),!(t=An.transform.baseVal.consolidate()))?Ir:(t=t.matrix,ps(t.a,t.b,t.c,t.d,t.e,t.f))}function gs(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:nt(u,h)},{i:_-2,x:nt(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function s(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:nt(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function l(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:nt(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function a(u,c,h,f,d,p){if(u!==h||c!==f){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:nt(u,h)},{i:_-2,x:nt(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),s(u.rotate,c.rotate,h,f),l(u.skewX,c.skewX,h,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var p=-1,_=f.length,v;++p<_;)h[(v=f[p]).i]=v.x(d);return h.join("")}}}var bc=gs(wc,"px, ","px)","deg)"),yc=gs(_c,", ",")",")"),Dt=0,rn=0,Jt=0,ms=1e3,Un,on,Kn=0,bt=0,er=0,gn=typeof performance=="object"&&performance.now?performance:Date,ws=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jr(){return bt||(ws(vc),bt=gn.now()+er)}function vc(){bt=0}function Zn(){this._call=this._time=this._next=null}Zn.prototype=_s.prototype={constructor:Zn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Jr():+n)+(e==null?0:+e),!this._next&&on!==this&&(on?on._next=this:Un=this,on=this),this._call=t,this._time=n,Ar()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ar())}};function _s(t,e,n){var r=new Zn;return r.restart(t,e,n),r}function kc(){Jr(),++Dt;for(var t=Un,e;t;)(e=bt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Dt}function qi(){bt=(Kn=gn.now())+er,Dt=rn=0;try{kc()}finally{Dt=0,xc(),bt=0}}function Ec(){var t=gn.now(),e=t-Kn;e>ms&&(er-=e,Kn=t)}function xc(){for(var t,e=Un,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Un=n);on=t,Ar(r)}function Ar(t){if(!Dt){rn&&(rn=clearTimeout(rn));var e=t-bt;e>24?(t<1/0&&(rn=setTimeout(qi,t-gn.now()-er)),Jt&&(Jt=clearInterval(Jt))):(Jt||(Kn=gn.now(),Jt=setInterval(Ec,ms)),Dt=1,ws(qi))}}function Xi(t,e,n){var r=new Zn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Mc=Ur("start","end","cancel","interrupt"),Nc=[],bs=0,Yi=1,Pr=2,Fn=3,Ui=4,Lr=5,Vn=6;function tr(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;$c(t,n,{name:e,index:r,group:i,on:Mc,tween:Nc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:bs})}function ei(t,e){var n=ze(t,e);if(n.state>bs)throw new Error("too late; already scheduled");return n}function Ue(t,e){var n=ze(t,e);if(n.state>Fn)throw new Error("too late; already running");return n}function ze(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $c(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=_s(o,0,n.time);function o(u){n.state=Yi,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,h,f,d;if(n.state!==Yi)return a();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Fn)return Xi(s);d.state===Ui?(d.state=Vn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Vn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Xi(function(){n.state===Fn&&(n.state=Ui,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Pr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Pr){for(n.state=Fn,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Lr,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Lr&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Vn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Cc(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Pr&&r.state<Lr,r.state=Vn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Tc(t){return this.each(function(){Cc(this,t)})}function Sc(t,e){var n,r;return function(){var i=Ue(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Oc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ue(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:e,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===e){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function Ic(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ze(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Sc:Oc)(n,t,e))}function ti(t,e,n){var r=t._id;return t.each(function(){var i=Ue(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ze(i,r).value[e]}}function ys(t,e){var n;return(typeof e=="number"?nt:e instanceof pn?zi:(n=pn(e))?(e=n,zi):mc)(t,e)}function Ac(t){return function(){this.removeAttribute(t)}}function Pc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Rc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Bc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Dc(t,e,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l)))}}function Fc(t,e){var n=Jn(t),r=n==="transform"?yc:ys;return this.attrTween(t,typeof e=="function"?(n.local?Dc:Bc)(n,r,ti(this,"attr."+t,e)):e==null?(n.local?Pc:Ac)(n):(n.local?Rc:Lc)(n,r,e))}function Vc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Wc(t,o)),n}return i._value=e,i}function Gc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Vc(t,o)),n}return i._value=e,i}function zc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jn(t);return this.tween(n,(r.local?jc:Gc)(r,e))}function Hc(t,e){return function(){ei(this,t).delay=+e.apply(this,arguments)}}function qc(t,e){return e=+e,function(){ei(this,t).delay=e}}function Xc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hc:qc)(e,t)):ze(this.node(),e).delay}function Yc(t,e){return function(){Ue(this,t).duration=+e.apply(this,arguments)}}function Uc(t,e){return e=+e,function(){Ue(this,t).duration=e}}function Kc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Yc:Uc)(e,t)):ze(this.node(),e).duration}function Zc(t,e){if(typeof e!="function")throw new Error;return function(){Ue(this,t).ease=e}}function Qc(t){var e=this._id;return arguments.length?this.each(Zc(e,t)):ze(this.node(),e).ease}function Jc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ue(this,t).ease=n}}function eh(t){if(typeof t!="function")throw new Error;return this.each(Jc(this._id,t))}function th(t){typeof t!="function"&&(t=es(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new et(r,this._parents,this._name,this._id)}function nh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=e[l],u=n[l],c=a.length,h=s[l]=new Array(c),f,d=0;d<c;++d)(f=a[d]||u[d])&&(h[d]=f);for(;l<r;++l)s[l]=e[l];return new et(s,this._parents,this._name,this._id)}function rh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ih(t,e,n){var r,i,o=rh(e)?ei:Ue;return function(){var s=o(this,t),l=s.on;l!==r&&(i=(r=l).copy()).on(e,n),s.on=i}}function oh(t,e){var n=this._id;return arguments.length<2?ze(this.node(),n).on.on(t):this.each(ih(n,t,e))}function sh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lh(){return this.on("end.remove",sh(this._id))}function ah(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Kr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,h,f=0;f<a;++f)(c=l[f])&&(h=t.call(c,c.__data__,f,l))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,tr(u[f],e,n,f,u,ze(c,n)));return new et(o,this._parents,e,n)}function uh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Jo(t));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,h=0;h<u;++h)if(c=a[h]){for(var f=t.call(c,c.__data__,h,a),d,p=ze(c,n),_=0,v=f.length;_<v;++_)(d=f[_])&&tr(d,e,n,_,f,p);o.push(f),s.push(c)}return new et(o,s,e,n)}var ch=En.prototype.constructor;function hh(){return new ch(this._groups,this._parents)}function fh(t,e){var n,r,i;return function(){var o=Bt(this,t),s=(this.style.removeProperty(t),Bt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function vs(t){return function(){this.style.removeProperty(t)}}function dh(t,e,n){var r,i=n+"",o;return function(){var s=Bt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function ph(t,e,n){var r,i,o;return function(){var s=Bt(this,t),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(t),Bt(this,t))),s===a?null:s===r&&a===i?o:(i=a,o=e(r=s,l))}}function gh(t,e){var n,r,i,o="style."+e,s="end."+o,l;return function(){var a=Ue(this,t),u=a.on,c=a.value[o]==null?l||(l=vs(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function mh(t,e,n){var r=(t+="")=="transform"?bc:ys;return e==null?this.styleTween(t,fh(t,r)).on("end.style."+t,vs(t)):typeof e=="function"?this.styleTween(t,ph(t,r,ti(this,"style."+t,e))).each(gh(this._id,t)):this.styleTween(t,dh(t,r,e),n).on("end.style."+t,null)}function wh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function _h(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&wh(t,s,n)),r}return o._value=e,o}function bh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,_h(t,e,n??""))}function yh(t){return function(){this.textContent=t}}function vh(t){return function(){var e=t(this);this.textContent=e??""}}function kh(t){return this.tween("text",typeof t=="function"?vh(ti(this,"text",t)):yh(t==null?"":t+""))}function Eh(t){return function(e){this.textContent=t.call(this,e)}}function xh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Eh(i)),e}return r._value=t,r}function Mh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,xh(t))}function Nh(){for(var t=this._name,e=this._id,n=ks(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=ze(a,e);tr(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new et(r,this._parents,t,n)}function $h(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=Ue(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(a)),u.on=e}),i===0&&o()})}var Ch=0;function et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ks(){return++Ch}var Qe=En.prototype;et.prototype={constructor:et,select:ah,selectAll:uh,selectChild:Qe.selectChild,selectChildren:Qe.selectChildren,filter:th,merge:nh,selection:hh,transition:Nh,call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:oh,attr:Fc,attrTween:zc,style:mh,styleTween:bh,text:kh,textTween:Mh,remove:lh,tween:Ic,delay:Xc,duration:Kc,ease:Qc,easeVarying:eh,end:$h,[Symbol.iterator]:Qe[Symbol.iterator]};function Th(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Sh={time:null,delay:0,duration:250,ease:Th};function Oh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ih(t){var e,n;t instanceof et?(e=t._id,t=t._name):(e=ks(),(n=Sh).time=Jr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&tr(a,t,e,u,s,n||Oh(a,e));return new et(r,this._parents,t,e)}En.prototype.interrupt=Tc;En.prototype.transition=Ih;const Rr=Math.PI,Br=2*Rr,ft=1e-6,Ah=Br-ft;function Es(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ph(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Es;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xs{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Es:Ph(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,a=r-e,u=i-n,c=s-e,h=l-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>ft)if(!(Math.abs(h*a-u*c)>ft)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-s,p=i-l,_=a*a+u*u,v=d*d+p*p,$=Math.sqrt(_),k=Math.sqrt(f),y=o*Math.tan((Rr-Math.acos((_+f-v)/(2*$*k)))/2),w=y/k,b=y/$;Math.abs(w-1)>ft&&this._append`L${e+w*c},${n+w*h}`,this._append`A${o},${o},0,0,${+(h*d>c*p)},${this._x1=e+b*a},${this._y1=n+b*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),a=r*Math.sin(i),u=e+l,c=n+a,h=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ft||Math.abs(this._y1-c)>ft)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Br+Br),f>Ah?this._append`A${r},${r},0,1,${h},${e-l},${n-a}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>ft&&this._append`A${r},${r},0,${+(f>=Rr)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ms(){return new xs}Ms.prototype=xs.prototype;function sn(t,e,n){this.k=t,this.x=e,this.y=n}sn.prototype={constructor:sn,scale:function(t){return t===1?this:new sn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new sn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};sn.prototype;class Dr{constructor(e){P(this,"context",Ms()),P(this,"x0",NaN),P(this,"x1",NaN),P(this,"y0",NaN),P(this,"y1",NaN),P(this,"state",0);for(let n=0;n<e.length;n++){const r=e[n];if(this.point(r.x,r.y),n===e.length-1)switch(this.state){case 3:this.curve(this.x1,this.y1),this.context.lineTo(this.x1,this.y1);break;case 2:this.context.lineTo(this.x1,this.y1);break}}}point(e,n){switch(e=+e,n=+n,this.state){case 0:this.state=1,this.context.moveTo(e,n);break;case 1:this.state=2;break;case 2:this.state=3,this.context.lineTo((5*this.x0+this.x1)/6,(5*this.y0+this.y1)/6),this.curve(e,n);break;default:this.curve(e,n);break}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=n}curve(e,n){this.context.bezierCurveTo((2*this.x0+this.x1)/3,(2*this.y0+this.y1)/3,(this.x0+2*this.x1)/3,(this.y0+2*this.y1)/3,(this.x0+4*this.x1+e)/6,(this.y0+4*this.y1+n)/6)}build(){return this.context.toString()}}class oe{constructor(e,n,r,i){this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.xMin=e,this.xMax=r,this.yMin=n,this.yMax=i}static infinity(){return new oe(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE)}isEmpty(){return this.xMin===Number.MAX_VALUE||this.yMin===Number.MAX_VALUE||this.xMax===Number.MIN_VALUE||this.yMax===Number.MIN_VALUE}static fromCenterAndDimension(e,n,r){return new oe(e.x-n/2,e.y-r/2,e.x+n/2,e.y+r/2)}static fromPoints(...e){return e.reduce((n,r)=>(n.xMin=Math.min(n.xMin,r.x),n.yMin=Math.min(n.yMin,r.y),n.xMax=Math.max(n.xMax,r.x),n.yMax=Math.max(n.yMax,r.y),n),oe.infinity())}static fromUnion(...e){return e.reduce((n,r)=>n.union(r),oe.infinity())}get width(){return this.xMax-this.xMin}get height(){return this.yMax-this.yMin}get center(){return{x:this.xMin+this.width/2,y:this.yMin+this.height/2}}padded(e){const{l:n,r,b:i,t:o}=typeof e=="object"?e:{l:e,r:e,t:e,b:e};return new oe(this.xMin-n,this.yMin-o,this.xMax+r,this.yMax+i)}union(e){return new oe(Math.min(this.xMin,e.xMin),Math.min(this.yMin,e.yMin),Math.max(this.xMax,e.xMax),Math.max(this.yMax,e.yMax))}transformed(e){const n=e.apply(this.xMin,this.yMin),r=e.apply(this.xMax,this.yMax);return new oe(n.x,n.y,r.x,r.y)}contains(e,n){return this.xMin<=e&&this.yMin<=n&&e<=this.xMax&&n<=this.yMax}encloses(e){return this.contains(e.xMin,e.yMin)&&this.contains(e.xMax,e.yMax)}intersects(e){return this.xMin<=e.xMin&&e.xMin<=this.xMax||this.xMin<=e.xMax&&e.xMax<=this.xMax||this.yMin<=e.yMin&&e.yMin<=this.yMax||this.yMin<=e.yMax&&e.yMax<=this.yMax}}function*Lh(t,e){let n=!0;for(const r of t)n||(yield e),n=!1,yield r}function Wn(t,e,n){return Math.min(Math.max(n,t),e)}class ut{constructor(e){P(this,"options"),this.options=e}with(e){return this.options={...this.options,...e},this}}function Y(){}const Rh=t=>t;function tt(t,e){for(const n in e)t[n]=e[n];return t}function Ns(t){return t()}function Ki(){return Object.create(null)}function Ke(t){t.forEach(Ns)}function $s(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Bh(t){return Object.keys(t).length===0}function Fr(t,...e){if(t==null){for(const r of e)r(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Cs(t,e,n){t.$$.on_destroy.push(Fr(e,n))}function Ts(t,e,n,r){if(t){const i=Ss(t,e,n,r);return t[0](i)}}function Ss(t,e,n,r){return t[1]&&r?tt(n.ctx.slice(),t[1](r(e))):n.ctx}function Os(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|i[l];return o}return e.dirty|i}return e.dirty}function Is(t,e,n,r,i,o){if(i){const s=Ss(e,n,r,o);t.p(s,i)}}function As(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function gr(t,e,n){return t.set(n),e}const Ps=typeof window<"u";let Dh=Ps?()=>window.performance.now():()=>Date.now(),Ls=Ps?t=>requestAnimationFrame(t):Y;const Pt=new Set;function Rs(t){Pt.forEach(e=>{e.c(t)||(Pt.delete(e),e.f())}),Pt.size!==0&&Ls(Rs)}function Fh(t){let e;return Pt.size===0&&Ls(Rs),{promise:new Promise(n=>{Pt.add(e={c:t,f:n})}),abort(){Pt.delete(e)}}}function H(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Bs(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function pe(t){return document.createElement(t)}function U(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ze(t){return document.createTextNode(t)}function Je(){return Ze(" ")}function Fe(){return Ze("")}function se(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Vh(t){return Array.from(t.childNodes)}function Mn(t,e){e=""+e,t.data!==e&&(t.data=e)}function Wh(t,e,n,r){t.style.setProperty(e,n,"")}function jh(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Ft(t,e){return new t(e)}let mn;function un(t){mn=t}function nr(){if(!mn)throw new Error("Function called outside component initialization");return mn}function Ds(t){nr().$$.on_mount.push(t)}function Wt(){const t=nr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=jh(e,n,{cancelable:r});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function Gh(t,e){return nr().$$.context.set(t,e),e}function Fs(t){return nr().$$.context.get(t)}function $e(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Tt=[],ot=[];let Lt=[];const Vr=[],Vs=Promise.resolve();let Wr=!1;function Ws(){Wr||(Wr=!0,Vs.then(js))}function Pn(){return Ws(),Vs}function jr(t){Lt.push(t)}function zh(t){Vr.push(t)}const mr=new Set;let Nt=0;function js(){if(Nt!==0)return;const t=mn;do{try{for(;Nt<Tt.length;){const e=Tt[Nt];Nt++,un(e),Hh(e.$$)}}catch(e){throw Tt.length=0,Nt=0,e}for(un(null),Tt.length=0,Nt=0;ot.length;)ot.pop()();for(let e=0;e<Lt.length;e+=1){const n=Lt[e];mr.has(n)||(mr.add(n),n())}Lt.length=0}while(Tt.length);for(;Vr.length;)Vr.pop()();Wr=!1,mr.clear(),un(t)}function Hh(t){if(t.fragment!==null){t.update(),Ke(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(jr)}}function qh(t){const e=[],n=[];Lt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Lt=e}const jn=new Set;let mt;function Ae(){mt={r:0,c:[],p:mt}}function Pe(){mt.r||Ke(mt.c),mt=mt.p}function L(t,e){t&&t.i&&(jn.delete(t),t.i(e))}function j(t,e,n,r){if(t&&t.o){if(jn.has(t))return;jn.add(t),mt.c.push(()=>{jn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Gn(t,e){j(t,1,1,()=>{e.delete(t.key)})}function zn(t,e,n,r,i,o,s,l,a,u,c,h){let f=t.length,d=o.length,p=f;const _={};for(;p--;)_[t[p].key]=p;const v=[],$=new Map,k=new Map,y=[];for(p=d;p--;){const E=h(i,o,p),I=n(E);let D=s.get(I);D?y.push(()=>D.p(E,e)):(D=u(I,E),D.c()),$.set(I,v[p]=D),I in _&&k.set(I,Math.abs(p-_[I]))}const w=new Set,b=new Set;function C(E){L(E,1),E.m(l,c),s.set(E.key,E),c=E.first,d--}for(;f&&d;){const E=v[d-1],I=t[f-1],D=E.key,G=I.key;E===I?(c=E.first,f--,d--):$.has(G)?!s.has(D)||w.has(D)?C(E):b.has(G)?f--:k.get(D)>k.get(G)?(b.add(D),C(E)):(w.add(G),f--):(a(I,s),f--)}for(;f--;){const E=t[f];$.has(E.key)||a(E,s)}for(;d;)C(v[d-1]);return Ke(y),v}function Vt(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],l=e[o];if(l){for(const a in s)a in l||(r[a]=1);for(const a in l)i[a]||(n[a]=l[a],i[a]=1);t[o]=l}else for(const a in s)i[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Xh(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ce(t){t&&t.c()}function le(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),jr(()=>{const o=t.$$.on_mount.map(Ns).filter($s);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ke(o),t.$$.on_mount=[]}),i.forEach(jr)}function ae(t,e){const n=t.$$;n.fragment!==null&&(qh(n.after_update),Ke(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Yh(t,e){t.$$.dirty[0]===-1&&(Tt.push(t),Ws(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ee(t,e,n,r,i,o,s=null,l=[-1]){const a=mn;un(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:i,bound:Ki(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ki(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(h,f,...d)=>{const p=d.length?d[0]:f;return u.ctx&&i(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),c&&Yh(t,h)),f}):[],u.update(),c=!0,Ke(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=Vh(e.target);u.fragment&&u.fragment.l(h),h.forEach(B)}else u.fragment&&u.fragment.c();e.intro&&L(t.$$.fragment),le(t,e.target,e.anchor),js()}un(a)}class xe{constructor(){P(this,"$$"),P(this,"$$set")}$destroy(){ae(this,1),this.$destroy=Y}$on(e,n){if(!$s(n))return Y;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Bh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Uh="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Uh);var Zi={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function Qi(t,e,n){const r=t.slice();return r[3]=e[n],r}function Kh(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[3].boundingBox().transformed(t[3].transform).xMin),g(e,"y",r=t[3].boundingBox().transformed(t[3].transform).yMin),g(e,"width",i=t[3].boundingBox().transformed(t[3].transform).width),g(e,"height",o=t[3].boundingBox().transformed(t[3].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.1")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[3].boundingBox().transformed(s[3].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[3].boundingBox().transformed(s[3].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[3].boundingBox().transformed(s[3].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[3].boundingBox().transformed(s[3].transform).height)&&g(e,"height",o)},d(s){s&&B(e)}}}function Ji(t){let e,n,r,i,o=Zi.VITE_WIREFRAME_CONTAINER&&Kh(t);const s=[{self:t[3]}];var l=t[3].drawable();function a(u,c){let h={};for(let f=0;f<s.length;f+=1)h=tt(h,s[f]);return c!==void 0&&c&1&&(h=tt(h,Vt(s,[{self:u[3]}]))),{props:h}}return l&&(n=Ft(l,a(t))),{c(){o&&o.c(),e=Fe(),n&&ce(n.$$.fragment),r=Fe()},m(u,c){o&&o.m(u,c),V(u,e,c),n&&le(n,u,c),V(u,r,c),i=!0},p(u,c){if(Zi.VITE_WIREFRAME_CONTAINER&&o.p(u,c),c&1&&l!==(l=u[3].drawable())){if(n){Ae();const h=n;j(h.$$.fragment,1,0,()=>{ae(h,1)}),Pe()}l?(n=Ft(l,a(u,c)),ce(n.$$.fragment),L(n.$$.fragment,1),le(n,r.parentNode,r)):n=null}else if(l){const h=c&1?Vt(s,[{self:u[3]}]):{};n.$set(h)}},i(u){i||(n&&L(n.$$.fragment,u),i=!0)},o(u){n&&j(n.$$.fragment,u),i=!1},d(u){u&&(B(e),B(r)),o&&o.d(u),n&&ae(n,u)}}}function Zh(t){let e,n,r;const i=t[2].default,o=Ts(i,t,t[1],null);let s=De(t[0].children),l=[];for(let u=0;u<s.length;u+=1)l[u]=Ji(Qi(t,s,u));const a=u=>j(l[u],1,1,()=>{l[u]=null});return{c(){e=U("g"),o&&o.c();for(let u=0;u<l.length;u+=1)l[u].c();g(e,"transform",n=t[0].transform.toString())},m(u,c){V(u,e,c),o&&o.m(e,null);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(e,null);r=!0},p(u,[c]){if(o&&o.p&&(!r||c&2)&&Is(o,i,u,u[1],r?Os(i,u[1],c,null):As(u[1]),null),c&1){s=De(u[0].children);let h;for(h=0;h<s.length;h+=1){const f=Qi(u,s,h);l[h]?(l[h].p(f,c),L(l[h],1)):(l[h]=Ji(f),l[h].c(),L(l[h],1),l[h].m(e,null))}for(Ae(),h=s.length;h<l.length;h+=1)a(h);Pe()}(!r||c&1&&n!==(n=u[0].transform.toString()))&&g(e,"transform",n)},i(u){if(!r){L(o,u);for(let c=0;c<s.length;c+=1)L(l[c]);r=!0}},o(u){j(o,u),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)j(l[c]);r=!1},d(u){u&&B(e),o&&o.d(u),Bs(l,u)}}}function Qh(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(1,i=s.$$scope)},[o,i,r]}let ni=class extends xe{constructor(e){super(),Ee(this,e,Qh,Zh,be,{self:0})}};class Jh{constructor(){P(this,"onClick")}}class jt extends Jh{constructor(){super(),P(this,"transform"),this.transform=$r.identity()}moveTo(e,n){this.transform.x=e,this.transform.y=n}}class Nn extends jt{constructor(...e){super(),P(this,"children"),this.children=e}boundingBox(){return oe.fromUnion(...this.children.map(e=>e.boundingBox().transformed(e.transform)))}drawable(){return ni}}class Gs extends ut{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),P(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e));let r=0;if(this.options.spread&&e.targetWidth!==void 0){const o=n.length-1,s=n.reduce((a,u)=>a+u.boundingBox().width,this.options.spacing*o),l=e.targetWidth-s;r=Math.max(l/(this.children.length-1),0)}const i={x:0,y:0};for(const o of n)o.moveTo(i.x,i.y),i.x+=o.boundingBox().width+this.options.spacing+r;return new ri(this.options,...n)}}class zs extends ut{constructor(...e){super({spacing:0,spread:!1,minWidth:Number.MIN_VALUE,maxWidth:Number.MAX_VALUE}),P(this,"children"),this.children=e}padded(e){return new Gt(this,e)}build(e={}){const n=Math.max(this.options.minWidth,this.children.reduce((o,s)=>Math.max(o,s.build(e).boundingBox().width),-1/0)),r=this.children.map(o=>o.build({...e,targetWidth:n})),i={x:0,y:0};for(const o of r)o.moveTo(i.x,i.y),i.y+=o.boundingBox().height+this.options.spacing;return new ri(this.options,...r)}}class ri extends Nn{constructor(e,...n){super(...n),this.options=e,this.options=e}boundingBox(){const e=super.boundingBox();return e.xMax=Wn(this.options.minWidth,this.options.maxWidth,e.xMax),e}}class ef{constructor(...e){P(this,"children"),this.children=e}build(e={}){const n=this.children.map(o=>o.build(e)),{width:r,height:i}=oe.fromUnion(...n.map(o=>o.boundingBox()));for(const o of n){const{width:s,height:l}=o.boundingBox();o.moveTo(r/2-s/2,i/2-l/2)}return new Nn(...n)}}const Hs={l:8,r:8,t:10,b:10};function qs(t,e,n,r){switch(n){case"topRight":return{x:t.xMax+r,y:t.yMin};case"bottomMiddle":return{x:t.center.x-e.width/2,y:t.yMax+r}}}let tf=class extends ut{constructor(e){super({anchor:"topRight"}),P(this,"content"),this.content=e}build(e={}){return new Xs(new Ys(new Gt(this.content,Hs)).with({radius:6,borderColor:"none",backgroundColor:Ve.background.darkGray}).build({defaultOptions:{text:{foregroundColor:"white"}}}),this.options)}};class Xs extends jt{constructor(e,n){super(),this.content=e,this.options=n}boundingBox(){return this.content.boundingBox().padded(Hs)}drawable(){throw Error("not implemented")}}class Ys extends ut{constructor(e){super({backgroundColor:Ve.white,borderColor:Ve.foreground.grayTertiary,borderWidth:1,borderDash:void 0,radius:void 0}),this.inner=e}content(){return this.inner}build(e={}){const n=this.inner.build(e),r=n.boundingBox();return new Us(n,new li(r.width,r.height).with(this.options).build(e))}}class Us extends Nn{constructor(e,n){super(n,e)}boundingBox(){return super.boundingBox()}}function nf(t){let e,n;return{c(){e=U("path"),g(e,"stroke",Ve.foreground.grayTertiary),g(e,"stroke-width","1"),g(e,"fill","none"),g(e,"pointer-events","none"),g(e,"marker-end","url(#arrowhead)"),g(e,"d",n=new Dr(t[0]).build())},m(r,i){V(r,e,i)},p(r,[i]){i&1&&n!==(n=new Dr(r[0]).build())&&g(e,"d",n)},i:Y,o:Y,d(r){r&&B(e)}}}function rf(t,e,n){let r,{self:i}=e;return t.$$set=o=>{"self"in o&&n(1,i=o.self)},t.$$.update=()=>{t.$$.dirty&2&&n(0,r=i.points.map(o=>i.transform.apply(o.x,o.y)))},[r,i]}let of=class extends xe{constructor(e){super(),Ee(this,e,rf,nf,be,{self:1})}};class sf{constructor(e){this.points=e,this.points=e}build(){return new ii(this.points)}}class ii extends jt{constructor(e){super(),P(this,"points"),this.points=e}path(){const e=this.points.map(n=>this.transform.apply(n.x,n.y));return new Dr(e).build()}boundingBox(){return oe.fromPoints(...this.points)}drawable(){return of}}class Ks extends Nn{}var eo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function lf(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[0].boundingBox().transformed(t[0].transform).xMin),g(e,"y",r=t[0].boundingBox().transformed(t[0].transform).yMin),g(e,"width",i=t[0].boundingBox().transformed(t[0].transform).width),g(e,"height",o=t[0].boundingBox().transformed(t[0].transform).height),g(e,"fill","magenta"),g(e,"opacity","0.3")},m(s,l){V(s,e,l)},p(s,l){l&1&&n!==(n=s[0].boundingBox().transformed(s[0].transform).xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].boundingBox().transformed(s[0].transform).yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].boundingBox().transformed(s[0].transform).width)&&g(e,"width",i),l&1&&o!==(o=s[0].boundingBox().transformed(s[0].transform).height)&&g(e,"height",o)},d(s){s&&B(e)}}}function af(t){let e,n,r=t[0].text+"",i,o,s,l=eo.VITE_WIREFRAME_TEXT&&lf(t);return{c(){l&&l.c(),e=Je(),n=U("text"),i=Ze(r),g(n,"x",o=t[0].transform.x),g(n,"y",s=t[0].transform.y),g(n,"dominant-baseline","hanging"),g(n,"font-family",t[2]),g(n,"font-size",t[1]),g(n,"fill",t[3]),g(n,"font-weight",t[4])},m(a,u){l&&l.m(a,u),V(a,e,u),V(a,n,u),H(n,i)},p(a,[u]){eo.VITE_WIREFRAME_TEXT&&l.p(a,u),u&1&&r!==(r=a[0].text+"")&&Mn(i,r),u&1&&o!==(o=a[0].transform.x)&&g(n,"x",o),u&1&&s!==(s=a[0].transform.y)&&g(n,"y",s)},i:Y,o:Y,d(a){a&&(B(e),B(n)),l&&l.d(a)}}}function uf(t,e,n){let{self:r}=e;const{fontSize:i,font:o,foregroundColor:s,fontWeight:l}=r.options;return t.$$set=a=>{"self"in a&&n(0,r=a.self)},[r,i,o,s,l]}let cf=class extends xe{constructor(e){super(),Ee(this,e,uf,af,be,{self:0})}};class hf{constructor(){P(this,"canvas"),P(this,"ctx"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}measureTextWidth(e,n){return this.ctx.font=`${n.fontSize}px ${n.font}`,this.ctx.textBaseline="top",this.ctx.measureText(e).width}}class Zs extends ut{constructor(e){super({font:kn.family,fontSize:16,fontWeight:200}),P(this,"text"),this.text=e}padded(e){return new Gt(this,e)}build(e){var n;return new Qs(this.text,{...(n=e==null?void 0:e.defaultOptions)==null?void 0:n.text,...this.options})}}class Qs extends jt{constructor(e,n){super(),P(this,"text"),P(this,"options"),P(this,"width"),P(this,"height"),this.text=e,this.options=n,this.width=new hf().measureTextWidth(this.text,this.options),this.height=n.fontSize}boundingBox(){return new oe(0,0,this.width,this.height)}drawable(){return cf}}const oi=Symbol();function ff(t){let e,n,r;return{c(){e=U("rect"),g(e,"x",n=t[0].transform.x),g(e,"y",r=t[0].transform.y),g(e,"width",t[6]),g(e,"height",t[7]),g(e,"rx",t[1]),g(e,"fill",t[4]),g(e,"stroke",t[5]),g(e,"stroke-width",t[3]),g(e,"stroke-dasharray",t[2])},m(i,o){V(i,e,o)},p(i,[o]){o&1&&n!==(n=i[0].transform.x)&&g(e,"x",n),o&1&&r!==(r=i[0].transform.y)&&g(e,"y",r),o&2&&g(e,"rx",i[1]),o&16&&g(e,"fill",i[4]),o&32&&g(e,"stroke",i[5]),o&8&&g(e,"stroke-width",i[3]),o&4&&g(e,"stroke-dasharray",i[2])},i:Y,o:Y,d(i){i&&B(e)}}}function df(t,e,n){let r,i,o,s,l,{self:a}=e;const u=a.boundingBox().width,c=a.boundingBox().height;return t.$$set=h=>{"self"in h&&n(0,a=h.self)},t.$$.update=()=>{t.$$.dirty&1&&n(5,{borderColor:r,backgroundColor:i,borderWidth:o,borderDash:s,radius:l}=a.options,r,(n(4,i),n(0,a)),(n(3,o),n(0,a)),(n(2,s),n(0,a)),(n(1,l),n(0,a)))},[a,l,s,o,i,r,u,c]}let Js=class extends xe{constructor(e){super(),Ee(this,e,df,ff,be,{self:0})}};function to(t){let e,n,r,i,o=t[2].text&&no(t);return{c(){e=U("g"),n=U("circle"),o&&o.c(),g(n,"r","10"),g(n,"fill",r=t[2].color),g(n,"stroke","white"),g(n,"stroke-width","2"),g(e,"class","badge"),g(e,"transform",i=`translate(${t[3].width+t[5].x},${-t[5].y})`)},m(s,l){V(s,e,l),H(e,n),o&&o.m(e,null)},p(s,l){l&4&&r!==(r=s[2].color)&&g(n,"fill",r),s[2].text?o?o.p(s,l):(o=no(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null),l&8&&i!==(i=`translate(${s[3].width+s[5].x},${-s[5].y})`)&&g(e,"transform",i)},d(s){s&&B(e),o&&o.d()}}}function no(t){let e,n=t[2].text+"",r;return{c(){e=U("text"),r=Ze(n),g(e,"y",1),g(e,"font-family",kn.family),g(e,"font-size","10"),g(e,"text-anchor","middle"),g(e,"dominant-baseline","middle"),g(e,"fill","white")},m(i,o){V(i,e,o),H(e,r)},p(i,o){o&4&&n!==(n=i[2].text+"")&&Mn(r,n)},d(i){i&&B(e)}}}function pf(t){let e,n,r,i,o,s,l,a;n=new Js({props:{self:t[1]}});const u=[{self:t[0].content}];var c=t[0].content.drawable();function h(d,p){let _={};for(let v=0;v<u.length;v+=1)_=tt(_,u[v]);return p!==void 0&&p&1&&(_=tt(_,Vt(u,[{self:d[0].content}]))),{props:_}}c&&(r=Ft(c,h(t)));let f=t[2]&&to(t);return{c(){e=U("g"),ce(n.$$.fragment),r&&ce(r.$$.fragment),i=Ze(` -->
  `),f&&f.c(),g(e,"transform",o=`translate(${t[3].xMin},${t[3].yMin})`),g(e,"cursor","pointer")},m(d,p){V(d,e,p),le(n,e,null),r&&le(r,e,null),H(e,i),f&&f.m(e,null),s=!0,l||(a=[se(e,"click",t[13]),se(e,"dblclick",t[14]),se(e,"mouseenter",t[6]),se(e,"mouseleave",t[7])],l=!0)},p(d,[p]){const _={};if(p&2&&(_.self=d[1]),n.$set(_),p&1&&c!==(c=d[0].content.drawable())){if(r){Ae();const v=r;j(v.$$.fragment,1,0,()=>{ae(v,1)}),Pe()}c?(r=Ft(c,h(d,p)),ce(r.$$.fragment),L(r.$$.fragment,1),le(r,e,i)):r=null}else if(c){const v=p&1?Vt(u,[{self:d[0].content}]):{};r.$set(v)}d[2]?f?f.p(d,p):(f=to(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||p&8&&o!==(o=`translate(${d[3].xMin},${d[3].yMin})`))&&g(e,"transform",o)},i(d){s||(L(n.$$.fragment,d),r&&L(r.$$.fragment,d),s=!0)},o(d){j(n.$$.fragment,d),r&&j(r.$$.fragment,d),s=!1},d(d){d&&B(e),ae(n),r&&ae(r),f&&f.d(),l=!1,Ke(a)}}}function gf(t,e,n){let r,i,o,s,l,a;const u=Wt();let{self:c}=e,{decoration:h}=e;const{selections:f}=Fs(oi);Cs(t,f,y=>n(12,a=y));const d={x:1,y:1};let p=!1;function _(y){n(9,p=!0),u("nodeEnter",{...y,nodeId:r})}function v(y){n(9,p=!1),u("nodeLeave",{...y,nodeId:r})}function $(y){$e.call(this,t,y)}function k(y){$e.call(this,t,y)}return t.$$set=y=>{"self"in y&&n(0,c=y.self),"decoration"in y&&n(8,h=y.decoration)},t.$$.update=()=>{t.$$.dirty&1&&n(11,r=c.nodeId),t.$$.dirty&6144&&n(10,i=a.has(r)),t.$$.dirty&1&&n(3,o=c.boundingBox()),t.$$.dirty&1&&n(2,s=c.options.badge),t.$$.dirty&1793&&n(1,l=new li(c.content.boundingBox().width,c.content.boundingBox().height).with({borderColor:Ve.foreground.grayTertiary,borderWidth:1,radius:6,borderDash:c.options.borderDash,backgroundColor:c.options.backgroundColor}).with({...h}).with(p?{borderColor:Ve.foreground.blue}:{}).with(i?{borderColor:Ve.foreground.blue,borderWidth:3}:{}).build())},[c,l,s,o,f,d,_,v,h,p,i,r,a,$,k]}let si=class extends xe{constructor(e){super(),Ee(this,e,gf,pf,be,{self:0,decoration:8})}};function mf(t){return new Gs(new Zs(t)).with({minWidth:30})}class wf extends ut{constructor(e,...n){super({selectable:!1,borderDash:void 0,badge:void 0,tooltip:void 0,backgroundColor:Ve.white,borderColor:Ve.foreground.grayTertiary,humanReadable:void 0,padding:{l:8,r:8,t:10,b:10}}),P(this,"contents"),this.nodeId=e,this.contents=n.length>0?n:[mf(this.options.humanReadable||this.nodeId)]}humanReadable(){return this.options.humanReadable}build(e={}){const n=[...Lh(this.contents.map(r=>new Gt(r,this.options.padding)),new nl().with({color:this.options.borderColor,dash:this.options.borderDash}))];return new el(this.nodeId,new zs(...n).build(e),this.options)}}class el extends jt{constructor(e,n,r){super(),this.nodeId=e,this.content=n,this.options=r}boundingBox(){return this.content.boundingBox().transformed(this.transform)}drawable(){return si}}class li extends ut{constructor(e,n){super({backgroundColor:Ve.black,borderColor:"none",borderWidth:0,borderDash:void 0,radius:void 0}),P(this,"width"),P(this,"height"),this.width=e,this.height=n}padded(e){return new Gt(this,e)}build(e={}){return new ai(this.width,this.height,this.options)}}class ai extends jt{constructor(e,n,r){super(),this.width=e,this.height=n,this.options=r}boundingBox(){return new oe(0,0,this.width,this.height)}drawable(){return Js}}function _f(t){return t.l!==void 0}class Gt{constructor(e,n){P(this,"p"),this.inner=e,this.inner=e,this.p=_f(n)?n:{l:n,r:n,t:n,b:n}}content(){return this.inner}padding(){return this.p}build(e={}){const{l:n,t:r,r:i}=this.p,o=e.targetWidth?this.inner.build({...e,targetWidth:e.targetWidth-n-i}):this.inner.build({...e});return o.moveTo(n,r),new tl(o,this.p)}}class tl extends Nn{constructor(e,n){super(e),P(this,"padding"),this.padding=n}boundingBox(){return super.boundingBox().padded(this.padding)}drawable(){return ni}}const bf=1,yf=100;class nl extends ut{constructor(e){super({color:Ve.foreground.grayTertiary,dash:void 0}),P(this,"width"),this.width=e}build(e={}){const n=this.width||e.targetWidth||yf;return new ai(n,bf,{backgroundColor:this.options.color,borderColor:"none",borderWidth:0,radius:void 0,borderDash:this.options.dash})}}const wr=Object.freeze(Object.defineProperty({__proto__:null,Edge:sf,EdgeDisplayObject:ii,EdgesDisplayObject:Ks,Frame:Ys,FrameDisplayObject:Us,HStack:Gs,Node:wf,NodeDisplayObject:el,Padded:Gt,PaddedDisplayObject:tl,Rect:li,RectDisplayObject:ai,Separator:nl,StackContainer:ri,Text:Zs,TextDisplayObject:Qs,Theme:aa,Tooltip:tf,TooltipDisplayObject:Xs,VStack:zs,ZStack:ef,positionTooltip:qs},Symbol.toStringTag,{value:"Module"}));function vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kf="\0",ht="\0",ro="";let Ef=class{constructor(e){P(this,"_isDirected",!0),P(this,"_isMultigraph",!1),P(this,"_isCompound",!1),P(this,"_label"),P(this,"_defaultNodeLabelFn",()=>{}),P(this,"_defaultEdgeLabelFn",()=>{}),P(this,"_nodes",{}),P(this,"_in",{}),P(this,"_preds",{}),P(this,"_out",{}),P(this,"_sucs",{}),P(this,"_edgeObjs",{}),P(this,"_edgeLabels",{}),P(this,"_nodeCount",0),P(this,"_edgeCount",0),P(this,"_parent"),P(this,"_children"),e&&(this._isDirected=e.hasOwnProperty("directed")?e.directed:!0,this._isMultigraph=e.hasOwnProperty("multigraph")?e.multigraph:!1,this._isCompound=e.hasOwnProperty("compound")?e.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[ht]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,typeof e!="function"&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter(n=>Object.keys(e._in[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(e._out[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(o){r.length>1?i.setNode(o,n):i.setNode(o)}),this}setNode(e,n){return this._nodes.hasOwnProperty(e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=ht,this._children[e]={},this._children[ht][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return this._nodes.hasOwnProperty(e)}removeNode(e){var n=this;if(this._nodes.hasOwnProperty(e)){var r=i=>n.removeEdge(n._edgeObjs[i]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach(function(i){n.setParent(i)}),delete this._children[e]),Object.keys(this._in[e]).forEach(r),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=ht;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==ht)return n}}children(e=ht){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else{if(e===ht)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=this._preds[e];if(n)return Object.keys(n)}successors(e){var n=this._sucs[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;Object.entries(this._nodes).forEach(function([s,l]){e(s)&&n.setNode(s,l)}),Object.values(this._edgeObjs).forEach(function(s){n.hasNode(s.v)&&n.hasNode(s.w)&&n.setEdge(s,r.edge(s))});var i={};function o(s){var l=r.parent(s);return l===void 0||n.hasNode(l)?(i[s]=l,l):l in i?i[l]:o(l)}return this._isCompound&&n.nodes().forEach(s=>n.setParent(s,o(s))),n}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,typeof e!="function"&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,n){var r=this,i=arguments;return e.reduce(function(o,s){return i.length>1?r.setEdge(o,s,n):r.setEdge(o,s),s}),this}setEdge(){var e,n,r,i,o=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,n=s.w,r=s.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=s,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var l=ln(this._isDirected,e,n,r);if(this._edgeLabels.hasOwnProperty(l))return o&&(this._edgeLabels[l]=i),this;if(r!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),this._edgeLabels[l]=o?i:this._defaultEdgeLabelFn(e,n,r);var a=xf(this._isDirected,e,n,r);return e=a.v,n=a.w,Object.freeze(a),this._edgeObjs[l]=a,io(this._preds[n],e),io(this._sucs[e],n),this._in[n][l]=a,this._out[e][l]=a,this._edgeCount++,this}edge(e,n,r){var i=arguments.length===1?_r(this._isDirected,arguments[0]):ln(this._isDirected,e,n,r);return this._edgeLabels[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?_r(this._isDirected,arguments[0]):ln(this._isDirected,e,n,r);return this._edgeLabels.hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?_r(this._isDirected,arguments[0]):ln(this._isDirected,e,n,r),o=this._edgeObjs[i];return o&&(e=o.v,n=o.w,delete this._edgeLabels[i],delete this._edgeObjs[i],oo(this._preds[n],e),oo(this._sucs[e],n),delete this._in[n][i],delete this._out[e][i],this._edgeCount--),this}inEdges(e,n){var r=this._in[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.v===n):i}}outEdges(e,n){var r=this._out[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}};function io(t,e){t[e]?t[e]++:t[e]=1}function oo(t,e){--t[e]||delete t[e]}function ln(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}return i+ro+o+ro+(r===void 0?kf:r)}function xf(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var s=i;i=o,o=s}var l={v:i,w:o};return r&&(l.name=r),l}function _r(t,e){return ln(t,e.v,e.w,e.name)}var ui=Ef,Mf="2.2.2",Nf={Graph:ui,version:Mf},$f=ui,Cf={write:Tf,read:If};function Tf(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Sf(t),edges:Of(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function Sf(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function Of(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function If(t){var e=new $f(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Af=Pf;function Pf(t){var e={},n=[],r;function i(o){e.hasOwnProperty(o)||(e[o]=!0,r.push(o),t.successors(o).forEach(i),t.predecessors(o).forEach(i))}return t.nodes().forEach(function(o){r=[],i(o),r.length&&n.push(r)}),n}let Lf=class{constructor(){P(this,"_arr",[]),P(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(e){return e.key})}has(e){return this._keyIndices.hasOwnProperty(e)}priority(e){var n=this._keyIndices[e];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(e,n){var r=this._keyIndices;if(e=String(e),!r.hasOwnProperty(e)){var i=this._arr,o=i.length;return r[e]=o,i.push({key:e,priority:n}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,n){var r=this._keyIndices[e];if(n>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+n);this._arr[r].priority=n,this._decrease(r)}_heapify(e){var n=this._arr,r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(this._swap(e,o),this._heapify(o)))}_decrease(e){for(var n=this._arr,r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)this._swap(e,i),e=i}_swap(e,n){var r=this._arr,i=this._keyIndices,o=r[e],s=r[n];r[e]=s,r[n]=o,i[s.key]=e,i[o.key]=n}};var rl=Lf,Rf=rl,il=Df,Bf=()=>1;function Df(t,e,n,r){return Ff(t,String(e),n||Bf,r||function(i){return t.outEdges(i)})}function Ff(t,e,n,r){var i={},o=new Rf,s,l,a=function(u){var c=u.v!==s?u.v:u.w,h=i[c],f=n(u),d=l.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);d<h.distance&&(h.distance=d,h.predecessor=s,o.decrease(c,d))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},o.add(u,c)});o.size()>0&&(s=o.removeMin(),l=i[s],l.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(a);return i}var Vf=il,Wf=jf;function jf(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=Vf(t,i,e,n),r},{})}var ol=Gf;function Gf(t){var e=0,n=[],r={},i=[];function o(s){var l=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(c){r.hasOwnProperty(c)?r[c].onStack&&(l.lowlink=Math.min(l.lowlink,r[c].index)):(o(c),l.lowlink=Math.min(l.lowlink,r[c].lowlink))}),l.lowlink===l.index){var a=[],u;do u=n.pop(),r[u].onStack=!1,a.push(u);while(s!==u);i.push(a)}}return t.nodes().forEach(function(s){r.hasOwnProperty(s)||o(s)}),i}var zf=ol,Hf=qf;function qf(t){return zf(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var Xf=Uf,Yf=()=>1;function Uf(t,e,n){return Kf(t,e||Yf,n||function(r){return t.outEdges(r)})}function Kf(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(s){o!==s&&(r[o][s]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var l=s.v===o?s.w:s.v,a=e(s);r[o][l]={distance:a,predecessor:o}})}),i.forEach(function(o){var s=r[o];i.forEach(function(l){var a=r[l];i.forEach(function(u){var c=a[o],h=s[u],f=a[u],d=c.distance+h.distance;d<f.distance&&(f.distance=d,f.predecessor=h.predecessor)})})}),r}function sl(t){var e={},n={},r=[];function i(o){if(n.hasOwnProperty(o))throw new Gr;e.hasOwnProperty(o)||(n[o]=!0,e[o]=!0,t.predecessors(o).forEach(i),delete n[o],r.push(o))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new Gr;return r}class Gr extends Error{constructor(){super(...arguments)}}var ll=sl;sl.CycleException=Gr;var so=ll,Zf=Qf;function Qf(t){try{so(t)}catch(e){if(e instanceof so.CycleException)return!1;throw e}return!0}var al=Jf;function Jf(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?l=>t.successors(l):l=>t.neighbors(l),i=n==="post"?ed:td,o=[],s={};return e.forEach(l=>{if(!t.hasNode(l))throw new Error("Graph does not have node: "+l);i(l,r,s,o)}),o}function ed(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):n.hasOwnProperty(o[0])||(n[o[0]]=!0,i.push([o[0],!0]),ul(e(o[0]),s=>i.push([s,!1])))}}function td(t,e,n,r){for(var i=[t];i.length>0;){var o=i.pop();n.hasOwnProperty(o)||(n[o]=!0,r.push(o),ul(e(o),s=>i.push(s)))}}function ul(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var nd=al,rd=id;function id(t,e){return nd(t,e,"post")}var od=al,sd=ld;function ld(t,e){return od(t,e,"pre")}var ad=ui,ud=rl,cd=hd;function hd(t,e){var n=new ad,r={},i=new ud,o;function s(a){var u=a.v===o?a.w:a.v,c=i.priority(u);if(c!==void 0){var h=e(a);h<c&&(r[u]=o,i.decrease(u,h))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(a){i.add(a,Number.POSITIVE_INFINITY),n.setNode(a)}),i.decrease(t.nodes()[0],0);for(var l=!1;i.size()>0;){if(o=i.removeMin(),r.hasOwnProperty(o))n.setEdge(o,r[o]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(o).forEach(s)}return n}var fd={components:Af,dijkstra:il,dijkstraAll:Wf,findCycles:Hf,floydWarshall:Xf,isAcyclic:Zf,postorder:rd,preorder:sd,prim:cd,tarjan:ol,topsort:ll},lo=Nf,He={Graph:lo.Graph,json:Cf,alg:fd,version:lo.version};let dd=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return ao(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&ao(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],n=this._sentinel,r=n._prev;for(;r!==n;)e.push(JSON.stringify(r,pd)),r=r._prev;return"["+e.join(", ")+"]"}};function ao(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function pd(t,e){if(t!=="_next"&&t!=="_prev")return e}var gd=dd;let md=He.Graph,wd=gd;var _d=yd;let bd=()=>1;function yd(t,e){if(t.nodeCount()<=1)return[];let n=kd(t,e||bd);return vd(n.graph,n.buckets,n.zeroIdx).flatMap(i=>t.outEdges(i.v,i.w))}function vd(t,e,n){let r=[],i=e[e.length-1],o=e[0],s;for(;t.nodeCount();){for(;s=o.dequeue();)br(t,e,n,s);for(;s=i.dequeue();)br(t,e,n,s);if(t.nodeCount()){for(let l=e.length-2;l>0;--l)if(s=e[l].dequeue(),s){r=r.concat(br(t,e,n,s,!0));break}}}return r}function br(t,e,n,r,i){let o=i?[]:void 0;return t.inEdges(r.v).forEach(s=>{let l=t.edge(s),a=t.node(s.v);i&&o.push({v:s.v,w:s.w}),a.out-=l,zr(e,n,a)}),t.outEdges(r.v).forEach(s=>{let l=t.edge(s),a=s.w,u=t.node(a);u.in-=l,zr(e,n,u)}),t.removeNode(r.v),o}function kd(t,e){let n=new md,r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{let a=n.edge(l.v,l.w)||0,u=e(l),c=a+u;n.setEdge(l.v,l.w,c),i=Math.max(i,n.node(l.v).out+=u),r=Math.max(r,n.node(l.w).in+=u)});let o=Ed(i+r+3).map(()=>new wd),s=r+1;return n.nodes().forEach(l=>{zr(o,s,n.node(l))}),{graph:n,buckets:o,zeroIdx:s}}function zr(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function Ed(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}let cl=He.Graph;var he={addBorderNode:Id,addDummyNode:hl,asNonCompoundGraph:Md,buildLayerMatrix:Td,intersectRect:Cd,mapValues:Dd,maxRank:fl,normalizeRanks:Sd,notime:Ld,partition:Ad,pick:Bd,predecessorWeights:$d,range:pl,removeEmptyRanks:Od,simplify:xd,successorWeights:Nd,time:Pd,uniqueId:dl,zipObject:ci};function hl(t,e,n,r){let i;do i=dl(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function xd(t){let e=new cl().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{let r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function Md(t){let e=new cl({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function Nd(t){let e=t.nodes().map(n=>{let r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return ci(t.nodes(),e)}function $d(t){let e=t.nodes().map(n=>{let r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return ci(t.nodes(),e)}function Cd(t,e){let n=t.x,r=t.y,i=e.x-n,o=e.y-r,s=t.width/2,l=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");let a,u;return Math.abs(o)*s>Math.abs(i)*l?(o<0&&(l=-l),a=l*i/o,u=l):(i<0&&(s=-s),a=s,u=s*o/i),{x:n+a,y:r+u}}function Td(t){let e=pl(fl(t)+1).map(()=>[]);return t.nodes().forEach(n=>{let r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function Sd(t){let e=Math.min(...t.nodes().map(n=>{let r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{let r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function Od(t){let e=Math.min(...t.nodes().map(o=>t.node(o).rank)),n=[];t.nodes().forEach(o=>{let s=t.node(o).rank-e;n[s]||(n[s]=[]),n[s].push(o)});let r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((o,s)=>{o===void 0&&s%i!==0?--r:o!==void 0&&r&&o.forEach(l=>t.node(l).rank+=r)})}function Id(t,e,n,r){let i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),hl(t,"border",i,e)}function fl(t){return Math.max(...t.nodes().map(e=>{let n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function Ad(t,e){let n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function Pd(t,e){let n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function Ld(t,e){return e()}let Rd=0;function dl(t){var e=++Rd;return toString(t)+e}function pl(t,e,n=1){e==null&&(e=t,t=0);let r=o=>o<e;n<0&&(r=o=>e<o);const i=[];for(let o=t;r(o);o+=n)i.push(o);return i}function Bd(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function Dd(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,o])=>(r[i]=n(o,i),r),{})}function ci(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let Fd=_d,Vd=he.uniqueId;var Wd={run:jd,undo:zd};function jd(t){(t.graph().acyclicer==="greedy"?Fd(t,n(t)):Gd(t)).forEach(r=>{let i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,Vd("rev"))});function n(r){return i=>r.edge(i).weight}}function Gd(t){let e=[],n={},r={};function i(o){r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,t.outEdges(o).forEach(s=>{n.hasOwnProperty(s.w)?e.push(s):i(s.w)}),delete n[o])}return t.nodes().forEach(i),e}function zd(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.reversed){t.removeEdge(e);let r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}let Hd=he;var qd={run:Xd,undo:Ud};function Xd(t){t.graph().dummyChains=[],t.edges().forEach(e=>Yd(t,e))}function Yd(t,e){let n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,s=e.name,l=t.edge(e),a=l.labelRank;if(o===r+1)return;t.removeEdge(e);let u,c,h;for(h=0,++r;r<o;++h,++r)l.points=[],c={width:0,height:0,edgeLabel:l,edgeObj:e,rank:r},u=Hd.addDummyNode(t,"edge",c,"_d"),r===a&&(c.width=l.width,c.height=l.height,c.dummy="edge-label",c.labelpos=l.labelpos),t.setEdge(n,u,{weight:l.weight},s),h===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:l.weight},s)}function Ud(t){t.graph().dummyChains.forEach(e=>{let n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var rr={longestPath:Kd,slack:Zd};function Kd(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var o=Math.min(...t.outEdges(r).map(s=>s==null?Number.POSITIVE_INFINITY:n(s.w)-t.edge(s).minlen));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}t.sources().forEach(n)}function Zd(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var Qd=He.Graph,Qn=rr.slack,gl=Jd;function Jd(t){var e=new Qd({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,o;ep(e,t)<r;)i=tp(e,t),o=e.hasNode(i.v)?Qn(t,i):-Qn(t,i),np(e,t,o);return e}function ep(t,e){function n(r){e.nodeEdges(r).forEach(i=>{var o=i.v,s=r===o?i.w:o;!t.hasNode(s)&&!Qn(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})}return t.nodes().forEach(n),t.nodeCount()}function tp(t,e){return e.edges().reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(o=Qn(e,i)),o<r[0]?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function np(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var rp=gl,uo=rr.slack,ip=rr.longestPath,op=He.alg.preorder,sp=He.alg.postorder,lp=he.simplify,ap=yt;yt.initLowLimValues=fi;yt.initCutValues=hi;yt.calcCutValue=ml;yt.leaveEdge=_l;yt.enterEdge=bl;yt.exchangeEdges=yl;function yt(t){t=lp(t),ip(t);var e=rp(t);fi(e),hi(e,t);for(var n,r;n=_l(e);)r=bl(e,t,n),yl(e,t,n,r)}function hi(t,e){var n=sp(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>up(t,e,r))}function up(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=ml(t,e,n)}function ml(t,e,n){var r=t.node(n),i=r.parent,o=!0,s=e.edge(n,i),l=0;return s||(o=!1,s=e.edge(i,n)),l=s.weight,e.nodeEdges(n).forEach(a=>{var u=a.v===n,c=u?a.w:a.v;if(c!==i){var h=u===o,f=e.edge(a).weight;if(l+=h?f:-f,hp(t,n,c)){var d=t.edge(n,c).cutvalue;l+=h?-d:d}}}),l}function fi(t,e){arguments.length<2&&(e=t.nodes()[0]),wl(t,{},1,e)}function wl(t,e,n,r,i){var o=n,s=t.node(r);return e[r]=!0,t.neighbors(r).forEach(l=>{e.hasOwnProperty(l)||(n=wl(t,e,n,l,r))}),s.low=o,s.lim=n++,i?s.parent=i:delete s.parent,n}function _l(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function bl(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),s=t.node(i),l=o,a=!1;o.lim>s.lim&&(l=s,a=!0);var u=e.edges().filter(c=>a===co(t,t.node(c.v),l)&&a!==co(t,t.node(c.w),l));return u.reduce((c,h)=>uo(e,h)<uo(e,c)?h:c)}function yl(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),fi(t),hi(t,e),cp(t,e)}function cp(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=op(t,n);r=r.slice(1),r.forEach(i=>{var o=t.node(i).parent,s=e.edge(i,o),l=!1;s||(s=e.edge(o,i),l=!0),e.node(i).rank=e.node(o).rank+(l?s.minlen:-s.minlen)})}function hp(t,e,n){return t.hasEdge(e,n)}function co(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var fp=rr,vl=fp.longestPath,dp=gl,pp=ap,gp=mp;function mp(t){switch(t.graph().ranker){case"network-simplex":ho(t);break;case"tight-tree":_p(t);break;case"longest-path":wp(t);break;default:ho(t)}}var wp=vl;function _p(t){vl(t),dp(t)}function ho(t){pp(t)}var bp=yp;function yp(t){let e=kp(t);t.graph().dummyChains.forEach(n=>{let r=t.node(n),i=r.edgeObj,o=vp(t,e,i.v,i.w),s=o.path,l=o.lca,a=0,u=s[a],c=!0;for(;n!==i.w;){if(r=t.node(n),c){for(;(u=s[a])!==l&&t.node(u).maxRank<r.rank;)a++;u===l&&(c=!1)}if(!c){for(;a<s.length-1&&t.node(u=s[a+1]).minRank<=r.rank;)a++;u=s[a]}t.setParent(n,u),n=t.successors(n)[0]}})}function vp(t,e,n,r){let i=[],o=[],s=Math.min(e[n].low,e[r].low),l=Math.max(e[n].lim,e[r].lim),a,u;a=n;do a=t.parent(a),i.push(a);while(a&&(e[a].low>s||l>e[a].lim));for(u=a,a=r;(a=t.parent(a))!==u;)o.push(a);return{path:i.concat(o.reverse()),lca:u}}function kp(t){let e={},n=0;function r(i){let o=n;t.children(i).forEach(r),e[i]={low:o,lim:n++}}return t.children().forEach(r),e}let Hr=he;var Ep={run:xp,cleanup:$p};function xp(t){let e=Hr.addDummyNode(t,"root",{},"_root"),n=Mp(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(s=>t.edge(s).minlen*=i);let o=Np(t)+1;t.children().forEach(s=>kl(t,e,i,o,r,n,s)),t.graph().nodeRankFactor=i}function kl(t,e,n,r,i,o,s){let l=t.children(s);if(!l.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}let a=Hr.addBorderNode(t,"_bt"),u=Hr.addBorderNode(t,"_bb"),c=t.node(s);t.setParent(a,s),c.borderTop=a,t.setParent(u,s),c.borderBottom=u,l.forEach(h=>{kl(t,e,n,r,i,o,h);let f=t.node(h),d=f.borderTop?f.borderTop:h,p=f.borderBottom?f.borderBottom:h,_=f.borderTop?r:2*r,v=d!==p?1:i-o[s]+1;t.setEdge(a,d,{weight:_,minlen:v,nestingEdge:!0}),t.setEdge(p,u,{weight:_,minlen:v,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,a,{weight:0,minlen:i+o[s]})}function Mp(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&o.forEach(s=>n(s,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function Np(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function $p(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}let Cp=he;var Tp=Sp;function Sp(t){function e(n){let r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(let o=i.minRank,s=i.maxRank+1;o<s;++o)fo(t,"borderLeft","_bl",n,i,o),fo(t,"borderRight","_br",n,i,o)}}t.children().forEach(e)}function fo(t,e,n,r,i,o){let s={width:0,height:0,rank:o,borderType:e},l=i[e][o-1],a=Cp.addDummyNode(t,"border",s,n);i[e][o]=a,t.setParent(a,r),l&&t.setEdge(l,a,{weight:1})}var Op={adjust:Ip,undo:Ap};function Ip(t){let e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&El(t)}function Ap(t){let e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&Pp(t),(e==="lr"||e==="rl")&&(Lp(t),El(t))}function El(t){t.nodes().forEach(e=>po(t.node(e))),t.edges().forEach(e=>po(t.edge(e)))}function po(t){let e=t.width;t.width=t.height,t.height=e}function Pp(t){t.nodes().forEach(e=>yr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(yr),n.hasOwnProperty("y")&&yr(n)})}function yr(t){t.y=-t.y}function Lp(t){t.nodes().forEach(e=>vr(t.node(e))),t.edges().forEach(e=>{let n=t.edge(e);n.points.forEach(vr),n.hasOwnProperty("x")&&vr(n)})}function vr(t){let e=t.x;t.x=t.y,t.y=e}let Rp=he;var Bp=Dp;function Dp(t){let e={},n=t.nodes().filter(l=>!t.children(l).length),r=Math.max(...n.map(l=>t.node(l).rank)),i=Rp.range(r+1).map(()=>[]);function o(l){if(e[l])return;e[l]=!0;let a=t.node(l);i[a.rank].push(l),t.successors(l).forEach(o)}return n.sort((l,a)=>t.node(l).rank-t.node(a).rank).forEach(o),i}let Fp=he.zipObject;var Vp=Wp;function Wp(t,e){let n=0;for(let r=1;r<e.length;++r)n+=jp(t,e[r-1],e[r]);return n}function jp(t,e,n){let r=Fp(n,n.map((u,c)=>c)),i=e.flatMap(u=>t.outEdges(u).map(c=>({pos:r[c.w],weight:t.edge(c).weight})).sort((c,h)=>c.pos-h.pos)),o=1;for(;o<n.length;)o<<=1;let s=2*o-1;o-=1;let l=new Array(s).fill(0),a=0;return i.forEach(u=>{let c=u.pos+o;l[c]+=u.weight;let h=0;for(;c>0;)c%2&&(h+=l[c+1]),c=c-1>>1,l[c]+=u.weight;a+=u.weight*h}),a}var Gp=zp;function zp(t,e=[]){return e.map(n=>{let r=t.inEdges(n);if(r.length){let i=r.reduce((o,s)=>{let l=t.edge(s),a=t.node(s.v);return{sum:o.sum+l.weight*a.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}let Hp=he;var qp=Xp;function Xp(t,e){let n={};t.forEach((i,o)=>{let s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};i.barycenter!==void 0&&(s.barycenter=i.barycenter,s.weight=i.weight)}),e.edges().forEach(i=>{let o=n[i.v],s=n[i.w];o!==void 0&&s!==void 0&&(s.indegree++,o.out.push(n[i.w]))});let r=Object.values(n).filter(i=>!i.indegree);return Yp(r)}function Yp(t){let e=[];function n(i){return o=>{o.merged||(o.barycenter===void 0||i.barycenter===void 0||o.barycenter>=i.barycenter)&&Up(i,o)}}function r(i){return o=>{o.in.push(i),--o.indegree===0&&t.push(o)}}for(;t.length;){let i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(i=>!i.merged).map(i=>Hp.pick(i,["vs","i","barycenter","weight"]))}function Up(t,e){let n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}let Kp=he;var Zp=Qp;function Qp(t,e){let n=Kp.partition(t,c=>c.hasOwnProperty("barycenter")),r=n.lhs,i=n.rhs.sort((c,h)=>h.i-c.i),o=[],s=0,l=0,a=0;r.sort(Jp(!!e)),a=go(o,i,a),r.forEach(c=>{a+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,l+=c.weight,a=go(o,i,a)});let u={vs:o.flat(!0)};return l&&(u.barycenter=s/l,u.weight=l),u}function go(t,e,n){let r;for(;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function Jp(t){return(e,n)=>e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}let eg=Gp,tg=qp,ng=Zp;var rg=xl;function xl(t,e,n,r){let i=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,l=o?o.borderRight:void 0,a={};s&&(i=i.filter(f=>f!==s&&f!==l));let u=eg(t,i);u.forEach(f=>{if(t.children(f.v).length){let d=xl(t,f.v,n,r);a[f.v]=d,d.hasOwnProperty("barycenter")&&og(f,d)}});let c=tg(u,n);ig(c,a);let h=ng(c,r);if(s&&(h.vs=[s,h.vs,l].flat(!0),t.predecessors(s).length)){let f=t.node(t.predecessors(s)[0]),d=t.node(t.predecessors(l)[0]);h.hasOwnProperty("barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+f.order+d.order)/(h.weight+2),h.weight+=2}return h}function ig(t,e){t.forEach(n=>{n.vs=n.vs.flatMap(r=>e[r]?e[r].vs:r)})}function og(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}let sg=He.Graph,lg=he;var ag=ug;function ug(t,e,n){let r=cg(t),i=new sg({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{let s=t.node(o),l=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,l||r),t[n](o).forEach(a=>{let u=a.v===o?a.w:a.v,c=i.edge(u,o),h=c!==void 0?c.weight:0;i.setEdge(u,o,{weight:t.edge(a).weight+h})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function cg(t){for(var e;t.hasNode(e=lg.uniqueId("_root")););return e}var hg=fg;function fg(t,e,n){let r={},i;n.forEach(o=>{let s=t.parent(o),l,a;for(;s;){if(l=t.parent(s),l?(a=r[l],r[l]=s):(a=i,i=s),a&&a!==s){e.setEdge(a,s);return}s=l}})}let dg=Bp,pg=Vp,gg=rg,mg=ag,wg=hg,_g=He.Graph,Ln=he;var bg=Ml;function Ml(t,e){if(e&&typeof e.customOrder=="function"){e.customOrder(t,Ml);return}let n=Ln.maxRank(t),r=mo(t,Ln.range(1,n+1),"inEdges"),i=mo(t,Ln.range(n-1,-1,-1),"outEdges"),o=dg(t);if(wo(t,o),e&&e.disableOptimalOrderHeuristic)return;let s=Number.POSITIVE_INFINITY,l;for(let a=0,u=0;u<4;++a,++u){yg(a%2?r:i,a%4>=2),o=Ln.buildLayerMatrix(t);let c=pg(t,o);c<s&&(u=0,l=Object.assign({},o),s=c)}wo(t,l)}function mo(t,e,n){return e.map(function(r){return mg(t,r,n)})}function yg(t,e){let n=new _g;t.forEach(function(r){let i=r.graph().root,o=gg(r,i,n,e);o.vs.forEach((s,l)=>r.node(s).order=l),wg(r,n,o.vs)})}function wo(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}let vg=He.Graph,wn=he;var kg={positionX:Mg,findType1Conflicts:Nl,findType2Conflicts:$l,addConflict:di,hasConflict:Cl,verticalAlignment:Tl,horizontalCompaction:Sl,alignCoordinates:Il,findSmallestWidthAlignment:Ol,balance:Al};function Nl(t,e){let n={};function r(i,o){let s=0,l=0,a=i.length,u=o[o.length-1];return o.forEach((c,h)=>{let f=Eg(t,c),d=f?t.node(f).order:a;(f||c===u)&&(o.slice(l,h+1).forEach(p=>{t.predecessors(p).forEach(_=>{let v=t.node(_),$=v.order;($<s||d<$)&&!(v.dummy&&t.node(p).dummy)&&di(n,_,p)})}),l=h+1,s=d)}),o}return e.length&&e.reduce(r),n}function $l(t,e){let n={};function r(o,s,l,a,u){let c;wn.range(s,l).forEach(h=>{c=o[h],t.node(c).dummy&&t.predecessors(c).forEach(f=>{let d=t.node(f);d.dummy&&(d.order<a||d.order>u)&&di(n,f,c)})})}function i(o,s){let l=-1,a,u=0;return s.forEach((c,h)=>{if(t.node(c).dummy==="border"){let f=t.predecessors(c);f.length&&(a=t.node(f[0]).order,r(s,u,h,l,a),u=h,l=a)}r(s,u,s.length,a,o.length)}),s}return e.length&&e.reduce(i),n}function Eg(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function di(t,e,n){if(e>n){let i=e;e=n,n=i}let r=t[e];r||(t[e]=r={}),r[n]=!0}function Cl(t,e,n){if(e>n){let r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function Tl(t,e,n,r){let i={},o={},s={};return e.forEach(l=>{l.forEach((a,u)=>{i[a]=a,o[a]=a,s[a]=u})}),e.forEach(l=>{let a=-1;l.forEach(u=>{let c=r(u);if(c.length){c=c.sort((f,d)=>s[f]-s[d]);let h=(c.length-1)/2;for(let f=Math.floor(h),d=Math.ceil(h);f<=d;++f){let p=c[f];o[u]===u&&a<s[p]&&!Cl(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],a=s[p])}}})}),{root:i,align:o}}function Sl(t,e,n,r,i){let o={},s=xg(t,e,n,i),l=i?"borderLeft":"borderRight";function a(h,f){let d=s.nodes(),p=d.pop(),_={};for(;p;)_[p]?h(p):(_[p]=!0,d.push(p),d=d.concat(f(p))),p=d.pop()}function u(h){o[h]=s.inEdges(h).reduce((f,d)=>Math.max(f,o[d.v]+s.edge(d)),0)}function c(h){let f=s.outEdges(h).reduce((p,_)=>Math.min(p,o[_.w]-s.edge(_)),Number.POSITIVE_INFINITY),d=t.node(h);f!==Number.POSITIVE_INFINITY&&d.borderType!==l&&(o[h]=Math.max(o[h],f))}return a(u,s.predecessors.bind(s)),a(c,s.successors.bind(s)),Object.keys(r).forEach(h=>o[h]=o[n[h]]),o}function xg(t,e,n,r){let i=new vg,o=t.graph(),s=Ng(o.nodesep,o.edgesep,r);return e.forEach(l=>{let a;l.forEach(u=>{let c=n[u];if(i.setNode(c),a){var h=n[a],f=i.edge(h,c);i.setEdge(h,c,Math.max(s(t,u,a),f||0))}a=u})}),i}function Ol(t,e){return Object.values(e).reduce((n,r)=>{let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([l,a])=>{let u=$g(t,l)/2;i=Math.max(a+u,i),o=Math.min(a-u,o)});const s=i-o;return s<n[0]&&(n=[s,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function Il(t,e){let n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(o=>{["l","r"].forEach(s=>{let l=o+s,a=t[l];if(a===e)return;let u=Object.values(a),c=r-Math.min(...u);s!=="l"&&(c=i-Math.max(...u)),c&&(t[l]=wn.mapValues(a,h=>h+c))})})}function Al(t,e){return wn.mapValues(t.ul,(n,r)=>{if(e)return t[e.toLowerCase()][r];{let i=Object.values(t).map(o=>o[r]).sort((o,s)=>o-s);return(i[1]+i[2])/2}})}function Mg(t){let e=wn.buildLayerMatrix(t),n=Object.assign(Nl(t,e),$l(t,e)),r={},i;["u","d"].forEach(s=>{i=s==="u"?e:Object.values(e).reverse(),["l","r"].forEach(l=>{l==="r"&&(i=i.map(h=>Object.values(h).reverse()));let a=(s==="u"?t.predecessors:t.successors).bind(t),u=Tl(t,i,n,a),c=Sl(t,i,u.root,u.align,l==="r");l==="r"&&(c=wn.mapValues(c,h=>-h)),r[s+l]=c})});let o=Ol(t,r);return Il(r,o),Al(r,t.graph().align)}function Ng(t,e,n){return(r,i,o)=>{let s=r.node(i),l=r.node(o),a=0,u;if(a+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(a+=n?u:-u),u=0,a+=(s.dummy?e:t)/2,a+=(l.dummy?e:t)/2,a+=l.width/2,l.hasOwnProperty("labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(a+=n?u:-u),u=0,a}}function $g(t,e){return t.node(e).width}let Pl=he,Cg=kg.positionX;var Tg=Sg;function Sg(t){t=Pl.asNonCompoundGraph(t),Og(t),Object.entries(Cg(t)).forEach(([e,n])=>t.node(e).x=n)}function Og(t){let e=Pl.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(i=>{const o=i.reduce((s,l)=>{const a=t.node(l).height;return s>a?s:a},0);i.forEach(s=>t.node(s).y=r+o/2),r+=o+n})}let _o=Wd,bo=qd,Ig=gp,Ag=he.normalizeRanks,Pg=bp,Lg=he.removeEmptyRanks,yo=Ep,Rg=Tp,vo=Op,Bg=bg,Dg=Tg,We=he,Fg=He.Graph;var Vg=Wg;function Wg(t,e){let n=e&&e.debugTiming?We.time:We.notime;n("layout",()=>{let r=n("  buildLayoutGraph",()=>Zg(t));n("  runLayout",()=>jg(r,n)),n("  updateInputGraph",()=>Gg(t,r))})}function jg(t,e){e("    makeSpaceForEdgeLabels",()=>Qg(t)),e("    removeSelfEdges",()=>lm(t)),e("    acyclic",()=>_o.run(t)),e("    nestingGraph.run",()=>yo.run(t)),e("    rank",()=>Ig(We.asNonCompoundGraph(t))),e("    injectEdgeLabelProxies",()=>Jg(t)),e("    removeEmptyRanks",()=>Lg(t)),e("    nestingGraph.cleanup",()=>yo.cleanup(t)),e("    normalizeRanks",()=>Ag(t)),e("    assignRankMinMax",()=>em(t)),e("    removeEdgeLabelProxies",()=>tm(t)),e("    normalize.run",()=>bo.run(t)),e("    parentDummyChains",()=>Pg(t)),e("    addBorderSegments",()=>Rg(t)),e("    order",()=>Bg(t)),e("    insertSelfEdges",()=>am(t)),e("    adjustCoordinateSystem",()=>vo.adjust(t)),e("    position",()=>Dg(t)),e("    positionSelfEdges",()=>um(t)),e("    removeBorderNodes",()=>sm(t)),e("    normalize.undo",()=>bo.undo(t)),e("    fixupEdgeLabelCoords",()=>im(t)),e("    undoCoordinateSystem",()=>vo.undo(t)),e("    translateGraph",()=>nm(t)),e("    assignNodeIntersects",()=>rm(t)),e("    reversePoints",()=>om(t)),e("    acyclic.undo",()=>_o.undo(t))}function Gg(t,e){t.nodes().forEach(n=>{let r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{let r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}let zg=["nodesep","edgesep","ranksep","marginx","marginy"],Hg={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},qg=["acyclicer","ranker","rankdir","align"],Xg=["width","height"],ko={width:0,height:0},Yg=["minlen","weight","width","height","labeloffset"],Ug={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Kg=["labelpos"];function Zg(t){let e=new Fg({multigraph:!0,compound:!0}),n=Er(t.graph());return e.setGraph(Object.assign({},Hg,kr(n,zg),We.pick(n,qg))),t.nodes().forEach(r=>{let i=Er(t.node(r));const o=kr(i,Xg);Object.keys(ko).forEach(s=>{o[s]===void 0&&(o[s]=ko[s])}),e.setNode(r,o),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{let i=Er(t.edge(r));e.setEdge(r,Object.assign({},Ug,kr(i,Yg),We.pick(i,Kg)))}),e}function Qg(t){let e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{let r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Jg(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.width&&n.height){let r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};We.addDummyNode(t,"edge-proxy",o,"_ep")}})}function em(t){let e=0;t.nodes().forEach(n=>{let r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function tm(t){t.nodes().forEach(e=>{let n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function nm(t){let e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,l=o.marginy||0;function a(u){let c=u.x,h=u.y,f=u.width,d=u.height;e=Math.min(e,c-f/2),n=Math.max(n,c+f/2),r=Math.min(r,h-d/2),i=Math.max(i,h+d/2)}t.nodes().forEach(u=>a(t.node(u))),t.edges().forEach(u=>{let c=t.edge(u);c.hasOwnProperty("x")&&a(c)}),e-=s,r-=l,t.nodes().forEach(u=>{let c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{let c=t.edge(u);c.points.forEach(h=>{h.x-=e,h.y-=r}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=r)}),o.width=n-e+s,o.height=i-r+l}function rm(t){t.edges().forEach(e=>{let n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o,s;n.points?(o=n.points[0],s=n.points[n.points.length-1]):(n.points=[],o=i,s=r),n.points.unshift(We.intersectRect(r,o)),n.points.push(We.intersectRect(i,s))})}function im(t){t.edges().forEach(e=>{let n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function om(t){t.edges().forEach(e=>{let n=t.edge(e);n.reversed&&n.points.reverse()})}function sm(t){t.nodes().forEach(e=>{if(t.children(e).length){let n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),s=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function lm(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function am(t){var e=We.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,o)=>{var s=t.node(i);s.order=o+r,(s.selfEdges||[]).forEach(l=>{We.addDummyNode(t,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function um(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,s=n.x-i,l=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:o-l},{x:i+5*s/6,y:o-l},{x:i+s,y:o},{x:i+5*s/6,y:o+l},{x:i+2*s/3,y:o+l}],n.label.x=n.x,n.label.y=n.y}})}function kr(t,e){return We.mapValues(We.pick(t,e),Number)}function Er(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}let cm=he,hm=He.Graph;var fm={debugOrdering:dm};function dm(t){let e=cm.buildLayerMatrix(t),n=new hm({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(r=>{n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(r=>n.setEdge(r.v,r.w,{},r.name)),e.forEach((r,i)=>{let o="layer"+i;n.setNode(o,{rank:"same"}),r.reduce((s,l)=>(n.setEdge(s,l,{style:"invis"}),l))}),n}var pm="1.1.2",Hn={graphlib:He,layout:Vg,debug:fm,util:{time:he.time,notime:he.notime},version:pm};const Eo=vf(Hn);class gm{compute(e,n){const r=new Eo.graphlib.Graph;r.setGraph({}),r.setDefaultEdgeLabel(()=>({})),r.setDefaultNodeLabel(()=>({}));const i=new Map,o=new Map,s=new Map,l=new Map,a=k=>{const y=e.childrenT(k);if(y.length===0){const w=e.node(k).build(),{width:b,height:C}=w.boundingBox();r.setNode(k,{width:b,height:C}),i.set(k,w)}else{if(!n.has(k)&&k!==e.root()){const w=e.node(k);s.set(k,{boundingBox:{},name:w.humanReadable()||k})}for(const w of y)if(n.has(w))for(const b of e.hierarchyPreorder(w)){const C=e.node(w).build();l.set(b,w);const{width:E,height:I}=C.boundingBox();r.setNode(w,{width:E,height:I}),o.set(w,C)}else a(w)}};a(e.root());for(const{v:k,w:y}of e.edges()){const w=l.get(k)||k,b=l.get(y)||y;w!==b&&r.setEdge(w,b)}const u=performance.now();Eo.layout(r);const c=performance.now(),{width:h,height:f}=r.graph(),d=new oe(0,0,h,f);for(const[k,y]of i.entries()){const{x:w,y:b,width:C,height:E}=r.node(k);y.moveTo(w-C/2,b-E/2)}for(const[k,y]of o.entries()){const{x:w,y:b,width:C,height:E}=r.node(k);y.moveTo(w-C/2,b-E/2)}const p=20;for(const k of e.hierarchyPostorder()){const y=s.get(k);if(y!==void 0){const w=e.childrenT(k).reduce((b,C)=>{var E,I,D;const G=(E=i.get(C))==null?void 0:E.boundingBox();G!==void 0&&b.push(G);const K=(I=o.get(C))==null?void 0:I.boundingBox();K!==void 0&&b.push(K);const W=(D=s.get(C))==null?void 0:D.boundingBox;if(W!==void 0&&C!==k){const T=2*-p+10,N=oe.fromCenterAndDimension(W.center,W.width+T,W.height+T);b.push(N)}return b},[]);y.boundingBox=oe.fromUnion(...w).padded(p)}}const _=r.edges().map(k=>{const{points:y}=r.edge(k);return[{from:k.v,to:k.w},new ii(y)]}).map(([k,y])=>y),v={layoutTimeMs:c-u},$=new Ks(..._);return{nodes:i,collapsed:o,expanded:s,edges:$,boundingBox:d.union($.boundingBox()),stats:v}}}class pi extends Hn.graphlib.Graph{constructor(e){super({compound:!0}),e!==void 0?Object.assign(this,e):(this.setGraph({}),this.setDefaultEdgeLabel(()=>({})))}setNodeWithParent(e,n,r){this.setNode(e,n),this.setParent(e,r)}parents(e){const n=[];let r=this.parent(e);for(;r!==void 0;)n.push(r),r=this.parent(r);return n}hierarchyPreorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{n.push(o);for(const s of this.childrenT(o))i(s)};for(const o of this.childrenT(r))i(o);return n}hierarchyPostorder(e){const n=[],r=e!==void 0?e:this.root(),i=o=>{for(const s of this.childrenT(o))i(s);n.push(o)};for(const o of this.childrenT(r))i(o);return n}childrenT(e){return this.children(e)}parent(e){return super.parent(e)}nodes(){return super.nodes()}modules(){return this.nodes().filter(e=>this.childrenT(e).length>0)}edges(){return super.edges()}root(){return"\0"}toJson(){return Hn.graphlib.json.write(this)}static readJson(e){return new pi(Hn.graphlib.json.read(e))}}function mm(t,e,n,r){const i=new Set,o=new Set;if(r.expand)for(const l of e)for(const a of t.parents(l))n.has(a)?o.add(a):i.add(a);const s=new Set;if(r.collapseOthers)for(const l of t.modules())!o.has(l)&&!n.has(l)&&!i.has(l)&&s.add(l);return{collapse:s,expand:o}}function wm(t,e){const n=r=>e.has(r)||t.childrenT(r).length===0?1:t.childrenT(r).reduce((i,o)=>i+n(o),0);return t.childrenT(t.root()).reduce((r,i)=>r+n(i),0)}function _m(t){let e;return{c(){e=U("path"),g(e,"d","M20.441,59.9614212 C21.0957895,59.9614212 22.7266842,56.6764211 22.7266842,52.7482369 L22.7266842,38.6593685 L18.182579,38.6593685 L18.182579,52.7482369 C18.182579,56.6764211 19.8134737,59.9614212 20.441,59.9614212 Z M4.26163159,40.7638948 L36.6204211,40.7638948 C38.9460001,40.7638948 40.4145264,39.317579 40.4145264,37.1453685 C40.4145264,29.5821053 31.9740001,21.9558421 20.441,21.9558421 C8.93526317,21.9558421 0.494736843,29.5821053 0.494736843,37.1453685 C0.494736843,39.317579 1.96884211,40.7638948 4.26163159,40.7638948 Z M5.2911579,36.8756316 C4.71700001,36.8756316 4.4541579,36.5583159 4.56310527,35.8480001 C5.1023158,31.2280527 11.0429474,25.7078948 20.441,25.7078948 C29.8718948,25.7078948 35.7796843,31.2280527 36.346158,35.8480001 C36.4551053,36.5583159 36.1650001,36.8756316 35.5908948,36.8756316 L5.2911579,36.8756316 Z M3.74989474,2.76857895 C3.74989474,3.55452632 4.0611579,4.40605264 4.72705264,5.26868422 C6.03868422,7.0183158 9.13778949,9.44489475 12.3810527,11.5798421 L11.4523158,25.1263685 L15.5584737,25.1263685 L16.4983158,9.67205265 C16.5311053,9.30078949 16.4711053,9.17515791 16.2254211,9.04952633 C12.3641579,7.09368422 9.37084212,4.73952632 9.18573686,4.22889474 C8.96778949,3.90094737 9.18626317,3.66589474 9.48189475,3.66589474 L31.4273685,3.66589474 C31.7013158,3.66589474 31.9142106,3.90094737 31.7291053,4.22889474 C31.5112106,4.73952632 28.5451053,7.09368422 24.6621579,9.04952633 C24.4437369,9.17515791 24.3836843,9.30078949 24.4164737,9.67205265 L25.3563685,25.1263685 L29.4569474,25.1263685 L28.501,11.5798421 C31.7497895,9.44489475 34.8488948,7.0183158 36.1605264,5.26868422 C36.8481053,4.40605264 37.1593685,3.55452632 37.1593685,2.76857895 C37.1593685,1.20726316 35.9421053,0.0500000001 34.1512632,0.0500000001 L6.75800001,0.0500000001 C4.93989475,0.0500000001 3.74989474,1.20726316 3.74989474,2.76857895 Z"),g(e,"transform","translate(11.737 2)"),g(e,"fill",t[0]),g(e,"stroke",t[1])},m(n,r){V(n,e,r)},p(n,[r]){r&1&&g(e,"fill",n[0]),r&2&&g(e,"stroke",n[1])},i:Y,o:Y,d(n){n&&B(e)}}}function bm(t,e,n){let{fill:r="white"}=e,{stroke:i="white"}=e;return t.$$set=o=>{"fill"in o&&n(0,r=o.fill),"stroke"in o&&n(1,i=o.stroke)},[r,i]}class ym extends xe{constructor(e){super(),Ee(this,e,bm,_m,be,{fill:0,stroke:1})}}function vm(t){let e,n,r,i,o,s,l,a,u,c,h,f,d;const p=[{self:t[0].content}];var _=t[0].content.drawable();function v($,k){let y={};for(let w=0;w<p.length;w+=1)y=tt(y,p[w]);return k!==void 0&&k&1&&(y=tt(y,Vt(p,[{self:$[0].content}]))),{props:y}}return _&&(n=Ft(_,v(t))),u=new ym({}),{c(){e=U("g"),n&&ce(n.$$.fragment),r=U("g"),i=U("rect"),s=U("text"),l=Ze("Pin"),a=U("g"),ce(u.$$.fragment),g(i,"x","-37"),g(i,"y","-10"),g(i,"width","50"),g(i,"height","20"),g(i,"rx","10"),g(i,"fill",o=t[1]==="pinned"?"orange":"rgb(51,51,51)"),g(i,"stroke","white"),g(i,"stroke-width","2"),g(s,"x","-18"),g(s,"y",1),g(s,"font-family",kn.family),g(s,"font-size","10"),g(s,"text-anchor","middle"),g(s,"dominant-baseline","middle"),g(s,"fill","white"),g(a,"transform","scale(0.2) translate(-32 -30)"),g(r,"transform",c=`translate(${t[2].width+t[6].x},${-t[6].y})`),g(r,"cursor","pointer"),g(e,"role","tooltip")},m($,k){V($,e,k),n&&le(n,e,null),H(e,r),H(r,i),H(r,s),H(s,l),H(r,a),le(u,a,null),h=!0,f||(d=[se(r,"click",t[3]),se(r,"keydown",t[3]),se(e,"mouseenter",t[4]),se(e,"mouseleave",t[5])],f=!0)},p($,[k]){if(k&1&&_!==(_=$[0].content.drawable())){if(n){Ae();const y=n;j(y.$$.fragment,1,0,()=>{ae(y,1)}),Pe()}_?(n=Ft(_,v($,k)),ce(n.$$.fragment),L(n.$$.fragment,1),le(n,e,r)):n=null}else if(_){const y=k&1?Vt(p,[{self:$[0].content}]):{};n.$set(y)}(!h||k&2&&o!==(o=$[1]==="pinned"?"orange":"rgb(51,51,51)"))&&g(i,"fill",o),(!h||k&4&&c!==(c=`translate(${$[2].width+$[6].x},${-$[6].y})`))&&g(r,"transform",c)},i($){h||(n&&L(n.$$.fragment,$),L(u.$$.fragment,$),h=!0)},o($){n&&j(n.$$.fragment,$),j(u.$$.fragment,$),h=!1},d($){$&&B(e),n&&ae(n),ae(u),f=!1,Ke(d)}}}function km(t,e,n){let r,{nodeId:i}=e,{tooltip:o}=e,{state:s}=e;const l=Wt();function a(f){f.stopPropagation(),l("togglePin",{nodeId:i})}function u(f){l("nodeEnter",{...f,nodeId:i})}function c(f){l("nodeLeave",{...f,nodeId:i})}const h={x:1,y:1};return t.$$set=f=>{"nodeId"in f&&n(7,i=f.nodeId),"tooltip"in f&&n(0,o=f.tooltip),"state"in f&&n(1,s=f.state)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=o.boundingBox())},[o,s,r,a,u,c,h,i]}class Em extends xe{constructor(e){super(),Ee(this,e,km,vm,be,{nodeId:7,tooltip:0,state:1})}}const Ll=300;function xm(t,e,n){function r(){t.update(i=>(i.set(e,{tooltip:n,state:"active"}),i))}return window.setTimeout(r,Ll)}function Rl(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&r.state!=="pinned"&&(r.state!=="active"&&window.clearTimeout(r.state),n.set(e,{...r,state:"active"})),n})}function Bl(t,e){function n(){t.update(r=>(r.delete(e),r))}t.update(r=>{const i=r.get(e);return i!==void 0&&i.state!=="pinned"&&r.set(e,{...i,state:window.setTimeout(n,Ll)}),r})}function Mm(t,e){t.update(n=>{const r=n.get(e);return r!==void 0&&(r.state==="pinned"?n.set(e,{...r,state:"active"}):n.set(e,{...r,state:"pinned"})),n})}function xo(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1].position,r[11]=e[n][1].tooltip,r[12]=e[n][1].state,r}function Mo(t,e){let n,r,i,o;return r=new Em({props:{nodeId:e[9],tooltip:e[11],state:e[12]}}),r.$on("mouseenter",e[2]),r.$on("mouseleave",e[3]),r.$on("togglePin",e[4]),r.$on("nodeEnter",e[7]),r.$on("nodeLeave",e[8]),{key:t,first:null,c(){n=U("g"),ce(r.$$.fragment),g(n,"transform",i=`translate(${e[10].x},${e[10].y})`),this.first=n},m(s,l){V(s,n,l),le(r,n,null),o=!0},p(s,l){e=s;const a={};l&1&&(a.nodeId=e[9]),l&1&&(a.tooltip=e[11]),l&1&&(a.state=e[12]),r.$set(a),(!o||l&1&&i!==(i=`translate(${e[10].x},${e[10].y})`))&&g(n,"transform",i)},i(s){o||(L(r.$$.fragment,s),o=!0)},o(s){j(r.$$.fragment,s),o=!1},d(s){s&&B(n),ae(r)}}}function Nm(t){let e=[],n=new Map,r,i,o=De(t[0]);const s=l=>l[9];for(let l=0;l<o.length;l+=1){let a=xo(t,o,l),u=s(a);n.set(u,e[l]=Mo(u,a))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Fe()},m(l,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,a);V(l,r,a),i=!0},p(l,[a]){a&29&&(o=De(l[0]),Ae(),e=zn(e,a,s,1,l,o,n,r.parentNode,Gn,Mo,r,xo),Pe())},i(l){if(!i){for(let a=0;a<o.length;a+=1)L(e[a]);i=!0}},o(l){for(let a=0;a<e.length;a+=1)j(e[a]);i=!1},d(l){l&&B(r);for(let a=0;a<e.length;a+=1)e[a].d(l)}}}const $m=20;function Cm(t,e,n){let r,i;const{tooltips:o}=Fs(oi);Cs(t,o,f=>n(6,i=f));let{nodeLayouts:s}=e;function l(f){Rl(o,f.detail.nodeId)}function a(f){Bl(o,f.detail.nodeId)}function u(f){Mm(o,f.detail.nodeId)}function c(f){$e.call(this,t,f)}function h(f){$e.call(this,t,f)}return t.$$set=f=>{"nodeLayouts"in f&&n(5,s=f.nodeLayouts)},t.$$.update=()=>{t.$$.dirty&96&&n(0,r=[...i.entries()].filter(([f])=>s.has(f)).map(([f,{tooltip:d,state:p}])=>{var _;const v=(_=s.get(f))==null?void 0:_.boundingBox(),$=qs(v,d.boundingBox(),d.options.anchor,$m);return[f,{position:$,tooltip:d,state:p}]}))},[r,o,l,a,u,s,i,c,h]}class Tm extends xe{constructor(e){super(),Ee(this,e,Cm,Nm,be,{nodeLayouts:5})}}function Sm(t){let e,n,r,i,o,s,l,a,u;return{c(){e=U("g"),n=U("rect"),o=U("text"),s=Ze(t[0]),g(n,"width",r=t[1].width),g(n,"height",i=t[1].height),g(n,"fill","rgb(250,250,250)"),g(n,"stroke","rgb(134, 134, 139)"),g(n,"stroke-width","1"),g(n,"rx","6"),g(n,"class","svelte-76qmi8"),g(o,"y","-2"),g(o,"font-family",kn.family),g(o,"class","svelte-76qmi8"),g(e,"class","expand svelte-76qmi8"),g(e,"transform",l=`translate(${t[1].xMin},${t[1].yMin})`)},m(c,h){V(c,e,h),H(e,n),H(e,o),H(o,s),a||(u=[se(e,"click",t[5]),se(e,"dblclick",t[6]),se(e,"mouseenter",t[2]),se(e,"mouseleave",t[3])],a=!0)},p(c,[h]){h&2&&r!==(r=c[1].width)&&g(n,"width",r),h&2&&i!==(i=c[1].height)&&g(n,"height",i),h&1&&Mn(s,c[0]),h&2&&l!==(l=`translate(${c[1].xMin},${c[1].yMin})`)&&g(e,"transform",l)},i:Y,o:Y,d(c){c&&B(e),a=!1,Ke(u)}}}function Om(t,e,n){const r=Wt();let{nodeId:i}=e,{name:o}=e,{boundingBox:s}=e;function l(){r("nodeEnter",{nodeId:i})}function a(){r("nodeLeave",{nodeId:i})}function u(h){$e.call(this,t,h)}function c(h){$e.call(this,t,h)}return t.$$set=h=>{"nodeId"in h&&n(4,i=h.nodeId),"name"in h&&n(0,o=h.name),"boundingBox"in h&&n(1,s=h.boundingBox)},[o,s,l,a,i,u,c]}class Im extends xe{constructor(e){super(),Ee(this,e,Om,Sm,be,{nodeId:4,name:0,boundingBox:1})}}class gi{constructor(e,n,r={x:0,y:0},i=1){this.width=e,this.height=n,this.cameraPos=r,this.cameraScale=i}viewToWorld(){return $r.identity().translate(this.cameraPos.x,this.cameraPos.y)}worldToView(){return this.viewToWorld().inverse()}screenToView(){return $r.identity().scale(1/this.cameraScale).translate(-this.width/2,-this.height/2)}viewToScreen(){return this.screenToView().inverse()}worldToScreen(){const e=this.worldToView();return this.viewToScreen().scale(e.k).translate(e.x,e.y)}screenToWorld(){return this.worldToScreen().inverse()}screenWidth(){return this.width}screenHeight(){return this.height}moveBy(e,n){this.cameraPos.x+=e,this.cameraPos.y+=n}moveTo(e,n){this.cameraPos.x=e,this.cameraPos.y=n}resize(e,n){this.width=e,this.height=n}center(){return this.cameraPos}scale(){return this.cameraScale}scaleBy(e){this.cameraScale*=e}scaleTo(e){this.cameraScale=e}fit(e){const{x:n,y:r}=e.center;this.moveTo(n,r);const i=Math.min(this.width/e.width,this.height/e.height);this.scaleTo(i||1)}world(){const e=this.screenToWorld().apply(0,0),n=this.screenToWorld().apply(this.width,this.height);return new oe(e.x,e.y,n.x,n.y)}viewBox(){const e=this.world();return`${e.xMin} ${e.yMin} ${e.width} ${e.height}`}}class Am{constructor(e){P(this,"scaleMin",Number.MIN_VALUE),P(this,"scaleMax",Number.MAX_VALUE),P(this,"boundingBox",oe.infinity()),this.viewport=e}setViewport(e){this.viewport=e}setScaleExtent(e){return e.min!==void 0&&(this.scaleMin=e.min),e.max!==void 0&&(this.scaleMax=e.max),this}scaleExtent(){return{min:this.scaleMin,max:this.scaleMax}}setTranslationExtent(e){return e.xMin!==void 0&&(this.boundingBox.xMin=e.xMin),e.yMin!==void 0&&(this.boundingBox.yMin=e.yMin),e.xMax!==void 0&&(this.boundingBox.xMax=e.xMax),e.yMax!==void 0&&(this.boundingBox.yMax=e.yMax),this}translationExtent(){return this.boundingBox}limitScale(e){return Wn(this.scaleMin,this.scaleMax,e)}limitTranslation(e,n){return e=Wn(this.boundingBox.xMin,this.boundingBox.xMax,e),n=Wn(this.boundingBox.yMin,this.boundingBox.yMax,n),{x:e,y:n}}scaleBy(e){const n=this.limitScale(this.viewport.scale()*e);this.viewport.scaleTo(n)}scaleTo(e){const n=this.limitScale(e);this.viewport.scaleTo(n)}moveBy(e,n){const{x:r,y:i}=this.viewport.center(),o=this.limitTranslation(r+e,i+n);this.viewport.moveTo(o.x,o.y)}moveTo(e,n){const r=this.limitTranslation(e,n);this.viewport.moveTo(r.x,r.y)}}const $t=[];function qr(t,e=Y){let n;const r=new Set;function i(l){if(be(t,l)&&(t=l,n)){const a=!$t.length;for(const u of r)u[1](),$t.push(u,t);if(a){for(let u=0;u<$t.length;u+=2)$t[u][0]($t[u+1]);$t.length=0}}}function o(l){i(l(t))}function s(l,a=Y){const u=[l,a];return r.add(u),r.size===1&&(n=e(i,o)||Y),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}function No(t){return Object.prototype.toString.call(t)==="[object Date]"}function Pm(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Xr(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,o)=>Xr(t[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(No(t)&&No(e)){t=t.getTime(),e=e.getTime();const o=e-t;return s=>new Date(t+s*o)}const r=Object.keys(e),i={};return r.forEach(o=>{i[o]=Xr(t[o],e[o])}),o=>{const s={};return r.forEach(l=>{s[l]=i[l](o)}),s}}if(n==="number"){const r=e-t;return i=>t+i*r}throw new Error(`Cannot interpolate ${n} values`)}function Lm(t,e={}){const n=qr(t);let r,i=t;function o(s,l){if(t==null)return n.set(t=s),Promise.resolve();i=s;let a=r,u=!1,{delay:c=0,duration:h=400,easing:f=Rh,interpolate:d=Xr}=tt(tt({},e),l);if(h===0)return a&&(a.abort(),a=null),n.set(t=i),Promise.resolve();const p=Dh()+c;let _;return r=Fh(v=>{if(v<p)return!0;u||(_=d(t,s),typeof h=="function"&&(h=h(t,s)),u=!0),a&&(a.abort(),a=null);const $=v-p;return $>h?(n.set(t=s),!1):(n.set(t=_(f($/h))),!0)}),r.promise}return{set:o,update:(s,l)=>o(s(i,t),l),subscribe:n.subscribe}}function Rm(t){let e,n,r,i,o;return{c(){e=U("rect"),g(e,"x",n=t[0].xMin),g(e,"y",r=t[0].yMin),g(e,"width",i=t[0].width),g(e,"height",o=t[0].height),g(e,"fill","grey"),g(e,"opacity","0.2")},m(s,l){V(s,e,l)},p(s,[l]){l&1&&n!==(n=s[0].xMin)&&g(e,"x",n),l&1&&r!==(r=s[0].yMin)&&g(e,"y",r),l&1&&i!==(i=s[0].width)&&g(e,"width",i),l&1&&o!==(o=s[0].height)&&g(e,"height",o)},i:Y,o:Y,d(s){s&&B(e)}}}function Bm(t,e,n){let r,{start:i}=e,{end:o}=e;return t.$$set=s=>{"start"in s&&n(1,i=s.start),"end"in s&&n(2,o=s.end)},t.$$.update=()=>{t.$$.dirty&6&&n(0,r=oe.fromPoints(i,o))},[r,i,o]}class Dm extends xe{constructor(e){super(),Ee(this,e,Bm,Rm,be,{start:1,end:2})}}function Fm(t){let e,n,r;return{c(){e=U("defs"),n=U("marker"),r=U("path"),g(r,"d","M 0 0 L 10 5 L 0 10 L 4 5 z"),g(r,"fill","var(--gray-tertiary)"),Wh(r,"stroke-width","1"),g(n,"id","arrowhead"),g(n,"viewBox","0 0 10 10"),g(n,"refX","9"),g(n,"refY","5"),g(n,"markerUnits","strokeWidth"),g(n,"markerWidth","10"),g(n,"markerHeight","12"),g(n,"orient","auto")},m(i,o){V(i,e,o),H(e,n),H(n,r)},p:Y,d(i){i&&B(e)}}}function Vm(t){let e;const n=t[1].default,r=Ts(n,t,t[2],null),i=r||Fm();return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){r&&r.p&&(!e||s&4)&&Is(r,n,o,o[2],e?Os(n,o[2],s,null):As(o[2]),null)},i(o){e||(L(i,o),e=!0)},o(o){j(i,o),e=!1},d(o){i&&i.d(o)}}}function Wm(t){let e,n;return e=new ni({props:{self:t[0],$$slots:{default:[Vm]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.self=r[0]),i&4&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function jm(t,e,n){let{$$slots:r={},$$scope:i}=e,{self:o}=e;return t.$$set=s=>{"self"in s&&n(0,o=s.self),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i]}class Gm extends xe{constructor(e){super(),Ee(this,e,jm,Wm,be,{self:0})}}function $o(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function Co(t,e,n){const r=t.slice();return r[34]=e[n][0],r[35]=e[n][1],r}function To(t,e,n){const r=t.slice();return r[34]=e[n][0],r[40]=e[n][1].name,r[41]=e[n][1].boundingBox,r}function So(t,e){let n,r,i;function o(...s){return e[19](e[34],...s)}return r=new Im({props:{nodeId:e[34],name:e[40],boundingBox:e[41]}}),r.$on("dblclick",o),r.$on("nodeEnter",e[20]),r.$on("nodeLeave",e[21]),{key:t,first:null,c(){n=Fe(),ce(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),le(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.nodeId=e[34]),l[0]&4&&(a.name=e[40]),l[0]&4&&(a.boundingBox=e[41]),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ae(r,s)}}}function Oo(t,e){let n,r,i;function o(...s){return e[22](e[34],...s)}return r=new si({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("click",o),r.$on("nodeEnter",e[23]),r.$on("nodeLeave",e[24]),{key:t,first:null,c(){n=Fe(),ce(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),le(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ae(r,s)}}}function Io(t,e){let n,r,i;function o(...s){return e[25](e[34],...s)}return r=new si({props:{self:e[35],decoration:e[1].get(e[34])}}),r.$on("dblclick",o),r.$on("nodeEnter",e[26]),r.$on("nodeLeave",e[27]),{key:t,first:null,c(){n=Fe(),ce(r.$$.fragment),this.first=n},m(s,l){V(s,n,l),le(r,s,l),i=!0},p(s,l){e=s;const a={};l[0]&4&&(a.self=e[35]),l[0]&6&&(a.decoration=e[1].get(e[34])),r.$set(a)},i(s){i||(L(r.$$.fragment,s),i=!0)},o(s){j(r.$$.fragment,s),i=!1},d(s){s&&B(n),ae(r,s)}}}function Ao(t){let e,n;return e=new Dm({props:{start:t[3].start,end:t[3].end}}),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,i){const o={};i[0]&8&&(o.start=r[3].start),i[0]&8&&(o.end=r[3].end),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function zm(t){let e,n,r=[],i=new Map,o,s,l=[],a=new Map,u,c=[],h=new Map,f,d,p,_,v,$,k,y,w,b,C=De([...t[2].expanded.entries()]);const E=T=>T[34];for(let T=0;T<C.length;T+=1){let N=To(t,C,T),R=E(N);i.set(R,r[T]=So(R,N))}s=new Gm({props:{self:t[2].edges}});let I=De([...t[2].nodes.entries()]);const D=T=>T[34];for(let T=0;T<I.length;T+=1){let N=Co(t,I,T),R=D(N);a.set(R,l[T]=Oo(R,N))}let G=De([...t[2].collapsed.entries()]);const K=T=>T[34];for(let T=0;T<G.length;T+=1){let N=$o(t,G,T),R=K(N);h.set(R,c[T]=Io(R,N))}let W=t[3].kind==="brushing"&&Ao(t);return p=new Tm({props:{nodeLayouts:t[2].nodes}}),p.$on("nodeEnter",t[28]),p.$on("nodeLeave",t[29]),{c(){e=U("svg"),n=U("g");for(let T=0;T<r.length;T+=1)r[T].c();o=Fe(),ce(s.$$.fragment);for(let T=0;T<l.length;T+=1)l[T].c();u=Fe();for(let T=0;T<c.length;T+=1)c[T].c();f=Fe(),W&&W.c(),d=Fe(),ce(p.$$.fragment),g(n,"transform",_=t[6].toString()),g(e,"role","figure"),g(e,"width",v=t[0].screenWidth()),g(e,"height",$=t[0].screenHeight()),g(e,"style",k=`cursor: ${t[5]}`)},m(T,N){V(T,e,N),H(e,n);for(let R=0;R<r.length;R+=1)r[R]&&r[R].m(n,null);H(n,o),le(s,n,null);for(let R=0;R<l.length;R+=1)l[R]&&l[R].m(n,null);H(n,u);for(let R=0;R<c.length;R+=1)c[R]&&c[R].m(n,null);H(n,f),W&&W.m(n,null),H(n,d),le(p,n,null),t[30](e),y=!0,w||(b=[se(window,"mousemove",t[9]),se(window,"mouseup",t[8]),se(window,"keydown",t[14]),se(window,"keyup",t[15]),se(e,"mousedown",t[7]),se(e,"wheel",t[10])],w=!0)},p(T,N){N[0]&2052&&(C=De([...T[2].expanded.entries()]),Ae(),r=zn(r,N,E,1,T,C,i,n,Gn,So,o,To),Pe());const R={};N[0]&4&&(R.self=T[2].edges),s.$set(R),N[0]&8198&&(I=De([...T[2].nodes.entries()]),Ae(),l=zn(l,N,D,1,T,I,a,n,Gn,Oo,u,Co),Pe()),N[0]&4102&&(G=De([...T[2].collapsed.entries()]),Ae(),c=zn(c,N,K,1,T,G,h,n,Gn,Io,f,$o),Pe()),T[3].kind==="brushing"?W?(W.p(T,N),N[0]&8&&L(W,1)):(W=Ao(T),W.c(),L(W,1),W.m(n,d)):W&&(Ae(),j(W,1,1,()=>{W=null}),Pe());const Z={};N[0]&4&&(Z.nodeLayouts=T[2].nodes),p.$set(Z),(!y||N[0]&64&&_!==(_=T[6].toString()))&&g(n,"transform",_),(!y||N[0]&1&&v!==(v=T[0].screenWidth()))&&g(e,"width",v),(!y||N[0]&1&&$!==($=T[0].screenHeight()))&&g(e,"height",$),(!y||N[0]&32&&k!==(k=`cursor: ${T[5]}`))&&g(e,"style",k)},i(T){if(!y){for(let N=0;N<C.length;N+=1)L(r[N]);L(s.$$.fragment,T);for(let N=0;N<I.length;N+=1)L(l[N]);for(let N=0;N<G.length;N+=1)L(c[N]);L(W),L(p.$$.fragment,T),y=!0}},o(T){for(let N=0;N<r.length;N+=1)j(r[N]);j(s.$$.fragment,T);for(let N=0;N<l.length;N+=1)j(l[N]);for(let N=0;N<c.length;N+=1)j(c[N]);j(W),j(p.$$.fragment,T),y=!1},d(T){T&&B(e);for(let N=0;N<r.length;N+=1)r[N].d();ae(s);for(let N=0;N<l.length;N+=1)l[N].d();for(let N=0;N<c.length;N+=1)c[N].d();W&&W.d(),ae(p),t[30](null),w=!1,Ke(b)}}}function Hm(t){switch(t.kind){case"initial":return"grab";case"panning":return"grabbing";case"brushing":case"awaitBrushing":return"default"}}function qm(t,e,n){let r,i,o,{decorations:s}=e,{drawable:l}=e,{viewport:a}=e,{multiSelection:u}=e;const c=new Am(a);let h;function f(S){var F;let X=h.createSVGPoint();return"targetTouches"in S?(X.x=S.targetTouches[0].clientX,X.y=S.targetTouches[0].clientY):(X.x=S.clientX,X.y=S.clientY),X=X.matrixTransform((F=h.getScreenCTM())==null?void 0:F.inverse()),X}let d={kind:"initial"};function p(S){if(S.preventDefault(),!("targetTouches"in S)&&S.button!==0)return;const{x:F,y:X}=f(S),ee=a.screenToWorld().apply(F,X);S.shiftKey&&u?n(3,d={kind:"brushing",start:ee,end:ee}):(n(3,d={kind:"panning",start:ee,tmp:new gi(a.screenWidth(),a.screenHeight(),a.center(),a.scale())}),c.setViewport(d.tmp))}function _(){switch(d.kind){case"initial":return;case"panning":{a.scaleTo(d.tmp.scale());const{x:S,y:F}=d.tmp.center();a.moveTo(S,F),c.setViewport(a),n(3,d={kind:"initial"});break}case"brushing":{const S=oe.fromPoints(d.start,d.end),F=[...l.nodes.entries()].filter(([X,ee])=>S.encloses(ee.boundingBox())).map(([X,ee])=>X);y("brush",{nodes:F});break}}n(3,d={kind:"initial"})}function v(S){const{x:F,y:X}=f(S),ee=a.screenToWorld().apply(F,X);switch(d.kind){case"initial":return;case"panning":{const we=d.start.x-ee.x,fe=d.start.y-ee.y;c.moveBy(we,fe),n(0,a);break}case"brushing":{n(3,d.end=ee,d);break}}}function $(S){S.preventDefault();const F=-S.deltaY*(S.deltaMode===1?.05:S.deltaMode?1:.002),X=a.scale();if(c.scaleBy(Math.pow(2,F)),X===a.scale())return;const ee=a.center(),{x:we,y:fe}=f(S),_e=a.screenToWorld().apply(we,fe);c.moveBy(-(ee.x-_e.x)*F,-(ee.y-_e.y)*F),n(0,a)}async function k(S,F){const X=oe.fromCenterAndDimension(S.center,Math.max(a.screenWidth(),S.width),Math.max(a.screenHeight(),S.height)),{x:ee,y:we}=X.center,fe=Math.min(a.screenWidth()/S.width,a.screenHeight()/S.height)||1;if(F!==void 0&&F){const _e=Lm({...a.center(),k:a.scale()},{duration:1e3,easing:Pm});_e.subscribe(Me=>{c.moveTo(Me.x,Me.y),c.scaleTo(Me.k),n(0,a)}),await _e.set({x:ee,y:we,k:fe})}else c.moveTo(ee,we),c.scaleTo(fe),n(0,a)}const y=Wt();function w(S,F){S.stopPropagation(),y("collapse",{nodeId:F})}function b(S,F){S.stopPropagation(),y("expand",{nodeId:F})}function C(S,F){S.stopPropagation(),y("nodeClick",{nodeId:F,original:S})}function E(S){d.kind==="initial"&&S.shiftKey&&u&&n(3,d={kind:"awaitBrushing"})}function I(){d.kind==="awaitBrushing"&&n(3,d={kind:"initial"})}const D=(S,F)=>{w(F,S)};function G(S){$e.call(this,t,S)}function K(S){$e.call(this,t,S)}const W=(S,F)=>{C(F,S)};function T(S){$e.call(this,t,S)}function N(S){$e.call(this,t,S)}const R=(S,F)=>{b(F,S)};function Z(S){$e.call(this,t,S)}function ge(S){$e.call(this,t,S)}function me(S){$e.call(this,t,S)}function ve(S){$e.call(this,t,S)}function ue(S){ot[S?"unshift":"push"](()=>{h=S,n(4,h)})}return t.$$set=S=>{"decorations"in S&&n(1,s=S.decorations),"drawable"in S&&n(2,l=S.drawable),"viewport"in S&&n(0,a=S.viewport),"multiSelection"in S&&n(16,u=S.multiSelection)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(18,r=a.world()),t.$$.dirty[0]&262149&&c.setScaleExtent({min:Math.min(a.screenWidth()/l.boundingBox.width,a.screenHeight()/l.boundingBox.height)*.5,max:1}).setTranslationExtent(l.boundingBox.padded({l:r.width*.4,r:r.width*.4,t:r.height*.4,b:r.height*.4})),t.$$.dirty[0]&1&&n(6,i=a.worldToScreen().toString()),t.$$.dirty[0]&8&&n(5,o=Hm(d))},[a,s,l,d,h,o,i,p,_,v,$,w,b,C,E,I,u,k,r,D,G,K,W,T,N,R,Z,ge,me,ve,ue]}class Xm extends xe{constructor(e){super(),Ee(this,e,qm,zm,be,{decorations:1,drawable:2,viewport:0,multiSelection:16,setFocus:17},null,[-1,-1])}get setFocus(){return this.$$.ctx[17]}}function Ym(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$;return{c(){e=pe("div"),n=pe("canvas"),r=Je(),i=U("svg"),o=U("rect"),h=U("rect"),g(n,"class","svelte-133ndzu"),g(o,"fill","rgb(0, 122, 255)"),g(o,"x",s=t[6].x),g(o,"y",l=t[6].y),g(o,"width",a=t[6].w),g(o,"height",u=t[6].h),g(o,"opacity","0.1"),g(o,"style",c=t[5]?"cursor: grabbing":"cursor: grab"),g(h,"fill","none"),g(h,"stroke","rgb(0, 122, 255)"),g(h,"x",f=t[6].x),g(h,"y",d=t[6].y),g(h,"width",p=t[6].w),g(h,"height",_=t[6].h),g(i,"role","navigation"),g(i,"width",t[0]),g(i,"height",t[1]),g(i,"class","svelte-133ndzu"),g(e,"class","container svelte-133ndzu")},m(k,y){V(k,e,y),H(e,n),t[11](n),H(e,r),H(e,i),H(i,o),t[12](o),H(i,h),t[13](i),v||($=se(i,"mousedown",t[7]),v=!0)},p(k,[y]){y&64&&s!==(s=k[6].x)&&g(o,"x",s),y&64&&l!==(l=k[6].y)&&g(o,"y",l),y&64&&a!==(a=k[6].w)&&g(o,"width",a),y&64&&u!==(u=k[6].h)&&g(o,"height",u),y&32&&c!==(c=k[5]?"cursor: grabbing":"cursor: grab")&&g(o,"style",c),y&64&&f!==(f=k[6].x)&&g(h,"x",f),y&64&&d!==(d=k[6].y)&&g(h,"y",d),y&64&&p!==(p=k[6].w)&&g(h,"width",p),y&64&&_!==(_=k[6].h)&&g(h,"height",_),y&1&&g(i,"width",k[0]),y&2&&g(i,"height",k[1])},i:Y,o:Y,d(k){k&&B(e),t[11](null),t[12](null),t[13](null),v=!1,$()}}}function Um(t,e,n){let r,i;const o=Wt();function s(b){const C=r.worldToScreen().apply(b.xMin,b.yMin),E=r.worldToScreen().apply(b.xMax,b.yMax);return{x:C.x,y:C.y,w:E.x-C.x,h:E.y-C.y}}let{drawable:l}=e,{width:a}=e,{height:u}=e,{worldExtent:c}=e,h,f;function d(b){var C;let E=f.createSVGPoint();E.x=b.clientX,E.y=b.clientY,E=E.matrixTransform((C=f.getScreenCTM())==null?void 0:C.inverse());const I=r.screenToWorld().apply(E.x,E.y);o("viewportCenterDidChange",{center:I})}let p;function _(b){const C=r.screenToWorld().apply(0,0),E=r.screenToWorld().apply(b.dx,b.dy),I=c.center;I.x+=E.x-C.x,I.y+=E.y-C.y,o("viewportCenterDidChange",{center:I})}let v=!1;const $=Qu().on("drag",_).on("start",()=>n(5,v=!0)).on("end",()=>n(5,v=!1));Ds(()=>{cn(p).call($)});function k(b){ot[b?"unshift":"push"](()=>{h=b,n(2,h),n(0,a),n(1,u),n(8,l)})}function y(b){ot[b?"unshift":"push"](()=>{p=b,n(4,p)})}function w(b){ot[b?"unshift":"push"](()=>{f=b,n(3,f)})}return t.$$set=b=>{"drawable"in b&&n(8,l=b.drawable),"width"in b&&n(0,a=b.width),"height"in b&&n(1,u=b.height),"worldExtent"in b&&n(9,c=b.worldExtent)},t.$$.update=()=>{if(t.$$.dirty&3&&n(10,r=new gi(a,u)),t.$$.dirty&1280&&r.fit(l.boundingBox.padded(2)),t.$$.dirty&512&&n(6,i=s(c)),t.$$.dirty&263&&h){let b=h.getContext("2d");n(2,h.width=a,h),n(2,h.height=u,h),b.fillStyle="white",b.fillRect(0,0,a,u),b.lineWidth=.5;for(const{boundingBox:C}of l.expanded.values()){const E=s(C);b.fillStyle="rgb(250, 250, 250)",b.fillRect(E.x,E.y,E.w,E.h),b.strokeStyle="rgb(134, 134, 139)",b.strokeRect(E.x,E.y,E.w,E.h)}for(const C of l.nodes.values()){const E=s(C.boundingBox());b.fillStyle="rgb(134, 134, 139)",b.fillRect(E.x,E.y,E.w,E.h)}for(const C of l.collapsed.values()){const E=s(C.boundingBox());b.fillStyle="rgb(134, 134, 139)",b.fillRect(E.x,E.y,E.w,E.h)}}},[a,u,h,f,p,v,i,d,l,c,r,k,y,w]}class Km extends xe{constructor(e){super(),Ee(this,e,Um,Ym,be,{drawable:8,width:0,height:1,worldExtent:9})}}function Po(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Zm(t){let e,n;return{c(){e=pe("span"),n=Ze(t[0]),g(e,"class","svelte-122vmdc")},m(r,i){V(r,e,i),H(e,n)},p(r,i){i&1&&Mn(n,r[0])},d(r){r&&B(e)}}}function Qm(t){let e,n,r,i,o=De(t[3]),s=[];for(let c=0;c<o.length;c+=1)s[c]=Ro(Po(t,o,c));function l(c,h){if(h&6&&(n=null),h&6&&(r=null),n==null&&(n=!!c[1].collapsed.has(c[2])),n)return e1;if(r==null&&(r=!!c[1].expanded.has(c[2])),r)return Jm}let a=l(t,-1),u=a&&a(t);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=Je(),u&&u.c(),i=Fe()},m(c,h){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(c,h);V(c,e,h),u&&u.m(c,h),V(c,i,h)},p(c,h){if(h&8){o=De(c[3]);let f;for(f=0;f<o.length;f+=1){const d=Po(c,o,f);s[f]?s[f].p(d,h):(s[f]=Ro(d),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}a!==(a=l(c,h))&&(u&&u.d(1),u=a&&a(c),u&&(u.c(),u.m(i.parentNode,i)))},d(c){c&&(B(e),B(i)),Bs(s,c),u&&u.d(c)}}}function Lo(t){let e;return{c(){e=pe("span"),e.textContent="⟩",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function Ro(t){let e,n=t[5]+"",r,i,o,s=t[7]<t[3].length-1&&Lo();return{c(){e=pe("span"),r=Ze(n),i=Je(),s&&s.c(),o=Fe(),g(e,"class","svelte-122vmdc")},m(l,a){V(l,e,a),H(e,r),V(l,i,a),s&&s.m(l,a),V(l,o,a)},p(l,a){a&8&&n!==(n=l[5]+"")&&Mn(r,n),l[7]<l[3].length-1?s||(s=Lo(),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(l){l&&(B(e),B(i),B(o)),s&&s.d(l)}}}function Jm(t){let e;return{c(){e=pe("span"),e.textContent="(Double click to collapse)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function e1(t){let e;return{c(){e=pe("span"),e.textContent="(Double click to expand)",g(e,"class","svelte-122vmdc")},m(n,r){V(n,e,r)},d(n){n&&B(e)}}}function t1(t){let e;function n(o,s){return o[2]?Qm:Zm}let r=n(t),i=r(t);return{c(){e=pe("div"),i.c()},m(o,s){V(o,e,s),i.m(e,null)},p(o,[s]){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null)))},i:Y,o:Y,d(o){o&&B(e),i.d()}}}function n1(t,e,n){let r,{defaultText:i="Hover over any node to show more information."}=e,{network:o}=e,{drawable:s}=e,{currentNode:l}=e;return t.$$set=a=>{"defaultText"in a&&n(0,i=a.defaultText),"network"in a&&n(4,o=a.network),"drawable"in a&&n(1,s=a.drawable),"currentNode"in a&&n(2,l=a.currentNode)},t.$$.update=()=>{t.$$.dirty&20&&n(3,r=l?[l,...o.parents(l)].reverse().map(a=>o.node(a).humanReadable()||a):[])},[i,s,l,r,o]}class r1 extends xe{constructor(e){super(),Ee(this,e,n1,t1,be,{defaultText:0,network:4,drawable:1,currentNode:2})}}function Bo(t){let e,n,r;function i(s){t[34](s)}let o={decorations:t[8],drawable:t[15],multiSelection:t[7]};return t[13]!==void 0&&(o.viewport=t[13]),e=new Xm({props:o}),t[33](e),ot.push(()=>Xh(e,"viewport",i)),e.$on("expand",t[18]),e.$on("collapse",t[19]),e.$on("nodeEnter",t[20]),e.$on("nodeLeave",t[21]),e.$on("nodeClick",t[22]),e.$on("brush",t[25]),{c(){ce(e.$$.fragment)},m(s,l){le(e,s,l),r=!0},p(s,l){const a={};l[0]&256&&(a.decorations=s[8]),l[0]&32768&&(a.drawable=s[15]),l[0]&128&&(a.multiSelection=s[7]),!n&&l[0]&8192&&(n=!0,a.viewport=s[13],zh(()=>n=!1)),e.$set(a)},i(s){r||(L(e.$$.fragment,s),r=!0)},o(s){j(e.$$.fragment,s),r=!1},d(s){t[33](null),ae(e,s)}}}function Do(t){let e,n,r,i,o,s=t[3]&&Fo(t),l=t[17]&&Vo(t),a=t[4]&&Wo(t);return{c(){e=pe("div"),s&&s.c(),n=Je(),r=pe("div"),l&&l.c(),i=Je(),a&&a.c(),g(r,"class","myc-navigation-controls svelte-15hd81r"),g(e,"class","myc-navigation svelte-15hd81r")},m(u,c){V(u,e,c),s&&s.m(e,null),H(e,n),H(e,r),l&&l.m(r,null),H(r,i),a&&a.m(r,null),o=!0},p(u,c){u[3]?s?(s.p(u,c),c[0]&8&&L(s,1)):(s=Fo(u),s.c(),L(s,1),s.m(e,n)):s&&(Ae(),j(s,1,1,()=>{s=null}),Pe()),u[17]?l?l.p(u,c):(l=Vo(u),l.c(),l.m(r,i)):l&&(l.d(1),l=null),u[4]?a?a.p(u,c):(a=Wo(u),a.c(),a.m(r,null)):a&&(a.d(1),a=null)},i(u){o||(L(s),o=!0)},o(u){j(s),o=!1},d(u){u&&B(e),s&&s.d(),l&&l.d(),a&&a.d()}}}function Fo(t){let e,n;return e=new r1({props:{network:t[0],currentNode:t[16],drawable:t[15]}}),{c(){ce(e.$$.fragment)},m(r,i){le(e,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.network=r[0]),i[0]&65536&&(o.currentNode=r[16]),i[0]&32768&&(o.drawable=r[15]),e.$set(o)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){ae(e,r)}}}function Vo(t){let e,n,r,i;return{c(){e=pe("div"),n=pe("button"),n.textContent="Collapse All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=se(n,"click",t[35]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function Wo(t){let e,n,r,i;return{c(){e=pe("div"),n=pe("button"),n.textContent="Show All",g(n,"class","resetView svelte-15hd81r")},m(o,s){V(o,e,s),H(e,n),r||(i=se(n,"click",t[36]),r=!0)},p:Y,d(o){o&&B(e),r=!1,i()}}}function jo(t){let e,n;return{c(){e=Ze("Powered by "),n=pe("a"),n.textContent="Mycelium",g(n,"href","https://apple.github.io/ml-mycelium"),g(n,"target","_blank"),g(n,"class","svelte-15hd81r")},m(r,i){V(r,e,i),V(r,n,i)},d(r){r&&(B(e),B(n))}}}function Go(t){let e,n,r;return n=new Km({props:{width:t[1]*Rn,height:t[2]*Rn,worldExtent:t[13].world(),drawable:t[15]}}),n.$on("viewportCenterDidChange",t[24]),{c(){e=pe("div"),ce(n.$$.fragment),g(e,"class","myc-minimap svelte-15hd81r")},m(i,o){V(i,e,o),le(n,e,null),r=!0},p(i,o){const s={};o[0]&2&&(s.width=i[1]*Rn),o[0]&4&&(s.height=i[2]*Rn),o[0]&8192&&(s.worldExtent=i[13].world()),o[0]&32768&&(s.drawable=i[15]),n.$set(s)},i(i){r||(L(n.$$.fragment,i),r=!0)},o(i){j(n.$$.fragment,i),r=!1},d(i){i&&B(e),ae(n)}}}function i1(t){let e,n=t[0],r,i,o,s,l,a,u,c=Bo(t),h=(t[3]||t[4])&&Do(t),f=t[5]&&jo(),d=t[6]&&Go(t);return{c(){e=pe("div"),c.c(),r=Je(),h&&h.c(),i=Je(),o=pe("div"),f&&f.c(),s=Je(),d&&d.c(),g(o,"class","myc-overlay svelte-15hd81r"),g(e,"class","myc-container svelte-15hd81r")},m(p,_){V(p,e,_),c.m(e,null),H(e,r),h&&h.m(e,null),H(e,i),H(e,o),f&&f.m(o,null),H(e,s),d&&d.m(e,null),l=!0,a||(u=se(window,"keydown",t[23]),a=!0)},p(p,_){_[0]&1&&be(n,n=p[0])?(Ae(),j(c,1,1,Y),Pe(),c=Bo(p),c.c(),L(c,1),c.m(e,r)):c.p(p,_),p[3]||p[4]?h?(h.p(p,_),_[0]&24&&L(h,1)):(h=Do(p),h.c(),L(h,1),h.m(e,i)):h&&(Ae(),j(h,1,1,()=>{h=null}),Pe()),p[5]?f||(f=jo(),f.c(),f.m(o,null)):f&&(f.d(1),f=null),p[6]?d?(d.p(p,_),_[0]&64&&L(d,1)):(d=Go(p),d.c(),L(d,1),d.m(e,null)):d&&(Ae(),j(d,1,1,()=>{d=null}),Pe())},i(p){l||(L(c),L(h),L(d),l=!0)},o(p){j(c),j(h),j(d),l=!1},d(p){p&&B(e),c.d(p),h&&h.d(),f&&f.d(),d&&d.d(),a=!1,u()}}}const Rn=.2;function o1(t,e,n){let r,i,o,s,l=Y,a=()=>(l(),l=Fr(I,x=>n(37,s=x)),I),u,c=Y,h=()=>(c(),c=Fr(D,x=>n(38,u=x)),D);t.$$.on_destroy.push(()=>l()),t.$$.on_destroy.push(()=>c());let{network:f}=e,{width:d}=e,{height:p}=e,{showBreadcrumbs:_}=e,{showResetView:v}=e,{watermark:$}=e,{minimap:k}=e,{autoResize:y}=e,{multiSelection:w}=e,{decorations:b=new Map}=e,{collapsed:C=new Set(f.modules())}=e,{layoutProvider:E}=e;const I=qr(new Map);a();const D=qr(new Map);h(),Gh(oi,{selections:I,tooltips:D});const G=new Map,K=Wt();function W(x,q){T.resize(x,q),n(13,T)}let T=new gi(d,p);Ds(async()=>{await me()});let N=[],R;function Z(x){const{yMin:q,yMax:ne}=x,Q=20,Te=_?25/(T.screenHeight()||1)*(ne-q):0;return x.padded({l:Q,r:Q,t:Q+Te,b:Q})}async function ge(x,q){var ne;x=Array.isArray(x)?x:[x];let Q=oe.infinity();for(const Te of x){const Se=(ne=i.nodes.get(Te))==null?void 0:ne.boundingBox();Se&&(Q=Q.union(Se))}Q.isEmpty()||await R.setFocus(Z(Q),q)}async function me(x){await R.setFocus(Z(i.boundingBox),x)}async function ve(x,q){!w&&x.length>1&&(console.warn("Received multiple selections but `multiSelection` config was set to `false`."),x=[x[0]]);const ne={expand:!0,collapseOthers:{threshold:1e3},...q},{expand:Q,collapse:Te}=mm(f,x,C,ne);let Se=!1;ne.expand&&(Q.size>1&&ne.expand==="single"||Q.size>0&&(Q.forEach(Xe=>C.delete(Xe)),Se=!0)),Te.size>0&&ne.collapseOthers!==!1&&(ne.collapseOthers===!0||wm(f,C)>ne.collapseOthers.threshold)&&(Te.forEach(Xe=>C.add(Xe)),Se=!0),Se?(n(26,C),await Pn(),gr(I,s=new Map(x.map(Xe=>[Xe,new Set])),s),await me(!0)):gr(I,s=new Map(x.map(Xe=>[Xe,new Set])),s)}async function ue(x){const q=s;return gr(I,s=x,s),await Pn(),q}async function S(){return await ue(new Map)}async function F(){n(26,C=new Set(f.modules())),await me(!0)}async function X(x){fe(x),C.delete(x.detail.nodeId),n(26,C),await Pn(),await me(!0)}async function ee(x){fe(x),C.add(x.detail.nodeId),n(26,C),await Pn(),await me(!0)}function we(x){var q;N[N.length-1]!==x.detail.nodeId&&(N.push(x.detail.nodeId),n(32,N));const ne=x.detail.nodeId,Q=(q=i.nodes.get(ne))==null?void 0:q.options.tooltip;if(Q){const Te=u.get(ne);Te===void 0?G.set(ne,xm(D,ne,Q().build())):Te.state!=="active"&&Te.state!=="pinned"&&Rl(D,ne)}}function fe(x){N.pop(),n(32,N);const q=x.detail.nodeId;clearTimeout(G.get(q)),Bl(D,q)}async function _e(x){const q=i.nodes.get(x.detail.nodeId);q!=null&&q.options.selectable&&(w&&x.detail.original.metaKey?Me(await ue(new Map([...s.entries(),[x.detail.nodeId,new Set]]))):Me(await ue(new Map([[x.detail.nodeId,new Set]]))))}function Me(x){const q=([ne,Q])=>({primaryNodeId:ne,secondaryIds:[...Q.values()]});K("selectionDidChange",{selections:[...s.entries()].map(q),previous:[...x.entries()].map(q)})}async function qe(x){x.key==="Escape"&&Me(await S())}function ct(x){const{x:q,y:ne}=x.detail.center;T.moveTo(q,ne),n(13,T)}async function te(x){Me(await ue(new Map(x.detail.nodes.map(q=>[q,new Set]))))}function de(x){ot[x?"unshift":"push"](()=>{R=x,n(14,R)})}function zt(x){T=x,n(13,T)}const $n=()=>F(),Ht=async()=>{await me(!0)};return t.$$set=x=>{"network"in x&&n(0,f=x.network),"width"in x&&n(1,d=x.width),"height"in x&&n(2,p=x.height),"showBreadcrumbs"in x&&n(3,_=x.showBreadcrumbs),"showResetView"in x&&n(4,v=x.showResetView),"watermark"in x&&n(5,$=x.watermark),"minimap"in x&&n(6,k=x.minimap),"autoResize"in x&&n(27,y=x.autoResize),"multiSelection"in x&&n(7,w=x.multiSelection),"decorations"in x&&n(8,b=x.decorations),"collapsed"in x&&n(26,C=x.collapsed),"layoutProvider"in x&&n(28,E=x.layoutProvider)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(17,r=C.size<f.modules().length),t.$$.dirty[0]&335544321&&n(15,i=E.compute(f,C)),t.$$.dirty[0]&6&&W(d,p),t.$$.dirty[1]&2&&n(16,o=N.at(N.length-1))},[f,d,p,_,v,$,k,w,b,I,D,me,F,T,R,i,o,r,X,ee,we,fe,_e,qe,ct,te,C,y,E,ge,ve,S,N,de,zt,$n,Ht]}class s1 extends xe{constructor(e){super(),Ee(this,e,o1,i1,be,{network:0,width:1,height:2,showBreadcrumbs:3,showResetView:4,watermark:5,minimap:6,autoResize:27,multiSelection:7,decorations:8,collapsed:26,layoutProvider:28,selectionStore:9,tooltipStore:10,setFocus:29,resetFocus:11,setSelections:30,clearSelections:31,collapseAll:12},null,[-1,-1])}get selectionStore(){return this.$$.ctx[9]}get tooltipStore(){return this.$$.ctx[10]}get setFocus(){return this.$$.ctx[29]}get resetFocus(){return this.$$.ctx[11]}get setSelections(){return this.$$.ctx[30]}get clearSelections(){return this.$$.ctx[31]}get collapseAll(){return this.$$.ctx[12]}}class mi{constructor(e,n){P(this,"decorations"),this.app=e,this.options=n,this.decorations=new Map}static create(e,n,r){const i={width:n.getBoundingClientRect().width,height:n.getBoundingClientRect().height,autoResize:!0,showBreadcrumbs:!0,showResetView:!0,watermark:!0,minimap:!0,layoutProvider:new gm,multiSelection:!0,...r};i.watermark&&(console.info("╭┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╮"),console.info("| Powered by the Mycelium network     |"),console.info("| visualizer. For more information:   |"),console.info("| https://apple.github.io/ml-mycelium |"),console.info("╰┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈╯"));const o=new s1({target:n,props:{network:e,...i}});return i.autoResize&&new ResizeObserver(()=>{o.$set({width:n.clientWidth,height:n.clientHeight})}).observe(n),new mi(o,i)}onSelectionDidChange(e){this.app.$on("selectionDidChange",n=>{e(n.detail)})}async setSelection(e,n){await this.app.setSelections([e],n)}async setSelections(e,n){await this.app.setSelections(e,n)}async collapseAll(){await this.app.collapseAll()}async clearSelections(){await this.app.clearSelections()}async setFocus(e,n){await this.app.setFocus(e,n)}async resetFocus(e){await this.app.resetFocus(e)}setDecoration(e,n){this.decorations.set(e,n),this.app.$set({decorations:this.decorations})}removeDecoration(e){this.decorations.delete(e),this.app.$set({decorations:this.decorations})}clearDecorations(){this.decorations.clear(),this.app.$set({decorations:this.decorations})}setNetwork(e){this.app.$set({network:e,collapsed:new Set(e.modules())})}getOptions(){return this.options}}function l1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$,k,y,w,b,C,E,I,D,G=t[0]?"|":"/",K,W,T,N,R,Z,ge,me,ve,ue,S,F,X,ee,we,fe,_e,Me,qe,ct;return{c(){e=M("div"),n=M("div"),n.textContent="+power-",r=A(),i=M("span"),o=M("span"),o.textContent="-------------",s=M("span"),s.textContent="------------",l=z("Light Bulb"),a=A(),u=M("div"),c=M("div"),h=M("div"),h.textContent="|",f=A(),d=M("div"),p=z("|"),_=A(),v=M("div"),$=z("|"),k=A(),y=M("div"),w=M("div"),w.textContent="|",b=A(),C=M("div"),E=M("div"),I=M("button"),I.textContent="switch",D=A(),K=z(G),W=A(),T=M("div"),N=z("|"),R=A(),Z=M("div"),ge=M("div"),ge.textContent="|",me=A(),ve=M("div"),ue=z("|"),S=A(),F=M("div"),X=z("|"),ee=A(),we=M("div"),fe=M("span"),fe.textContent="---------------------",_e=M("span"),Me=z("--------------------"),O(o,"color","yellow"),O(i,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),O(e,"display","flex"),O(e,"width","500px"),O(h,"color","yellow"),O(d,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(v,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Be(c,"class","w svelte-1c1c3yo"),O(w,"color","yellow"),O(I,"position","absolute"),O(I,"left","-70px"),O(E,"position","relative"),O(C,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(T,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Be(y,"class","w svelte-1c1c3yo"),O(ge,"color","yellow"),O(ve,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(F,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),Be(Z,"class","w svelte-1c1c3yo"),O(fe,"color","yellow"),O(_e,"color",t[0]?"rgba(255,255,255,0.5)":"yellow"),O(u,"width","300px")},m(te,de){ie(te,e,de),m(e,n),m(e,r),m(e,i),m(i,o),m(i,s),m(i,l),ie(te,a,de),ie(te,u,de),m(u,c),m(c,h),m(c,f),m(c,d),m(d,p),m(c,_),m(c,v),m(v,$),m(u,k),m(u,y),m(y,w),m(y,b),m(y,C),m(C,E),m(E,I),m(E,D),m(E,K),m(y,W),m(y,T),m(T,N),m(u,R),m(u,Z),m(Z,ge),m(Z,me),m(Z,ve),m(ve,ue),m(Z,S),m(Z,F),m(F,X),m(u,ee),m(u,we),m(we,fe),m(we,_e),m(_e,Me),qe||(ct=bn(I,"click",t[1]),qe=!0)},p(te,[de]){de&1&&O(i,"color",te[0]?"rgba(255,255,255,0.5)":"yellow"),de&1&&O(d,"color",te[0]?"yellow":"rgba(255,255,255,0.5)"),de&1&&O(v,"color",te[0]?"rgba(255,255,255,0.5)":"yellow"),de&1&&G!==(G=te[0]?"|":"/")&&Ge(K,G),de&1&&O(C,"color",te[0]?"yellow":"rgba(255,255,255,0.5)"),de&1&&O(T,"color",te[0]?"rgba(255,255,255,0.5)":"yellow"),de&1&&O(ve,"color",te[0]?"yellow":"rgba(255,255,255,0.5)"),de&1&&O(F,"color",te[0]?"rgba(255,255,255,0.5)":"yellow"),de&1&&O(_e,"color",te[0]?"rgba(255,255,255,0.5)":"yellow")},i:ke,o:ke,d(te){te&&(re(e),re(a),re(u)),qe=!1,ct()}}}function a1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class u1 extends at{constructor(e){super(),lt(this,e,a1,l1,st,{})}}function c1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f;return{c(){e=M("div"),n=M("div"),r=M("button"),r.textContent="power switch",i=A(),o=M("span"),l=z(s),a=A(),u=M("span"),c=z("-----------------------------Light Bulb"),O(o,"background",t[0]?"steelblue":"red"),O(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(e,"display","flex"),O(e,"width","500px")},m(d,p){ie(d,e,p),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),h||(f=bn(r,"click",t[1]),h=!0)},p(d,[p]){p&1&&s!==(s=d[0]?"on":"off")&&Ge(l,s),p&1&&O(o,"background",d[0]?"steelblue":"red"),p&1&&O(u,"color",d[0]?"yellow":"rgba(255,255,255,0.5)")},i:ke,o:ke,d(d){d&&re(e),h=!1,f()}}}function h1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class f1 extends at{constructor(e){super(),lt(this,e,h1,c1,st,{})}}function d1(t){let e,n,r,i,o,s=t[0]?"on":"off",l,a,u,c,h,f,d,p;return{c(){e=M("div"),n=M("div"),r=M("button"),r.textContent="power switch",i=A(),o=M("span"),l=z(s),a=A(),u=M("span"),c=M("div"),c.textContent="-----------------------------Light Bulb",h=A(),f=M("div"),f.textContent="<-----------------------------|",O(o,"background",t[0]?"steelblue":"red"),O(u,"color",t[0]?"yellow":"rgba(255,255,255,0.5)"),O(e,"display","flex"),O(e,"width","500px")},m(_,v){ie(_,e,v),m(e,n),m(n,r),m(n,i),m(n,o),m(o,l),m(e,a),m(e,u),m(u,c),m(u,h),m(u,f),d||(p=bn(r,"click",t[1]),d=!0)},p(_,[v]){v&1&&s!==(s=_[0]?"on":"off")&&Ge(l,s),v&1&&O(o,"background",_[0]?"steelblue":"red"),v&1&&O(u,"color",_[0]?"yellow":"rgba(255,255,255,0.5)")},i:ke,o:ke,d(_){_&&re(e),d=!1,p()}}}function p1(t,e,n){let r=!1;return[r,()=>n(0,r=!r)]}class g1 extends at{constructor(e){super(),lt(this,e,p1,d1,st,{})}}function m1(t){let e;return{c(){e=M("div"),O(e,"width",t[0]+"px"),O(e,"height",t[1]+"px"),O(e,"outline","1px dashed lightgrey"),O(e,"border-radius","3px")},m(n,r){ie(n,e,r),t[5](e)},p(n,[r]){r&1&&O(e,"width",n[0]+"px"),r&2&&O(e,"height",n[1]+"px")},i:ke,o:ke,d(n){n&&re(e),t[5](null)}}}function w1(t,e){function n(r){for(const i of r.out)t.setEdge(r.nodeId,i.nodeId),i.name!=="power"&&n(i)}n(e.source)}function _1(t,e,n){let{circuit:r}=e,{width:i=500}=e,{height:o=500}=e;function s(f,d,p=!1,_=!1){let v=p?"yellow":"lightgrey";return new wr.Node(f,new wr.VStack(new wr.Text(d))).with({backgroundColor:v}).with({..._&&{badge:{color:p?"steelblue":"crimson",text:p?"1":"0"}}})}function l(f,d,p,_=!1,v=!1){f.setNode(d,s(d,p,_,v))}function a(f,d){let p=0,_=0;function v($){let k=!1,y=!1;$.name==="wire"?($.nodeId=`wire[${p}]`,p++):$.name==="switch"?($.nodeId=`switch[${_}]`,$.on&&(k=!0),y=!0,_++):$.name==="signal"?($.nodeId="signal",y=!0):($.nodeId="power",k=!0),$.data===1&&(k=!0),l(f,$.nodeId,$.name,k,y);for(const w of $.out)w.name==="power"||w.nodeId!==void 0||v(w)}v(d.source)}let u,c;function h(f){xr[f?"unshift":"push"](()=>{u=f,n(2,u)})}return t.$$set=f=>{"circuit"in f&&n(3,r=f.circuit),"width"in f&&n(0,i=f.width),"height"in f&&n(1,o=f.height)},t.$$.update=()=>{if(t.$$.dirty&28&&u){const f=new pi;r.resetNodeIds(),a(f,r),w1(f,r),c?(console.log(r),c.setNetwork(f)):n(4,c=mi.create(f,u,{showBreadcrumbs:!1,minimap:!1,watermark:!1,showResetView:!1}))}},[i,o,u,r,c,h]}class b1 extends at{constructor(e){super(),lt(this,e,_1,m1,st,{circuit:3,width:0,height:1})}}function zo(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function Ho(t){let e,n,r,i,o,s=t[0].signal.data===1?"on (1)":"off (0)",l,a,u,c;function h(p,_){return p[1]?v1:y1}let f=h(t),d=f(t);return u=new b1({props:{circuit:t[0]}}),{c(){d.c(),e=A(),n=M("div"),r=z("Output Signal "),i=M("div"),o=A(),l=z(s),a=A(),Re(u.$$.fragment),O(i,"height","10px"),O(i,"width","10px"),O(i,"background",t[0].signal.data===1?"steelblue":"crimson"),O(n,"display","flex"),O(n,"gap","5px"),O(n,"align-items","center")},m(p,_){d.m(p,_),ie(p,e,_),ie(p,n,_),m(n,r),m(n,i),m(n,o),m(n,l),ie(p,a,_),Oe(u,p,_),c=!0},p(p,_){f===(f=h(p))&&d?d.p(p,_):(d.d(1),d=f(p),d&&(d.c(),d.m(e.parentNode,e))),(!c||_&1)&&O(i,"background",p[0].signal.data===1?"steelblue":"crimson"),(!c||_&1)&&s!==(s=p[0].signal.data===1?"on (1)":"off (0)")&&Ge(l,s);const v={};_&1&&(v.circuit=p[0]),u.$set(v)},i(p){c||(ye(u.$$.fragment,p),c=!0)},o(p){Ne(u.$$.fragment,p),c=!1},d(p){p&&(re(e),re(n),re(a)),d.d(p),Ie(u,p)}}}function y1(t){let e,n=Si(t[0].other.filter(Xo)),r=[];for(let i=0;i<n.length;i+=1)r[i]=qo(zo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ko()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);ie(i,e,o)},p(i,o){if(o&1){n=Si(i[0].other.filter(Xo));let s;for(s=0;s<n.length;s+=1){const l=zo(i,n,s);r[s]?r[s].p(l,o):(r[s]=qo(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&re(e),jl(r,i)}}}function v1(t){let e,n,r,i,o,s=t[2]?"on (1)":"off (0)",l,a,u;return{c(){e=M("div"),n=M("button"),n.textContent="switch all",r=A(),i=M("div"),o=A(),l=z(s),O(i,"height","10px"),O(i,"width","10px"),O(i,"background",t[2]?"steelblue":"crimson"),O(e,"display","flex"),O(e,"gap","5px"),O(e,"align-items","center"),O(e,"margin-right","10px")},m(c,h){ie(c,e,h),m(e,n),m(e,r),m(e,i),m(e,o),m(e,l),a||(u=bn(n,"click",t[4]),a=!0)},p(c,h){h&4&&O(i,"background",c[2]?"steelblue":"crimson"),h&4&&s!==(s=c[2]?"on (1)":"off (0)")&&Ge(l,s)},d(c){c&&re(e),a=!1,u()}}}function qo(t){let e,n,r=t[6].name+"",i,o,s,l,a,u,c=t[6].on?"on (1)":"off (0)",h,f,d,p;function _(){return t[5](t[6],t[7],t[8])}return{c(){e=M("div"),n=M("button"),i=z(r),o=A(),s=z(t[8]),l=A(),a=M("div"),u=A(),h=z(c),f=A(),O(a,"height","10px"),O(a,"width","10px"),O(a,"background",t[6].on?"steelblue":"crimson"),O(e,"display","flex"),O(e,"gap","5px"),O(e,"align-items","center"),O(e,"margin-right","10px")},m(v,$){ie(v,e,$),m(e,n),m(n,i),m(n,o),m(n,s),m(e,l),m(e,a),m(e,u),m(e,h),m(e,f),d||(p=bn(n,"click",_),d=!0)},p(v,$){t=v,$&1&&r!==(r=t[6].name+"")&&Ge(i,r),$&1&&O(a,"background",t[6].on?"steelblue":"crimson"),$&1&&c!==(c=t[6].on?"on (1)":"off (0)")&&Ge(h,c)},d(v){v&&re(e),d=!1,p()}}}function k1(t){let e,n,r=t[0]&&Ho(t);return{c(){r&&r.c(),e=Ko()},m(i,o){r&&r.m(i,o),ie(i,e,o),n=!0},p(i,[o]){i[0]?r?(r.p(i,o),o&1&&ye(r,1)):(r=Ho(i),r.c(),ye(r,1),r.m(e.parentNode,e)):r&&(Yl(),Ne(r,1,1,()=>{r=null}),Ul())},i(i){n||(ye(r),n=!0)},o(i){Ne(r),n=!1},d(i){i&&re(e),r&&r.d(i)}}}const Xo=t=>t.name==="switch";function E1(t,e,n){let{circuit:r}=e,{sameSignals:i=!1}=e,o=!0;function s(){for(const u of r.other.filter(c=>c.name==="switch"))o?u.switchOn():u.switchOff()}const l=()=>{n(2,o=!o),s(),r.reset(),r.simulate(),n(0,r)},a=(u,c,h)=>{n(0,c[h].on=!u.on,r),r.reset(),r.simulate()};return t.$$set=u=>{"circuit"in u&&n(0,r=u.circuit),"sameSignals"in u&&n(1,i=u.sameSignals)},[r,i,o,s,l,a]}class en extends at{constructor(e){super(),lt(this,e,E1,k1,st,{circuit:0,sameSignals:1})}}function x1(t){let e,n,r,i,o,s,l,a,u,c,h,f,d,p,_,v,$,k,y,w,b,C,E,I,D,G,K,W,T,N,R,Z,ge,me,ve,ue,S,F,X,ee,we,fe,_e,Me,qe,ct,te,de,zt,$n,Ht,x,q,ne,Q,Te,Se,Xe,ir,qt,wi,or,_i,sr,bi,lr,vt,yi,Xt,Yt,vi,kt,ki,ar,Ei,ur,xi,Ut,Kt,Mi,Et,Ni,Zt,Qt,$i,xt,Cn;return v=new f1({}),W=new g1({}),X=new u1({}),te=new en({props:{circuit:na()}}),Q=new en({props:{circuit:ea()}}),Se=new en({props:{circuit:ta()}}),vt=new Oi({props:{func:rt}}),kt=new en({props:{circuit:Ii()}}),Et=new en({props:{circuit:Ii(),sameSignals:!0}}),xt=new Oi({props:{func:pt}}),{c(){e=M("div"),n=M("details"),r=M("summary"),r.innerHTML="<b>Electrical Sim</b>",i=A(),o=M("div"),o.textContent=`I want to simulate the basic properties of electricity here. I want
			to show that I can create universal boolean logic gates simply by
			modulating electricity.`,s=A(),l=M("div"),l.innerHTML=`<b class="neon" style="--color: cyan;">Question:</b> Why is electricity
			good at representing info?`,a=A(),u=M("div"),u.textContent=`Electricity can be modeled similar to the flow of water (although
			the analogy breaks down in key places). But the point is we can
			propagate a signal over a wire (or pipe).`,c=A(),h=M("div"),h.textContent=`Simply put, I can have a wire where a signal travels down. Depending
			on the material we can change how this signal gets sent (speed,
			power, ...).`,f=A(),d=M("div"),p=M("div"),p.innerHTML=`<b class="neon" style="--color: orange;">Example</b>: using a
				pipe, I could send a signal down a wire to do something at the
				other end. For modeling purposes, this happens instantly.`,_=A(),Re(v.$$.fragment),$=A(),k=M("div"),k.textContent=`Now it actually aint this simple. Given I have an electrical signal,
			the electrons don't just bend to my will.`,y=A(),w=M("div"),w.innerHTML=`<b class="neon" style="--color: red;">So How do I coax the electrons to signal?</b>: A quick simple model for getting an electron to do what you want
			is with + and -. Just think of these as two signals. Electrons are
			made up of the - signal and will actively want to move towards +
			signals.`,b=A(),C=M("div"),C.textContent=`In other words, at my example above, I needed the switch side to
			somehow ejects - electrons and have the lightbulb have + that the -
			electrons can move towards. One such way to make the lightbulb +
			like is to remove as many electrons from the lightbulb so that the
			electrons want to move there.`,E=A(),I=M("div"),I.textContent=`This is unfeasible since it also costs energy to do that. Instead,
			leverage the fact that we are ejecting electrons from the switch. In
			other words, as we remove - from the switch, it itself will become +
			like.`,D=A(),G=M("div"),K=z(`In other words, complete the circuit so to speak. Just add another
			wire that goes past the signal destination (light bulb) back to the
			source.
			`),Re(W.$$.fragment),T=A(),N=M("div"),N.textContent=`Note that this only works if the power source stops electrons from
			flowing backwards. This lets the electrons flow over the longer path
			to reach the ++ part of it instead of just staying in the power
			source.`,R=A(),Z=M("div"),ge=M("b"),ge.textContent="Can we encode interesting operations in this simple system?",me=z(`: for example, can we encode a few boolean logic gate? If so, then
			we could reconstruct another other logic gate and compute anything
			(also worth revisiting deeply later).`),ve=A(),ue=M("div"),S=M("b"),S.textContent="Not Gate",F=A(),Re(X.$$.fragment),ee=A(),we=M("div"),we.textContent=`When the switch is off, the output signal is on. But when the switch
			is on the output signal is off. This is because electricity will
			find the shortest path to the + signal. So most of the electrons
			will find there way down the signal once we turn on the switch.`,fe=A(),_e=M("div"),_e.textContent=`The funny thing is, you can see why electricity represents boolean
			operations so well. In my visualization, to show the property that
			electricity takes the shorter path requires boolean operations in
			the code itself. So it's almost like nature has those properties
			built in, and we just combine them to look nicer in our brain. This
			is a circular argument though because by definition we are
			describing electricity with boolean logic.`,Me=A(),qe=M("div"),ct=z(`To change up notation, here I'll have a graph where wires are also
			nodes and edges just show what is connected to what . Note that if
			there is a branch, two new wires are created. So the not gate in
			this notation looks like
			`),Re(te.$$.fragment),de=A(),zt=M("div"),zt.textContent=`Some of these wires can be merged, but again, I show branching (like
			the wire branching from the middle splits the top into two). Again,
			the edges aren't wires in this diagram, wires are separate nodes and
			conceptual connections are edges.`,$n=A(),Ht=M("div"),x=M("details"),q=M("summary"),q.textContent=`In this same notation, you can represent the original
					circuits too`,ne=z(`
				Incomplete circuit:
				`),Re(Q.$$.fragment),Te=z(`

				One switch:
				`),Re(Se.$$.fragment),Xe=A(),ir=M("div"),qt=M("b"),qt.textContent=`Now let's create the boolean gates which take in two inputs (two
				switches) and output a single signal.`,wi=A(),or=M("div"),or.textContent=`It turns out that you can create any other logic gate by using a
			NAND gate (logical and not). This is weird. Think about the
			statement that anything computable can be represented as
			manipulation bits with NAND operations. Weird.`,_i=A(),sr=M("div"),sr.textContent=`So let's create a NAND gate. It looks like a combination of the AND
			gate and the NOT gate.`,bi=A(),lr=M("div"),Re(vt.$$.fragment),yi=A(),Xt=M("div"),Yt=M("b"),Yt.textContent="NAND Gate",vi=z(`: toggle to see
			outputs given inputs
			`),Re(kt.$$.fragment),ki=A(),ar=M("div"),ar.textContent=`Like I said, it looks like a combination of the AND and NOT gate.
			It's really just adding another switch right after the first NOT
			switch.`,Ei=A(),ur=M("div"),ur.textContent=`Note that it reverts to a NOT gate for the 0,0 and 1,1 example. So
			we can easily recreate a NOT gate from NAND by just feeding the same
			value in.`,xi=A(),Ut=M("div"),Kt=M("b"),Kt.textContent="NOT Gate",Mi=z(` with NAND by
			copying signal to control both switches
			`),Re(Et.$$.fragment),Ni=A(),Zt=M("div"),Qt=M("b"),Qt.textContent="AND Gate",$i=z(` is just
			NOT(NAND(a, b)) -> AND(a,b). So I can combine the previous two
			circuits.
			`),Re(xt.$$.fragment),Be(r,"class","neon"),O(r,"cursor","pointer"),O(r,"--color","lime"),Be(ge,"class","neon"),O(ge,"--color","deeppink"),Be(S,"class","neon"),O(S,"--color","fuchsia"),Be(q,"class","neon"),O(q,"cursor","pointer"),O(q,"--color","lime"),Be(qt,"class","neon"),O(qt,"--color","violet"),Be(Yt,"class","neon"),O(Yt,"--color","cyan"),Be(Kt,"class","neon"),O(Kt,"--color","red"),Be(Qt,"class","neon"),O(Qt,"--color","lime"),n.open=!0},m(J,Dl){ie(J,e,Dl),m(e,n),m(n,r),m(n,i),m(n,o),m(n,s),m(n,l),m(n,a),m(n,u),m(n,c),m(n,h),m(n,f),m(n,d),m(d,p),m(d,_),Oe(v,d,null),m(n,$),m(n,k),m(n,y),m(n,w),m(n,b),m(n,C),m(n,E),m(n,I),m(n,D),m(n,G),m(G,K),Oe(W,G,null),m(n,T),m(n,N),m(n,R),m(n,Z),m(Z,ge),m(Z,me),m(n,ve),m(n,ue),m(ue,S),m(ue,F),Oe(X,ue,null),m(n,ee),m(n,we),m(n,fe),m(n,_e),m(n,Me),m(n,qe),m(qe,ct),Oe(te,qe,null),m(n,de),m(n,zt),m(n,$n),m(n,Ht),m(Ht,x),m(x,q),m(x,ne),Oe(Q,x,null),m(x,Te),Oe(Se,x,null),m(n,Xe),m(n,ir),m(ir,qt),m(n,wi),m(n,or),m(n,_i),m(n,sr),m(n,bi),m(n,lr),Oe(vt,lr,null),m(n,yi),m(n,Xt),m(Xt,Yt),m(Xt,vi),Oe(kt,Xt,null),m(n,ki),m(n,ar),m(n,Ei),m(n,ur),m(n,xi),m(n,Ut),m(Ut,Kt),m(Ut,Mi),Oe(Et,Ut,null),m(n,Ni),m(n,Zt),m(Zt,Qt),m(Zt,$i),Oe(xt,Zt,null),Cn=!0},p:ke,i(J){Cn||(ye(v.$$.fragment,J),ye(W.$$.fragment,J),ye(X.$$.fragment,J),ye(te.$$.fragment,J),ye(Q.$$.fragment,J),ye(Se.$$.fragment,J),ye(vt.$$.fragment,J),ye(kt.$$.fragment,J),ye(Et.$$.fragment,J),ye(xt.$$.fragment,J),Cn=!0)},o(J){Ne(v.$$.fragment,J),Ne(W.$$.fragment,J),Ne(X.$$.fragment,J),Ne(te.$$.fragment,J),Ne(Q.$$.fragment,J),Ne(Se.$$.fragment,J),Ne(vt.$$.fragment,J),Ne(kt.$$.fragment,J),Ne(Et.$$.fragment,J),Ne(xt.$$.fragment,J),Cn=!1},d(J){J&&re(e),Ie(v),Ie(W),Ie(X),Ie(te),Ie(Q),Ie(Se),Ie(vt),Ie(kt),Ie(Et),Ie(xt)}}}function M1(t){return console.log("NOT"),console.log(Ot(!1)),console.log(Ot(!0)),console.log("NAND"),console.log(rt(!1,!1)),console.log(rt(!1,!0)),console.log(rt(!0,!1)),console.log(rt(!0,!0)),console.log("AND"),console.log(pt(!1,!1)),console.log(pt(!1,!0)),console.log(pt(!0,!1)),console.log(pt(!0,!0)),console.log("OR"),console.log(tn(!1,!1)),console.log(tn(!1,!0)),console.log(tn(!0,!1)),console.log(tn(!0,!0)),console.log("XOR"),console.log(Tn(!1,!1)),console.log(Tn(!1,!0)),console.log(Tn(!0,!1)),console.log(Tn(!0,!0)),[]}class N1 extends at{constructor(e){super(),lt(this,e,M1,x1,st,{})}}function $1(t){let e,n,r;return n=new N1({}),{c(){e=M("main"),Re(n.$$.fragment),Be(e,"class","svelte-kqkoi6")},m(i,o){ie(i,e,o),Oe(n,e,null),r=!0},p:ke,i(i){r||(ye(n.$$.fragment,i),r=!0)},o(i){Ne(n.$$.fragment,i),r=!1},d(i){i&&re(e),Ie(n)}}}class C1 extends at{constructor(e){super(),lt(this,e,null,$1,st,{})}}new C1({target:document.getElementById("app")});
